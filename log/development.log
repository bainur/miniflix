  [1m[35m (1393.0ms)[0m  [1m[35mCREATE DATABASE "miniflix_development" ENCODING = 'unicode'[0m
  [1m[35m (780.1ms)[0m  [1m[35mCREATE DATABASE "sample_project_test" ENCODING = 'unicode'[0m
Started GET "/" for ::1 at 2021-01-01 20:55:34 +0700
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 6.5ms | Allocations: 407)
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 0.0ms | Allocations: 2387)


Started GET "/admin" for ::1 at 2021-01-01 20:55:38 +0700
Processing by RailsAdmin::MainController#dashboard as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (Duration: 8.8ms | Allocations: 11478)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_head.html.haml (Duration: 1480.2ms | Allocations: 588118)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_secondary_navigation.html.haml (Duration: 5.9ms | Allocations: 4573)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_navigation.html.haml (Duration: 10.7ms | Allocations: 10173)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (Duration: 1.9ms | Allocations: 2186)
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/pjax.html.haml (Duration: 3.6ms | Allocations: 5022)
Completed 200 OK in 1781ms (Views: 1521.1ms | ActiveRecord: 2.7ms | Allocations: 727924)


Started GET "/admin/?_pjax=%5Bdata-pjax-container%5D" for ::1 at 2021-01-01 20:55:47 +0700
Processing by RailsAdmin::MainController#dashboard as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]"}
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/pjax
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/pjax (Duration: 0.2ms | Allocations: 69)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms | Allocations: 1672)


Started GET "/admin/?_pjax=%5Bdata-pjax-container%5D" for ::1 at 2021-01-01 20:55:49 +0700
Processing by RailsAdmin::MainController#dashboard as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]"}
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/pjax
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/pjax (Duration: 0.2ms | Allocations: 69)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 1267)


  [1m[35m (100.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (85.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210101135633)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (46.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135633"]]
  [1m[35m (10.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20210101135652)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (103.5ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (90.7ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp[0m
  [1m[35m (39.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (31.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135652"]]
  [1m[35m (22.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-01-01 13:57:01.570581"], ["updated_at", "2021-01-01 13:57:01.570581"]]
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/admin/" for ::1 at 2021-01-01 20:57:37 +0700
  
NoMethodError (undefined method `devise' for #<Class:0x00007f4548740f10>):
  
app/models/user.rb:4:in `<class:User>'
app/models/user.rb:3:in `<main>'
config/routes.rb:2:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/admin/" for ::1 at 2021-01-01 20:57:48 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RailsAdmin::MainController#dashboard as HTML
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.0ms | Allocations: 463)


Started GET "/users/sign_in" for ::1 at 2021-01-01 20:57:48 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 600)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3598)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/bainur/projects/miniflix/public/packs
[Webpacker] Hash: 76145d9ce4575ebaa29b
Version: webpack 4.44.2
Time: 1793ms
Built at: 01/01/2021 8:57:51 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-c229f7c7014cf8c8d494.js    124 KiB  application  [emitted] [immutable]  application
js/application-c229f7c7014cf8c8d494.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-c229f7c7014cf8c8d494.js js/application-c229f7c7014cf8c8d494.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 3122ms (Views: 3109.7ms | ActiveRecord: 3.7ms | Allocations: 65550)


Started GET "/users/sign_in" for ::1 at 2021-01-01 20:57:53 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 135)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms | Allocations: 4693)


Started GET "/users/sign_in" for ::1 at 2021-01-01 20:57:54 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 135)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1061)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms | Allocations: 4684)


Started GET "/users/sign_in" for ::1 at 2021-01-01 20:57:55 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 135)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1061)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms | Allocations: 4666)


Started GET "/admin" for ::1 at 2021-01-01 20:58:02 +0700
Processing by RailsAdmin::MainController#dashboard as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 309)


Started GET "/users/sign_in" for ::1 at 2021-01-01 20:58:02 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 135)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1061)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 4671)


Started GET "/" for ::1 at 2021-01-01 20:58:17 +0700
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 4.5ms | Allocations: 185)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms | Allocations: 1315)


Started GET "/admin" for ::1 at 2021-01-01 20:58:21 +0700
Processing by RailsAdmin::MainController#dashboard as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 1244)


  
NoMethodError (undefined method `new_user_session_url' for #<Module:0x0000564f1e4ef458>):
  
actionpack (6.0.3.4) lib/action_dispatch/routing/routes_proxy.rb:45:in `new_user_session_url'
devise (4.7.3) lib/devise/failure_app.rb:161:in `scope_url'
devise (4.7.3) lib/devise/failure_app.rb:127:in `redirect_url'
devise (4.7.3) lib/devise/failure_app.rb:87:in `redirect'
devise (4.7.3) lib/devise/failure_app.rb:43:in `respond'
actionpack (6.0.3.4) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.4) lib/abstract_controller/base.rb:136:in `process'
actionpack (6.0.3.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.4) lib/action_controller/metal.rb:238:in `block in action'
devise (4.7.3) lib/devise/failure_app.rb:23:in `call'
devise (4.7.3) lib/devise/delegator.rb:7:in `call'
warden (1.2.9) lib/warden/manager.rb:143:in `call_failure_app'
warden (1.2.9) lib/warden/manager.rb:129:in `process_unauthenticated'
warden (1.2.9) lib/warden/manager.rb:44:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.4) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/admin" for ::1 at 2021-01-01 20:58:37 +0700
Processing by RailsAdmin::MainController#dashboard as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 814)


Started GET "/users/sign_in" for ::1 at 2021-01-01 20:58:37 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 525)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1984)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 10.2ms | ActiveRecord: 3.7ms | Allocations: 11838)


Started GET "/users/sign_up" for ::1 at 2021-01-01 20:59:08 +0700
Processing by Devise::RegistrationsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_error_messages.html.erb (Duration: 0.5ms | Allocations: 195)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 121)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/registrations/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1908)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms | Allocations: 6407)


Started POST "/users" for ::1 at 2021-01-01 20:59:20 +0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"+byyTO8356H+dgBO3b5bvqhbahNoAY7ppvj92utuBEGkiS/860yOR8tWTkygzs8U6l/Mt++oaTHr2E7VzhSbJg==", "user"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2021-01-01 13:59:20.811090"], ["updated_at", "2021-01-01 13:59:20.811090"], ["email", "admin@email.com"], ["encrypted_password", "$2a$12$mD0J2XgmRAglFKNvIf4eVOJfxg7kCnWQH6w.pBV5lkctbMXVrLrZu"]]
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/
Completed 302 Found in 354ms (ActiveRecord: 24.0ms | Allocations: 10650)


Started GET "/admin/" for ::1 at 2021-01-01 20:59:20 +0700
Processing by RailsAdmin::MainController#dashboard as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (Duration: 12.2ms | Allocations: 12978)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_head.html.haml (Duration: 39.6ms | Allocations: 35251)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_secondary_navigation.html.haml (Duration: 4.1ms | Allocations: 4730)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_navigation.html.haml (Duration: 8.7ms | Allocations: 10292)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (Duration: 2.6ms | Allocations: 2567)
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/pjax.html.haml (Duration: 4.1ms | Allocations: 5018)
Completed 200 OK in 195ms (Views: 81.5ms | ActiveRecord: 3.4ms | Allocations: 159254)


Started GET "/admin/user?_pjax=%5Bdata-pjax-container%5D" for ::1 at 2021-01-01 20:59:28 +0700
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"user"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY users.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (Duration: 44.8ms | Allocations: 44620)
Completed 200 OK in 53ms (Views: 47.8ms | ActiveRecord: 0.9ms | Allocations: 49881)


Started GET "/admin/user/new?_pjax=%5Bdata-pjax-container%5D" for ::1 at 2021-01-01 20:59:33 +0700
Processing by RailsAdmin::MainController#new as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"user"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_field.html.haml (Duration: 2.3ms | Allocations: 1761)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_field.html.haml (Duration: 0.2ms | Allocations: 171)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_field.html.haml (Duration: 0.2ms | Allocations: 154)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_datetime.html.haml (Duration: 3.0ms | Allocations: 2636)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_datetime.html.haml (Duration: 0.4ms | Allocations: 317)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_submit_buttons.html.haml (Duration: 9.3ms | Allocations: 10299)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax (Duration: 27.2ms | Allocations: 21741)
Completed 200 OK in 36ms (Views: 31.6ms | ActiveRecord: 0.4ms | Allocations: 26110)


Started GET "/admin/user?_pjax=%5Bdata-pjax-container%5D" for ::1 at 2021-01-01 20:59:34 +0700
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"user"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY users.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (Duration: 13.0ms | Allocations: 8093)
Completed 200 OK in 21ms (Views: 16.0ms | ActiveRecord: 0.9ms | Allocations: 11877)


Started GET "/admin/user/export?_pjax=%5Bdata-pjax-container%5D" for ::1 at 2021-01-01 20:59:35 +0700
Processing by RailsAdmin::MainController#export as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"user"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/export.html.haml within layouts/rails_admin/pjax
  [1m[35m (0.3ms)[0m  [1m[34mSELECT ''::text AS str;[0m
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/export.html.haml within layouts/rails_admin/pjax (Duration: 24.1ms | Allocations: 31234)
Completed 200 OK in 38ms (Views: 28.6ms | ActiveRecord: 0.6ms | Allocations: 35650)


Started GET "/admin/user/new?_pjax=%5Bdata-pjax-container%5D" for ::1 at 2021-01-01 20:59:36 +0700
Processing by RailsAdmin::MainController#new as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"user"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_field.html.haml (Duration: 0.3ms | Allocations: 160)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_field.html.haml (Duration: 0.3ms | Allocations: 156)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_field.html.haml (Duration: 0.3ms | Allocations: 152)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_datetime.html.haml (Duration: 0.9ms | Allocations: 315)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_datetime.html.haml (Duration: 0.4ms | Allocations: 315)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_submit_buttons.html.haml (Duration: 0.9ms | Allocations: 413)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax (Duration: 8.9ms | Allocations: 4585)
Completed 200 OK in 17ms (Views: 12.6ms | ActiveRecord: 0.4ms | Allocations: 8612)


Started GET "/admin/user?_pjax=%5Bdata-pjax-container%5D" for ::1 at 2021-01-01 20:59:36 +0700
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"user"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY users.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (Duration: 13.7ms | Allocations: 8087)
Completed 200 OK in 20ms (Views: 16.1ms | ActiveRecord: 0.7ms | Allocations: 11873)


Started GET "/admin/user?model_name=user&query=&_pjax=%5Bdata-pjax-container%5D" for ::1 at 2021-01-01 20:59:39 +0700
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"user", "query"=>"", "_pjax"=>"[data-pjax-container]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY users.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (Duration: 14.5ms | Allocations: 8078)
Completed 200 OK in 22ms (Views: 17.1ms | ActiveRecord: 0.8ms | Allocations: 11852)


Started DELETE "/users/sign_out" for ::1 at 2021-01-01 20:59:45 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"47452R+Gxddy0IPSHafH9T7VuTN08R4t6W0ryU8OP8pNHQaXfXOfGsFWFF1+XU1SUTy/qX4ISgtWn/0yT6VDuw=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 0.3ms | Allocations: 4851)


Started GET "/" for ::1 at 2021-01-01 20:59:45 +0700
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 6.4ms | Allocations: 181)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms | Allocations: 915)


Started GET "/" for ::1 at 2021-01-01 21:01:13 +0700
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.1ms | Allocations: 7)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 1896)


Started GET "/admin" for ::1 at 2021-01-01 21:01:16 +0700
Processing by RailsAdmin::MainController#dashboard as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 410)


Started GET "/accounts/login" for ::1 at 2021-01-01 21:01:16 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 149)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1101)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 5.6ms | ActiveRecord: 3.5ms | Allocations: 9154)


Started GET "/accounts/login" for ::1 at 2021-01-01 21:01:36 +0700
  
ActionController::RoutingError (No route matches [GET] "/accounts/login"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/admin" for ::1 at 2021-01-01 21:01:41 +0700
Processing by RailsAdmin::MainController#dashboard as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 437)


Started GET "/admin/login" for ::1 at 2021-01-01 21:01:41 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 147)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1087)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 6.7ms | ActiveRecord: 4.2ms | Allocations: 9140)


Started GET "/admin/" for ::1 at 2021-01-01 21:01:47 +0700
Processing by RailsAdmin::MainController#dashboard as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 313)


Started GET "/admin/login" for ::1 at 2021-01-01 21:01:47 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 135)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1060)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 4672)


Started GET "/admin/login" for ::1 at 2021-01-01 21:02:06 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 147)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1134)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 6.1ms | ActiveRecord: 3.8ms | Allocations: 9159)


Started POST "/admin/login" for ::1 at 2021-01-01 21:02:13 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"q8+Apt1b7IW0Uqdf7CUgbFUCVPam7z+wULmTiReTAChKDBWN1sE+jFz0Wl13F2bSBJKnBmR9PYraovKzaqq/wA==", "user"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.4ms | Allocations: 2132)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"q8+Apt1b7IW0Uqdf7CUgbFUCVPam7z+wULmTiReTAChKDBWN1sE+jFz0Wl13F2bSBJKnBmR9PYraovKzaqq/wA==", "user"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 135)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 1063)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 282ms (Views: 12.0ms | ActiveRecord: 0.0ms | Allocations: 4569)


Started POST "/admin/login" for ::1 at 2021-01-01 21:02:20 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"zNcI7WmuniTxNTFyFobTkwB1ISSUqH5CR3RxE1J4w/ctFJ3GYjRMLRmTzHCNtJUtUeXS1FY6fHjNbxApL0F8Hw==", "user"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms | Allocations: 1864)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"zNcI7WmuniTxNTFyFobTkwB1ISSUqH5CR3RxE1J4w/ctFJ3GYjRMLRmTzHCNtJUtUeXS1FY6fHjNbxApL0F8Hw==", "user"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 135)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1060)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 282ms (Views: 6.2ms | ActiveRecord: 0.0ms | Allocations: 4561)


Started POST "/admin/login" for ::1 at 2021-01-01 21:02:24 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"ewbACaVKvQ0jpawQPiTxHpOiQuECoCCWjQowYfubNGmaxVUirtBvBMsDURKlFregwjKxEcAyIqwHEVFbhqKLgQ==", "user"=>{"email"=>"admin@email.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@email.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/admin/
Completed 302 Found in 279ms (ActiveRecord: 0.4ms | Allocations: 3298)


Started GET "/admin/" for ::1 at 2021-01-01 21:02:25 +0700
Processing by RailsAdmin::MainController#dashboard as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/dashboard.html.haml within layouts/rails_admin/application (Duration: 2.1ms | Allocations: 1409)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_head.html.haml (Duration: 67.5ms | Allocations: 28845)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_secondary_navigation.html.haml (Duration: 4.2ms | Allocations: 1386)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_navigation.html.haml (Duration: 4.8ms | Allocations: 1567)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (Duration: 1.7ms | Allocations: 471)
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/pjax.html.haml (Duration: 1.5ms | Allocations: 527)
Completed 200 OK in 88ms (Views: 80.7ms | ActiveRecord: 0.9ms | Allocations: 38073)


Started GET "/admin/user?_pjax=%5Bdata-pjax-container%5D" for ::1 at 2021-01-01 21:02:32 +0700
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"user"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY users.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (Duration: 13.0ms | Allocations: 8118)
Completed 200 OK in 20ms (Views: 15.3ms | ActiveRecord: 0.7ms | Allocations: 11941)


Started GET "/admin/user/new?_pjax=%5Bdata-pjax-container%5D" for ::1 at 2021-01-01 21:02:41 +0700
Processing by RailsAdmin::MainController#new as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"user"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_field.html.haml (Duration: 0.2ms | Allocations: 160)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_field.html.haml (Duration: 0.2ms | Allocations: 156)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_field.html.haml (Duration: 0.2ms | Allocations: 153)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_datetime.html.haml (Duration: 0.4ms | Allocations: 316)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_datetime.html.haml (Duration: 0.3ms | Allocations: 316)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_submit_buttons.html.haml (Duration: 0.5ms | Allocations: 412)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax (Duration: 14.1ms | Allocations: 7295)
Completed 200 OK in 21ms (Views: 17.5ms | ActiveRecord: 0.3ms | Allocations: 11319)


Started GET "/admin/user?_pjax=%5Bdata-pjax-container%5D" for ::1 at 2021-01-01 21:02:43 +0700
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"user"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY users.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/pjax (Duration: 12.2ms | Allocations: 8081)
Completed 200 OK in 20ms (Views: 14.4ms | ActiveRecord: 0.8ms | Allocations: 11842)


Started GET "/admin/user/new?_pjax=%5Bdata-pjax-container%5D" for ::1 at 2021-01-01 21:02:56 +0700
Processing by RailsAdmin::MainController#new as HTML
  Parameters: {"_pjax"=>"[data-pjax-container]", "model_name"=>"user"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_field.html.haml (Duration: 0.3ms | Allocations: 160)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_field.html.haml (Duration: 0.3ms | Allocations: 156)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_field.html.haml (Duration: 0.2ms | Allocations: 152)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_datetime.html.haml (Duration: 0.5ms | Allocations: 315)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_form_datetime.html.haml (Duration: 0.6ms | Allocations: 315)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/_submit_buttons.html.haml (Duration: 0.9ms | Allocations: 412)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/new.html.haml within layouts/rails_admin/pjax (Duration: 9.2ms | Allocations: 4578)
Completed 200 OK in 17ms (Views: 13.7ms | ActiveRecord: 0.3ms | Allocations: 8597)


Started POST "/admin/user/new" for ::1 at 2021-01-01 21:02:59 +0700
Processing by RailsAdmin::MainController#new as HTML
  Parameters: {"authenticity_token"=>"UmiSHrmak8FybH+O5g35GO9KdUIFg6orBjFaEeuBzkD5UoMb9o/6jRnmwheo+cajJf+KjTGteeaYYVfb+VZxkQ==", "user"=>{"email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "reset_password_sent_at"=>"[FILTERED]", "remember_created_at"=>""}, "return_to"=>"http://localhost:3000/admin/user", "_continue"=>"", "model_name"=>"user"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
Redirected to http://localhost:3000/admin/user
Filter chain halted as :check_for_cancel rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1562)


Started GET "/admin/user" for ::1 at 2021-01-01 21:02:59 +0700
Processing by RailsAdmin::MainController#index as HTML
  Parameters: {"model_name"=>"user"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/initializers/rails_admin.rb:7:in `block (2 levels) in <main>'
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY users.id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 20], ["OFFSET", 0]]
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/rails_admin/main/index.html.haml within layouts/rails_admin/application (Duration: 11.7ms | Allocations: 8078)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_head.html.haml (Duration: 32.2ms | Allocations: 28738)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_secondary_navigation.html.haml (Duration: 1.6ms | Allocations: 1304)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_navigation.html.haml (Duration: 2.2ms | Allocations: 1481)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/_sidebar_navigation.html.haml (Duration: 0.9ms | Allocations: 467)
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/pjax.html.haml
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views/layouts/rails_admin/pjax.html.haml (Duration: 2.5ms | Allocations: 1672)
Completed 200 OK in 56ms (Views: 50.8ms | ActiveRecord: 0.8ms | Allocations: 43038)


Started GET "/" for ::1 at 2021-01-04 11:06:32 +0700
  [1m[35m (46.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 24.4ms | Allocations: 295)
Completed 200 OK in 146ms (Views: 107.9ms | ActiveRecord: 0.0ms | Allocations: 1656)


Started GET "/admin" for ::1 at 2021-01-04 11:14:26 +0700
Processing by RailsAdmin::MainController#dashboard as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 302)


Started GET "/admin/login" for ::1 at 2021-01-04 11:14:27 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 1.0ms | Allocations: 603)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 13.0ms | Allocations: 2894)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 513ms (Views: 445.8ms | ActiveRecord: 51.5ms | Allocations: 57730)


Started POST "/admin/login" for ::1 at 2021-01-04 11:14:29 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"HGTKNEHZ6UsvDC1t9OZca4XCYNt45I1ZVcPfv3Jh+jclVPe06abqdi7PfPDfJQH7L7wmp8RK97uMWKAZ93av7g==", "user"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (76.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user1@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 222ms (ActiveRecord: 76.3ms | Allocations: 2471)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"HGTKNEHZ6UsvDC1t9OZca4XCYNt45I1ZVcPfv3Jh+jclVPe06abqdi7PfPDfJQH7L7wmp8RK97uMWKAZ93av7g==", "user"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 135)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 330ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 5078)


Started POST "/admin/login" for ::1 at 2021-01-04 11:14:32 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"Bhg1xS3JfGNQWCtmCxy9DRe0suw57nZZSmAlCrG9LRs/KAhFhbZ/XlGbevsg3+Cdvcr0kIVADLuT+1qsNKp4wg==", "user"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user1@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.5ms | Allocations: 1869)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"Bhg1xS3JfGNQWCtmCxy9DRe0suw57nZZSmAlCrG9LRs/KAhFhbZ/XlGbevsg3+Cdvcr0kIVADLuT+1qsNKp4wg==", "user"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 135)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1061)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 275ms (Views: 5.6ms | ActiveRecord: 0.0ms | Allocations: 4560)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMovies (20210104041803)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (397.1ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "name" character varying, "year" smallint, "director" character varying(60), "main_star" character varying(60), "description" text, "favorited" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104041803"]]
  [1m[35m (27.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenres (20210104043143)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (43.7ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "name" character varying(64), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "movies_genres" ("movie_id" bigint, "genre_id" bigint)[0m
  [1m[35m (51.5ms)[0m  [1m[35mCREATE  INDEX  "index_movies_genres_on_movie_id" ON "movies_genres"  ("movie_id")[0m
  [1m[35m (42.3ms)[0m  [1m[35mCREATE  INDEX  "index_movies_genres_on_genre_id" ON "movies_genres"  ("genre_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104043143"]]
  [1m[35m (18.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (20.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2021-01-04 11:33:42 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 5.4ms | Allocations: 183)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.0ms | Allocations: 2358)


Started GET "/phppgadmin" for ::1 at 2021-01-04 11:33:45 +0700
  
ActionController::RoutingError (No route matches [GET] "/phppgadmin"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mMovie Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mGenre Destroy (0.3ms)[0m  [1m[31mDELETE FROM "genres"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mMovie Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mGenre Destroy (0.3ms)[0m  [1m[31mDELETE FROM "genres"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "STAR WARS: THE RISE OF SKYWALKER"], ["year", 1977], ["director", "J.J. Abrams"], ["main_star", "Mark Hammil, Adam Driver"], ["description", "When it's discovered that the evil Emperor Palpatine did not die at the hands of Darth Vader, the rebels must race against the clock to find out his whereabouts. Finn and Poe lead the Resistance to put a stop to the First Order's plans to form a new Empire, while Rey anticipates her inevitable confrontation with Kylo"], ["created_at", "2021-01-04 04:52:00.025921"], ["updated_at", "2021-01-04 04:52:00.025921"]]
  [1m[35m (18.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "THE LORD OF THE RINGS - THE RETURN OF THE KING"], ["year", 2003], ["director", "Peter Jackson"], ["main_star", "Elijah Wood, Ian Mc Kellen"], ["description", "The culmination of nearly 10 years' work and conclusion\nto Peter Jackson's epic trilogy based on the timeless J.R.R. Tolkien classic,\n 'The Lord of the Rings: The Return of the King' presents the final confrontation between the forces of good and evil fighting for control of the future of Middle-earth. Hobbits Frodo and Sam reach Mordor in their quest to destroy the `one ring', while Aragorn leads the forces of good against Sauron's evil army at the stone city of Minas Tirith."], ["created_at", "2021-01-04 04:52:00.048889"], ["updated_at", "2021-01-04 04:52:00.048889"]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Action"], ["created_at", "2021-01-04 04:52:00.063558"], ["updated_at", "2021-01-04 04:52:00.063558"]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Adventure"], ["created_at", "2021-01-04 04:52:00.070528"], ["updated_at", "2021-01-04 04:52:00.070528"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Animation"], ["created_at", "2021-01-04 04:52:00.081956"], ["updated_at", "2021-01-04 04:52:00.081956"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Biography"], ["created_at", "2021-01-04 04:52:00.093765"], ["updated_at", "2021-01-04 04:52:00.093765"]]
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Comedy"], ["created_at", "2021-01-04 04:52:00.104498"], ["updated_at", "2021-01-04 04:52:00.104498"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Crime"], ["created_at", "2021-01-04 04:52:00.115139"], ["updated_at", "2021-01-04 04:52:00.115139"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Documentary"], ["created_at", "2021-01-04 04:52:00.126463"], ["updated_at", "2021-01-04 04:52:00.126463"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2021-01-04 04:52:00.137687"], ["updated_at", "2021-01-04 04:52:00.137687"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.6ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fantasy"], ["created_at", "2021-01-04 04:52:00.148881"], ["updated_at", "2021-01-04 04:52:00.148881"]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "History"], ["created_at", "2021-01-04 04:52:00.159825"], ["updated_at", "2021-01-04 04:52:00.159825"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horror"], ["created_at", "2021-01-04 04:52:00.170294"], ["updated_at", "2021-01-04 04:52:00.170294"]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Musical"], ["created_at", "2021-01-04 04:52:00.181950"], ["updated_at", "2021-01-04 04:52:00.181950"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mystery"], ["created_at", "2021-01-04 04:52:00.192760"], ["updated_at", "2021-01-04 04:52:00.192760"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Romance"], ["created_at", "2021-01-04 04:52:00.204099"], ["updated_at", "2021-01-04 04:52:00.204099"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sci-Fi"], ["created_at", "2021-01-04 04:52:00.226130"], ["updated_at", "2021-01-04 04:52:00.226130"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Thriller"], ["created_at", "2021-01-04 04:52:00.237345"], ["updated_at", "2021-01-04 04:52:00.237345"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.6ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "War"], ["created_at", "2021-01-04 04:52:00.248539"], ["updated_at", "2021-01-04 04:52:00.248539"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Western"], ["created_at", "2021-01-04 04:52:00.259760"], ["updated_at", "2021-01-04 04:52:00.259760"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY rand() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mMovie Destroy (26.8ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mGenre Destroy (3.2ms)[0m  [1m[31mDELETE FROM "genres"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "STAR WARS: THE RISE OF SKYWALKER"], ["year", 1977], ["director", "J.J. Abrams"], ["main_star", "Mark Hammil, Adam Driver"], ["description", "When it's discovered that the evil Emperor Palpatine did not die at the hands of Darth Vader, the rebels must race against the clock to find out his whereabouts. Finn and Poe lead the Resistance to put a stop to the First Order's plans to form a new Empire, while Rey anticipates her inevitable confrontation with Kylo"], ["created_at", "2021-01-04 04:52:18.984057"], ["updated_at", "2021-01-04 04:52:18.984057"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "THE LORD OF THE RINGS - THE RETURN OF THE KING"], ["year", 2003], ["director", "Peter Jackson"], ["main_star", "Elijah Wood, Ian Mc Kellen"], ["description", "The culmination of nearly 10 years' work and conclusion\nto Peter Jackson's epic trilogy based on the timeless J.R.R. Tolkien classic,\n 'The Lord of the Rings: The Return of the King' presents the final confrontation between the forces of good and evil fighting for control of the future of Middle-earth. Hobbits Frodo and Sam reach Mordor in their quest to destroy the `one ring', while Aragorn leads the forces of good against Sauron's evil army at the stone city of Minas Tirith."], ["created_at", "2021-01-04 04:52:18.996548"], ["updated_at", "2021-01-04 04:52:18.996548"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Action"], ["created_at", "2021-01-04 04:52:19.016161"], ["updated_at", "2021-01-04 04:52:19.016161"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Adventure"], ["created_at", "2021-01-04 04:52:19.030144"], ["updated_at", "2021-01-04 04:52:19.030144"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Animation"], ["created_at", "2021-01-04 04:52:19.041713"], ["updated_at", "2021-01-04 04:52:19.041713"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Biography"], ["created_at", "2021-01-04 04:52:19.052601"], ["updated_at", "2021-01-04 04:52:19.052601"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Comedy"], ["created_at", "2021-01-04 04:52:19.063171"], ["updated_at", "2021-01-04 04:52:19.063171"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Crime"], ["created_at", "2021-01-04 04:52:19.074758"], ["updated_at", "2021-01-04 04:52:19.074758"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Documentary"], ["created_at", "2021-01-04 04:52:19.085973"], ["updated_at", "2021-01-04 04:52:19.085973"]]
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2021-01-04 04:52:19.097246"], ["updated_at", "2021-01-04 04:52:19.097246"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fantasy"], ["created_at", "2021-01-04 04:52:19.107877"], ["updated_at", "2021-01-04 04:52:19.107877"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "History"], ["created_at", "2021-01-04 04:52:19.118720"], ["updated_at", "2021-01-04 04:52:19.118720"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.6ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horror"], ["created_at", "2021-01-04 04:52:19.130360"], ["updated_at", "2021-01-04 04:52:19.130360"]]
  [1m[35m (49.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Musical"], ["created_at", "2021-01-04 04:52:19.185479"], ["updated_at", "2021-01-04 04:52:19.185479"]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mystery"], ["created_at", "2021-01-04 04:52:19.196529"], ["updated_at", "2021-01-04 04:52:19.196529"]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Romance"], ["created_at", "2021-01-04 04:52:19.207933"], ["updated_at", "2021-01-04 04:52:19.207933"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sci-Fi"], ["created_at", "2021-01-04 04:52:19.225471"], ["updated_at", "2021-01-04 04:52:19.225471"]]
  [1m[35m (11.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Thriller"], ["created_at", "2021-01-04 04:52:19.241360"], ["updated_at", "2021-01-04 04:52:19.241360"]]
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "War"], ["created_at", "2021-01-04 04:52:19.252064"], ["updated_at", "2021-01-04 04:52:19.252064"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Western"], ["created_at", "2021-01-04 04:52:19.263321"], ["updated_at", "2021-01-04 04:52:19.263321"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.7ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (369.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (323.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "sample_project_test"[0m
  [1m[35m (933.6ms)[0m  [1m[35mCREATE DATABASE "miniflix_development" ENCODING = 'unicode'[0m
  [1m[35m (933.3ms)[0m  [1m[35mCREATE DATABASE "sample_project_test" ENCODING = 'unicode'[0m
  [1m[35m (144.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (87.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210101135633)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (68.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135633"]]
  [1m[35m (12.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20210101135652)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (110.7ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (71.4ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp[0m
  [1m[35m (40.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (30.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135652"]]
  [1m[35m (17.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMovies (20210104041803)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (67.6ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "name" character varying, "year" smallint, "director" character varying(60), "main_star" character varying(60), "description" text, "favorited" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104041803"]]
  [1m[35m (12.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenres (20210104043143)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (64.6ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "name" character varying(64), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "genres_movies" ("movie_id" bigint, "genre_id" bigint)[0m
  [1m[35m (44.0ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id" ON "genres_movies"  ("movie_id")[0m
  [1m[35m (31.8ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_genre_id" ON "genres_movies"  ("genre_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104043143"]]
  [1m[35m (12.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-01-04 04:53:15.454981"], ["updated_at", "2021-01-04 04:53:15.454981"]]
  [1m[35m (10.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mMovie Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mGenre Destroy (0.2ms)[0m  [1m[31mDELETE FROM "genres"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "STAR WARS: THE RISE OF SKYWALKER"], ["year", 1977], ["director", "J.J. Abrams"], ["main_star", "Mark Hammil, Adam Driver"], ["description", "When it's discovered that the evil Emperor Palpatine did not die at the hands of Darth Vader, the rebels must race against the clock to find out his whereabouts. Finn and Poe lead the Resistance to put a stop to the First Order's plans to form a new Empire, while Rey anticipates her inevitable confrontation with Kylo"], ["created_at", "2021-01-04 04:53:18.289843"], ["updated_at", "2021-01-04 04:53:18.289843"]]
  [1m[35m (59.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "THE LORD OF THE RINGS - THE RETURN OF THE KING"], ["year", 2003], ["director", "Peter Jackson"], ["main_star", "Elijah Wood, Ian Mc Kellen"], ["description", "The culmination of nearly 10 years' work and conclusion\nto Peter Jackson's epic trilogy based on the timeless J.R.R. Tolkien classic,\n 'The Lord of the Rings: The Return of the King' presents the final confrontation between the forces of good and evil fighting for control of the future of Middle-earth. Hobbits Frodo and Sam reach Mordor in their quest to destroy the `one ring', while Aragorn leads the forces of good against Sauron's evil army at the stone city of Minas Tirith."], ["created_at", "2021-01-04 04:53:18.353663"], ["updated_at", "2021-01-04 04:53:18.353663"]]
  [1m[35m (16.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Action"], ["created_at", "2021-01-04 04:53:18.386802"], ["updated_at", "2021-01-04 04:53:18.386802"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Adventure"], ["created_at", "2021-01-04 04:53:18.397727"], ["updated_at", "2021-01-04 04:53:18.397727"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Animation"], ["created_at", "2021-01-04 04:53:18.408960"], ["updated_at", "2021-01-04 04:53:18.408960"]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Biography"], ["created_at", "2021-01-04 04:53:18.420084"], ["updated_at", "2021-01-04 04:53:18.420084"]]
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Comedy"], ["created_at", "2021-01-04 04:53:18.431334"], ["updated_at", "2021-01-04 04:53:18.431334"]]
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Crime"], ["created_at", "2021-01-04 04:53:18.442449"], ["updated_at", "2021-01-04 04:53:18.442449"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Documentary"], ["created_at", "2021-01-04 04:53:18.453758"], ["updated_at", "2021-01-04 04:53:18.453758"]]
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2021-01-04 04:53:18.465005"], ["updated_at", "2021-01-04 04:53:18.465005"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fantasy"], ["created_at", "2021-01-04 04:53:18.475734"], ["updated_at", "2021-01-04 04:53:18.475734"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "History"], ["created_at", "2021-01-04 04:53:18.486920"], ["updated_at", "2021-01-04 04:53:18.486920"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horror"], ["created_at", "2021-01-04 04:53:18.498074"], ["updated_at", "2021-01-04 04:53:18.498074"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.7ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Musical"], ["created_at", "2021-01-04 04:53:18.509117"], ["updated_at", "2021-01-04 04:53:18.509117"]]
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mystery"], ["created_at", "2021-01-04 04:53:18.520034"], ["updated_at", "2021-01-04 04:53:18.520034"]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Romance"], ["created_at", "2021-01-04 04:53:18.531390"], ["updated_at", "2021-01-04 04:53:18.531390"]]
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sci-Fi"], ["created_at", "2021-01-04 04:53:18.553664"], ["updated_at", "2021-01-04 04:53:18.553664"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Thriller"], ["created_at", "2021-01-04 04:53:18.564487"], ["updated_at", "2021-01-04 04:53:18.564487"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "War"], ["created_at", "2021-01-04 04:53:18.575725"], ["updated_at", "2021-01-04 04:53:18.575725"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Western"], ["created_at", "2021-01-04 04:53:18.586714"], ["updated_at", "2021-01-04 04:53:18.586714"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.8ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (0.4ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 9]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 11]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 13]]
  [1m[35m (21.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (0.3ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 2]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 12]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 3]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (727.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (321.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "sample_project_test"[0m
  [1m[35m (787.5ms)[0m  [1m[35mCREATE DATABASE "miniflix_development" ENCODING = 'unicode'[0m
  [1m[35m (781.0ms)[0m  [1m[35mCREATE DATABASE "sample_project_test" ENCODING = 'unicode'[0m
  [1m[35m (161.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (86.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210101135633)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (36.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135633"]]
  [1m[35m (18.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20210101135652)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (107.5ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (88.2ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp[0m
  [1m[35m (26.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (31.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135652"]]
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMovies (20210104041803)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (73.7ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "name" character varying, "year" smallint, "director" character varying(60), "main_star" character varying(60), "description" text, "favorited" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104041803"]]
  [1m[35m (20.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenres (20210104043143)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (53.2ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "name" character varying(64), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "genres_movies" ("movie_id" bigint, "genre_id" bigint)[0m
  [1m[35m (29.7ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id" ON "genres_movies"  ("movie_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_genre_id" ON "genres_movies"  ("genre_id")[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id_and_genre_id" ON "genres_movies"  ("movie_id", "genre_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104043143"]]
  [1m[35m (19.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-01-04 04:54:24.323171"], ["updated_at", "2021-01-04 04:54:24.323171"]]
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mMovie Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mGenre Destroy (0.3ms)[0m  [1m[31mDELETE FROM "genres"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "STAR WARS: THE RISE OF SKYWALKER"], ["year", 1977], ["director", "J.J. Abrams"], ["main_star", "Mark Hammil, Adam Driver"], ["description", "When it's discovered that the evil Emperor Palpatine did not die at the hands of Darth Vader, the rebels must race against the clock to find out his whereabouts. Finn and Poe lead the Resistance to put a stop to the First Order's plans to form a new Empire, while Rey anticipates her inevitable confrontation with Kylo"], ["created_at", "2021-01-04 04:54:27.145517"], ["updated_at", "2021-01-04 04:54:27.145517"]]
  [1m[35m (15.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "THE LORD OF THE RINGS - THE RETURN OF THE KING"], ["year", 2003], ["director", "Peter Jackson"], ["main_star", "Elijah Wood, Ian Mc Kellen"], ["description", "The culmination of nearly 10 years' work and conclusion\nto Peter Jackson's epic trilogy based on the timeless J.R.R. Tolkien classic,\n 'The Lord of the Rings: The Return of the King' presents the final confrontation between the forces of good and evil fighting for control of the future of Middle-earth. Hobbits Frodo and Sam reach Mordor in their quest to destroy the `one ring', while Aragorn leads the forces of good against Sauron's evil army at the stone city of Minas Tirith."], ["created_at", "2021-01-04 04:54:27.165006"], ["updated_at", "2021-01-04 04:54:27.165006"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.7ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Action"], ["created_at", "2021-01-04 04:54:27.183661"], ["updated_at", "2021-01-04 04:54:27.183661"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Adventure"], ["created_at", "2021-01-04 04:54:27.198490"], ["updated_at", "2021-01-04 04:54:27.198490"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Animation"], ["created_at", "2021-01-04 04:54:27.209161"], ["updated_at", "2021-01-04 04:54:27.209161"]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Biography"], ["created_at", "2021-01-04 04:54:27.220283"], ["updated_at", "2021-01-04 04:54:27.220283"]]
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Comedy"], ["created_at", "2021-01-04 04:54:27.231017"], ["updated_at", "2021-01-04 04:54:27.231017"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Crime"], ["created_at", "2021-01-04 04:54:27.242436"], ["updated_at", "2021-01-04 04:54:27.242436"]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Documentary"], ["created_at", "2021-01-04 04:54:27.253169"], ["updated_at", "2021-01-04 04:54:27.253169"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2021-01-04 04:54:27.264681"], ["updated_at", "2021-01-04 04:54:27.264681"]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fantasy"], ["created_at", "2021-01-04 04:54:27.275766"], ["updated_at", "2021-01-04 04:54:27.275766"]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "History"], ["created_at", "2021-01-04 04:54:27.286812"], ["updated_at", "2021-01-04 04:54:27.286812"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horror"], ["created_at", "2021-01-04 04:54:27.297956"], ["updated_at", "2021-01-04 04:54:27.297956"]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Musical"], ["created_at", "2021-01-04 04:54:27.309001"], ["updated_at", "2021-01-04 04:54:27.309001"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mystery"], ["created_at", "2021-01-04 04:54:27.320497"], ["updated_at", "2021-01-04 04:54:27.320497"]]
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Romance"], ["created_at", "2021-01-04 04:54:27.331230"], ["updated_at", "2021-01-04 04:54:27.331230"]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sci-Fi"], ["created_at", "2021-01-04 04:54:27.342288"], ["updated_at", "2021-01-04 04:54:27.342288"]]
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Thriller"], ["created_at", "2021-01-04 04:54:27.353505"], ["updated_at", "2021-01-04 04:54:27.353505"]]
  [1m[35m (12.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "War"], ["created_at", "2021-01-04 04:54:27.375529"], ["updated_at", "2021-01-04 04:54:27.375529"]]
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Western"], ["created_at", "2021-01-04 04:54:27.386653"], ["updated_at", "2021-01-04 04:54:27.386653"]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (0.4ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 3]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 11]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 13]]
  [1m[35m (13.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 18]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 4]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 2]]
  [1m[35m (13.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateViewers (20210104045836)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (64.1ms)[0m  [1m[35mCREATE TABLE "viewers" ("id" bigserial primary key, "username" character varying(20), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104045836"]]
  [1m[35m (33.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/movies" for ::1 at 2021-01-04 12:07:47 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api/v1/movies"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/movies" for ::1 at 2021-01-04 12:08:47 +0700
  
NameError (uninitialized constant Api::V1::ApiController
Did you mean?  ApplicationController):
  
app/controllers/api/v1/movies_controller.rb:3:in `<module:V1>'
app/controllers/api/v1/movies_controller.rb:2:in `<module:Api>'
app/controllers/api/v1/movies_controller.rb:1:in `<main>'
Started GET "/api/v1/movies" for ::1 at 2021-01-04 12:09:51 +0700
Processing by Api::V1::MoviesController#index as JSON
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms | Allocations: 6676)


  
NoMethodError (undefined method `paginate' for #<Class:0x0000559006f0cf80>
Did you mean?  paginates_per):
  
app/controllers/api/v1/movies_controller.rb:8:in `index'
Started GET "/api/v1/movies" for ::1 at 2021-01-04 12:10:29 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::MoviesController#index as JSON
No template found for Api::V1::MoviesController#index, rendering head :no_content
Completed 204 No Content in 14ms (ActiveRecord: 0.0ms | Allocations: 6725)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 12:17:39 +0700
Processing by Api::V1::MoviesController#index as JSON
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (1.9ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  Rendered api/v1/movies/index.json.jbuilder (Duration: 70.4ms | Allocations: 18138)
Completed 200 OK in 80ms (Views: 53.2ms | ActiveRecord: 19.4ms | Allocations: 21047)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 12:19:41 +0700
Processing by Api::V1::MoviesController#index as JSON
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  Rendered api/v1/movies/index.json.jbuilder (Duration: 8.7ms | Allocations: 3479)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 1.3ms | Allocations: 4150)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 12:20:58 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:16:in `set_movie'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 2.3ms | Allocations: 1427)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.6ms | Allocations: 2747)


Started GET "/api/v1/movies/10" for ::1 at 2021-01-04 12:21:05 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"10"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:16:in `set_movie'
Couldn't find Movie with 'id'=10
Completed 404 Not Found in 7ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 3725)


Started GET "/api/v1/movies/10" for ::1 at 2021-01-04 12:22:36 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"10"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:16:in `set_movie'
Couldn't find Movie with 'id'=10
Completed 404 Not Found in 8ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 3272)


Started GET "/api/v1/movies/10" for ::1 at 2021-01-04 12:24:24 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"10"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:16:in `set_movie'
Couldn't find Movie with 'id'=10
Completed 404 Not Found in 9ms (Views: 0.2ms | ActiveRecord: 3.4ms | Allocations: 3253)


Started GET "/api/v1/movies/10" for ::1 at 2021-01-04 12:24:39 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"10"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:16:in `set_movie'
Couldn't find Movie with 'id'=10
Completed 404 Not Found in 12ms (Views: 0.2ms | ActiveRecord: 3.5ms | Allocations: 5556)


Started GET "/api/v1/movies/10" for ::1 at 2021-01-04 12:25:04 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"10"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:16:in `set_movie'
Couldn't find Movie with 'id'=10
Completed 404 Not Found in 8ms (Views: 0.2ms | ActiveRecord: 2.9ms | Allocations: 3262)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 12:25:12 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:16:in `set_movie'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 20.8ms | Allocations: 7690)
Completed 200 OK in 40ms (Views: 16.8ms | ActiveRecord: 5.3ms | Allocations: 12960)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (327.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (322.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "sample_project_test"[0m
  [1m[35m (813.4ms)[0m  [1m[35mCREATE DATABASE "miniflix_development" ENCODING = 'unicode'[0m
  [1m[35m (767.9ms)[0m  [1m[35mCREATE DATABASE "sample_project_test" ENCODING = 'unicode'[0m
  [1m[35m (202.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (108.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210101135633)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (44.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135633"]]
  [1m[35m (19.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20210101135652)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (128.9ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (101.5ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp[0m
  [1m[35m (48.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (42.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135652"]]
  [1m[35m (10.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMovies (20210104041803)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (84.3ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "name" character varying, "year" smallint, "director" character varying(60), "main_star" character varying(60), "description" text, "favorited" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104041803"]]
  [1m[35m (19.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenres (20210104043143)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (33.8ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "name" character varying(64), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "genres_movies" ("movie_id" bigint, "genre_id" bigint)[0m
  [1m[35m (30.6ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id" ON "genres_movies"  ("movie_id")[0m
  [1m[35m (42.9ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_genre_id" ON "genres_movies"  ("genre_id")[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id_and_genre_id" ON "genres_movies"  ("movie_id", "genre_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104043143"]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateViewers (20210104045836)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (52.2ms)[0m  [1m[35mCREATE TABLE "viewers" ("id" bigserial primary key, "username" character varying(20), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "movies_viewers" ("movie_id" bigint, "viewer_id" bigint)[0m
  [1m[35m (45.1ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_movie_id" ON "movies_viewers"  ("movie_id")[0m
  [1m[35m (29.9ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_viewer_id" ON "movies_viewers"  ("viewer_id")[0m
  [1m[35m (29.0ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_movie_id_and_viewer_id" ON "movies_viewers"  ("movie_id", "viewer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104045836"]]
  [1m[35m (13.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-01-04 05:32:15.471129"], ["updated_at", "2021-01-04 05:32:15.471129"]]
  [1m[35m (9.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mMovie Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mGenre Destroy (0.3ms)[0m  [1m[31mDELETE FROM "genres"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "STAR WARS: THE RISE OF SKYWALKER"], ["year", 1977], ["director", "J.J. Abrams"], ["main_star", "Mark Hammil, Adam Driver"], ["description", "When it's discovered that the evil Emperor Palpatine did not die at the hands of Darth Vader, the rebels must race against the clock to find out his whereabouts. Finn and Poe lead the Resistance to put a stop to the First Order's plans to form a new Empire, while Rey anticipates her inevitable confrontation with Kylo"], ["created_at", "2021-01-04 05:32:18.299057"], ["updated_at", "2021-01-04 05:32:18.299057"]]
  [1m[35m (11.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "THE LORD OF THE RINGS - THE RETURN OF THE KING"], ["year", 2003], ["director", "Peter Jackson"], ["main_star", "Elijah Wood, Ian Mc Kellen"], ["description", "The culmination of nearly 10 years' work and conclusion\nto Peter Jackson's epic trilogy based on the timeless J.R.R. Tolkien classic,\n 'The Lord of the Rings: The Return of the King' presents the final confrontation between the forces of good and evil fighting for control of the future of Middle-earth. Hobbits Frodo and Sam reach Mordor in their quest to destroy the `one ring', while Aragorn leads the forces of good against Sauron's evil army at the stone city of Minas Tirith."], ["created_at", "2021-01-04 05:32:18.314822"], ["updated_at", "2021-01-04 05:32:18.314822"]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.6ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Action"], ["created_at", "2021-01-04 05:32:18.333278"], ["updated_at", "2021-01-04 05:32:18.333278"]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Adventure"], ["created_at", "2021-01-04 05:32:18.348234"], ["updated_at", "2021-01-04 05:32:18.348234"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Animation"], ["created_at", "2021-01-04 05:32:18.359379"], ["updated_at", "2021-01-04 05:32:18.359379"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Biography"], ["created_at", "2021-01-04 05:32:18.370436"], ["updated_at", "2021-01-04 05:32:18.370436"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Comedy"], ["created_at", "2021-01-04 05:32:18.381553"], ["updated_at", "2021-01-04 05:32:18.381553"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Crime"], ["created_at", "2021-01-04 05:32:18.392718"], ["updated_at", "2021-01-04 05:32:18.392718"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Documentary"], ["created_at", "2021-01-04 05:32:18.403828"], ["updated_at", "2021-01-04 05:32:18.403828"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2021-01-04 05:32:18.414524"], ["updated_at", "2021-01-04 05:32:18.414524"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fantasy"], ["created_at", "2021-01-04 05:32:18.425812"], ["updated_at", "2021-01-04 05:32:18.425812"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "History"], ["created_at", "2021-01-04 05:32:18.437044"], ["updated_at", "2021-01-04 05:32:18.437044"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horror"], ["created_at", "2021-01-04 05:32:18.448195"], ["updated_at", "2021-01-04 05:32:18.448195"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Musical"], ["created_at", "2021-01-04 05:32:18.459192"], ["updated_at", "2021-01-04 05:32:18.459192"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mystery"], ["created_at", "2021-01-04 05:32:18.470469"], ["updated_at", "2021-01-04 05:32:18.470469"]]
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Romance"], ["created_at", "2021-01-04 05:32:18.486828"], ["updated_at", "2021-01-04 05:32:18.486828"]]
  [1m[35m (13.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sci-Fi"], ["created_at", "2021-01-04 05:32:18.503320"], ["updated_at", "2021-01-04 05:32:18.503320"]]
  [1m[35m (51.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Thriller"], ["created_at", "2021-01-04 05:32:18.559027"], ["updated_at", "2021-01-04 05:32:18.559027"]]
  [1m[35m (51.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "War"], ["created_at", "2021-01-04 05:32:18.614366"], ["updated_at", "2021-01-04 05:32:18.614366"]]
  [1m[35m (29.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.2ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Western"], ["created_at", "2021-01-04 05:32:18.647571"], ["updated_at", "2021-01-04 05:32:18.647571"]]
  [1m[35m (30.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.7ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (0.3ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 8]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 13]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 5]]
  [1m[35m (76.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 14]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 18]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 10]]
  [1m[35m (23.5ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:40:55 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/v1/assign_favorite"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:41:54 +0700
  
AbstractController::ActionNotFound (The action 'favorites' could not be found for Api::V1::ApiController):
  
actionpack (6.0.3.4) lib/abstract_controller/base.rb:131:in `process'
actionview (6.0.3.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack-pjax (1.1.0) lib/rack/pjax.rb:12:in `call'
remotipart (1.4.4) lib/remotipart/middleware.rb:32:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.4) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:42:42 +0700
  
Zeitwerk::NameError (expected file /home/bainur/projects/miniflix/app/controllers/api/v1/favorites_controller.rb to define constant Api::V1::FavoritesController, but didn't):
  
zeitwerk (2.4.2) lib/zeitwerk/loader/callbacks.rb:18:in `on_file_autoloaded'
zeitwerk (2.4.2) lib/zeitwerk/kernel.rb:27:in `block in require'
zeitwerk (2.4.2) lib/zeitwerk/kernel.rb:26:in `tap'
zeitwerk (2.4.2) lib/zeitwerk/kernel.rb:26:in `require'
activesupport (6.0.3.4) lib/active_support/inflector/methods.rb:284:in `const_get'
activesupport (6.0.3.4) lib/active_support/inflector/methods.rb:284:in `block in constantize'
activesupport (6.0.3.4) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.3.4) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.3.4) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.3.4) lib/active_support/dependencies/zeitwerk_integration.rb:19:in `constantize'
actionpack (6.0.3.4) lib/action_dispatch/http/request.rb:89:in `controller_class_for'
actionpack (6.0.3.4) lib/action_dispatch/http/parameters.rb:100:in `binary_params_for?'
actionpack (6.0.3.4) lib/action_dispatch/http/parameters.rb:91:in `set_binary_encoding'
actionpack (6.0.3.4) lib/action_dispatch/http/parameters.rb:69:in `path_parameters='
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:47:in `block in serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack-pjax (1.1.0) lib/rack/pjax.rb:12:in `call'
remotipart (1.4.4) lib/remotipart/middleware.rb:32:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.4) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:43:00 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 486)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.3.4) lib/action_controller/metal/request_forgery_protection.rb:215:in `handle_unverified_request'
actionpack (6.0.3.4) lib/action_controller/metal/request_forgery_protection.rb:247:in `handle_unverified_request'
devise (4.7.3) lib/devise/controllers/helpers.rb:255:in `handle_unverified_request'
actionpack (6.0.3.4) lib/action_controller/metal/request_forgery_protection.rb:242:in `verify_authenticity_token'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:200:in `block (2 levels) in halting'
actionpack (6.0.3.4) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:201:in `block in halting'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:513:in `block in invoke_before'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:513:in `each'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:513:in `invoke_before'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.3.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.4) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack-pjax (1.1.0) lib/rack/pjax.rb:12:in `call'
remotipart (1.4.4) lib/remotipart/middleware.rb:32:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.4) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:44:01 +0700
  
NoMethodError (undefined method `skip_before_filter' for Api::V1::ApiController:Class
Did you mean?  skip_before_action):
  
app/controllers/api/v1/api_controller.rb:11:in `<class:ApiController>'
app/controllers/api/v1/api_controller.rb:3:in `<module:V1>'
app/controllers/api/v1/api_controller.rb:2:in `<module:Api>'
app/controllers/api/v1/api_controller.rb:1:in `<main>'
app/controllers/api/v1/favorites_controller.rb:3:in `<module:V1>'
app/controllers/api/v1/favorites_controller.rb:2:in `<module:Api>'
app/controllers/api/v1/favorites_controller.rb:1:in `<main>'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:44:14 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
param is missing or the value is empty: favorite
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 5473)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:44:39 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
param is missing or the value is empty: favorite
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2053)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:45:23 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 990)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:46:34 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 3129)


  
NoMethodError (undefined method `movies' for ActiveRecord::RecordNotFound:Class):
  
app/controllers/api/v1/favorites_controller.rb:17:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:47:10 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
No template found for Api::V1::FavoritesController#assign_favorite, rendering head :no_content
Completed 204 No Content in 14ms (ActiveRecord: 0.0ms | Allocations: 5964)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:47:29 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
No template found for Api::V1::FavoritesController#assign_favorite, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms | Allocations: 2157)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:47:38 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2553)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:48:42 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Couldn't find Viewer with 'id'={"viewer_id"=>1, "movie_id"=>1}
Completed 404 Not Found in 12ms (Views: 0.2ms | ActiveRecord: 4.5ms | Allocations: 3949)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:48:52 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Couldn't find Viewer with 'id'={"viewer_id"=>1, "movie_id"=>1}
Completed 404 Not Found in 11ms (Views: 0.3ms | ActiveRecord: 3.5ms | Allocations: 3409)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:48:54 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Couldn't find Viewer with 'id'={"viewer_id"=>1, "movie_id"=>1}
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1442)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:48:54 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Couldn't find Viewer with 'id'={"viewer_id"=>1, "movie_id"=>1}
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1454)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:48:55 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Couldn't find Viewer with 'id'={"viewer_id"=>1, "movie_id"=>1}
Completed 404 Not Found in 8ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1454)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:48:55 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Couldn't find Viewer with 'id'={"viewer_id"=>1, "movie_id"=>1}
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1443)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:48:56 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Couldn't find Viewer with 'id'={"viewer_id"=>1, "movie_id"=>1}
Completed 404 Not Found in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1442)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:48:57 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Couldn't find Viewer with 'id'={"viewer_id"=>1, "movie_id"=>1}
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1442)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:48:57 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"viewer_id"=>1, "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Couldn't find Viewer with 'id'={"viewer_id"=>1, "movie_id"=>1}
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1442)


Started GET "/" for ::1 at 2021-01-04 12:49:02 +0700
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 5.7ms | Allocations: 188)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 1028)


Started GET "/admin" for ::1 at 2021-01-04 12:49:05 +0700
Processing by RailsAdmin::MainController#dashboard as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 420)


Started GET "/admin/login" for ::1 at 2021-01-04 12:49:05 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 1.8ms | Allocations: 596)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 2753)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 140ms (Views: 119.5ms | ActiveRecord: 3.0ms | Allocations: 57425)


  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.7ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user1@example.com"], ["created_at", "2021-01-04 05:58:10.228924"], ["updated_at", "2021-01-04 05:58:10.228924"]]
  [1m[35m (53.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.3ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user2@example.com"], ["created_at", "2021-01-04 05:58:10.287174"], ["updated_at", "2021-01-04 05:58:10.287174"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user3@example.com"], ["created_at", "2021-01-04 05:58:10.298018"], ["updated_at", "2021-01-04 05:58:10.298018"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:59:05 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Couldn't find Viewer with 'id'={"username"=>"user1@example.com", "movie_id"=>1}
Completed 404 Not Found in 17ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 7338)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:59:32 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1@example.com", "movie_id"=>1}}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 5.2ms | Allocations: 3098)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column viewers.name does not exist
LINE 1: SELECT "viewers".* FROM "viewers" WHERE "viewers"."name" = $...
                                                ^
):
  
app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 12:59:45 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1@example.com", "movie_id"=>1}}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 4.9ms | Allocations: 3190)


  
TypeError (can't cast ActionController::Parameters):
  
app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:01:04 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 3.5ms | Allocations: 11004)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/favorites_controller.rb:17:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:01:46 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:17:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:17:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.6ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:17:in `assign_favorite'
  [1m[35m (52.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:17:in `assign_favorite'
No template found for Api::V1::FavoritesController#assign_favorite, rendering head :no_content
Completed 204 No Content in 105ms (ActiveRecord: 63.1ms | Allocations: 23997)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:07:39 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"usersadfasf1@example.com", "movie_id"=>1}}
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Completed 500 Internal Server Error in 335ms (ActiveRecord: 2.4ms | Allocations: 146586)


  
NameError (undefined local variable or method `movie' for #<Api::V1::FavoritesController:0x00007fbc1875b760>
Did you mean?  @movie):
  
app/controllers/api/v1/favorites_controller.rb:17:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:07:53 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"usersadfasf1@example.com", "movie_id"=>1}}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "usersadfasf1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:17:in `assign_favorite'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 9.3ms | Allocations: 12233)


  
ActiveRecord::AssociationTypeMismatch (Viewer(#84260) expected, got nil which is an instance of NilClass(#40)):
  
app/controllers/api/v1/favorites_controller.rb:17:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:08:33 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"usersadfasf1@example.com", "movie_id"=>1}}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "usersadfasf1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:18:in `assign_favorite'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 5.9ms | Allocations: 12219)


  
ActiveRecord::AssociationTypeMismatch (Viewer(#93200) expected, got nil which is an instance of NilClass(#40)):
  
app/controllers/api/v1/favorites_controller.rb:18:in `assign_favorite'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" ORDER BY "movies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" ORDER BY "movies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" INNER JOIN "movies_viewers" ON "viewers"."id" = "movies_viewers"."viewer_id" WHERE "movies_viewers"."movie_id" = $1 LIMIT $2[0m  [["movie_id", 1], ["LIMIT", 11]]
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:08:58 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"usersadfasf1@example.com", "movie_id"=>1}}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "usersadfasf1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:18:in `assign_favorite'
Completed 500 Internal Server Error in 31ms (ActiveRecord: 7.0ms | Allocations: 12144)


  
ActiveRecord::AssociationTypeMismatch (Viewer(#102140) expected, got nil which is an instance of NilClass(#40)):
  
app/controllers/api/v1/favorites_controller.rb:18:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:09:19 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"usersadfasf1@example.com", "movie_id"=>1}}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "usersadfasf1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:17:in `assign_favorite'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 7.8ms | Allocations: 12142)


  
ActiveRecord::AssociationTypeMismatch (Viewer(#111080) expected, got nil which is an instance of NilClass(#40)):
  
app/controllers/api/v1/favorites_controller.rb:18:in `assign_favorite'
Started POST "/api/v1/login_viewer" for ::1 at 2021-01-04 13:20:26 +0700
  
ActionController::RoutingError (No route matches [POST] "/api/v1/login_viewer"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/login_viewer" for ::1 at 2021-01-04 13:20:50 +0700
  
ActionController::RoutingError (No route matches [POST] "/api/v1/login_viewer"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/bainur/.rbenv/versions/2.7.1/bin/rake:23)
Started POST "/api/v1/login" for ::1 at 2021-01-04 13:21:22 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user1@example.com", "login"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:7:in `login_viewer'
No template found for Api::V1::LoginController#login_viewer, rendering head :no_content
Completed 204 No Content in 18ms (ActiveRecord: 5.4ms | Allocations: 8679)


Started POST "/api/v1/login" for ::1 at 2021-01-04 13:24:37 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 3.0ms | Allocations: 3588)


  
NoMethodError (undefined method `create' for nil:NilClass):
  
app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
Started POST "/api/v1/login" for ::1 at 2021-01-04 13:24:54 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[36mViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user10@example.com"], ["created_at", "2021-01-04 06:24:54.956902"], ["updated_at", "2021-01-04 06:24:54.956902"]]
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[35m (50.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 11.4ms | Allocations: 3896)
Completed 200 OK in 96ms (Views: 7.9ms | ActiveRecord: 59.8ms | Allocations: 15182)


Started POST "/api/v1/login" for ::1 at 2021-01-04 13:25:02 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 1.8ms | Allocations: 1039)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.7ms | Allocations: 2116)


Started POST "/api/v1/login" for ::1 at 2021-01-04 13:25:05 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.9ms | Allocations: 1039)
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 1.1ms | Allocations: 2106)


Started POST "/api/v1/login" for ::1 at 2021-01-04 13:25:06 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 3.7ms | Allocations: 1039)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 1.1ms | Allocations: 2106)


Started POST "/api/v1/login" for ::1 at 2021-01-04 13:25:07 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 1.8ms | Allocations: 1039)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.7ms | Allocations: 2106)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:26:48 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"usersadfasf1@example.com", "movie_id"=>1}}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "usersadfasf1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:17:in `assign_favorite'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.7ms | Allocations: 6235)


  
ActiveRecord::AssociationTypeMismatch (Viewer(#148440) expected, got nil which is an instance of NilClass(#40)):
  
app/controllers/api/v1/favorites_controller.rb:18:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:27:03 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"usersadfasf1@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Couldn't find Viewer with 'id'={"username"=>"usersadfasf1@example.com", "movie_id"=>1}
Completed 404 Not Found in 9ms (Views: 0.2ms | ActiveRecord: 3.1ms | Allocations: 3414)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:27:24 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Couldn't find Viewer with 'id'={"username"=>"user10@example.com", "movie_id"=>1}
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1442)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:28:31 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user102323@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user102323@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.6ms | Allocations: 3498)


  
NoMethodError (undefined method `movies' for nil:NilClass):
  
app/controllers/api/v1/favorites_controller.rb:17:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:29:59 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user102323@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user102323@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Completed 500 Internal Server Error in 257ms (ActiveRecord: 1.5ms | Allocations: 140603)


  
NameError (undefined local variable or method `exception' for #<Api::V1::FavoritesController:0x00005595ee7a18e8>):
  
app/controllers/api/v1/favorites_controller.rb:17:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:30:56 +0700
  
SyntaxError (/home/bainur/projects/miniflix/app/controllers/api/v1/favorites_controller.rb:17: syntax error, unexpected ':', expecting `end'
          return json: {success: false, message: "U...
                     ^
):
  
app/controllers/api/v1/favorites_controller.rb:17: syntax error, unexpected ':', expecting `end'
app/controllers/api/v1/favorites_controller.rb:17: syntax error, unexpected ':', expecting `end'
app/controllers/api/v1/favorites_controller.rb:17: syntax error, unexpected ':', expecting `end'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:31:07 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user102323@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user102323@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 2778)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:31:24 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user102323@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user102323@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Completed 404 Not Found in 7ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2755)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:32:17 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user102323@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user102323@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Completed 404 Not Found in 6ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2764)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:32:27 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 3.6ms | Allocations: 7182)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:32:49 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (40.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.2ms | Allocations: 58)
Completed 200 OK in 87ms (Views: 1.4ms | ActiveRecord: 49.1ms | Allocations: 19098)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:33:13 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.1ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.8ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mCACHE Genre Load (0.0ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 20.7ms | Allocations: 10072)
Completed 200 OK in 88ms (Views: 15.5ms | ActiveRecord: 38.8ms | Allocations: 29043)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:33:29 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (4.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.4ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mCACHE Genre Load (0.0ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mCACHE Genre Load (0.0ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 10.0ms | Allocations: 4627)
Completed 200 OK in 37ms (Views: 9.7ms | ActiveRecord: 17.6ms | Allocations: 9083)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:33:51 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (12.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mCACHE Genre Load (0.0ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mCACHE Genre Load (0.0ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mCACHE Genre Load (0.0ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 22.9ms | Allocations: 12393)
Completed 200 OK in 80ms (Views: 19.3ms | ActiveRecord: 26.5ms | Allocations: 31367)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:36:38 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (38.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
Completed 500 Internal Server Error in 83ms (ActiveRecord: 47.5ms | Allocations: 21067)


  
ActionView::MissingTemplate (Missing template api/v1/favorites/show, api/v1/api/show, application/show with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder, :haml]}. Searched in:
  * "/home/bainur/projects/miniflix/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/kaminari-core-1.2.1/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.4/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.4/app/views"
):
  
app/controllers/api/v1/favorites_controller.rb:22:in `assign_favorite'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5010.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (325.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (214.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "sample_project_test"[0m
  [1m[35m (834.9ms)[0m  [1m[35mCREATE DATABASE "miniflix_development" ENCODING = 'unicode'[0m
  [1m[35m (721.6ms)[0m  [1m[35mCREATE DATABASE "sample_project_test" ENCODING = 'unicode'[0m
  [1m[35m (143.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (107.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210101135633)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (57.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135633"]]
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20210101135652)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (139.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (100.6ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp[0m
  [1m[35m (46.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (30.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135652"]]
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMovies (20210104041803)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (85.3ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "name" character varying, "year" smallint, "director" character varying(60), "main_star" character varying(60), "description" text, "favorited" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104041803"]]
  [1m[35m (10.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenres (20210104043143)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (52.6ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "name" character varying(64), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "genres_movies" ("movie_id" bigint, "genre_id" bigint)[0m
  [1m[35m (40.3ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id" ON "genres_movies"  ("movie_id")[0m
  [1m[35m (42.3ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_genre_id" ON "genres_movies"  ("genre_id")[0m
  [1m[35m (40.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_genres_movies_on_movie_id_and_genre_id" ON "genres_movies"  ("movie_id", "genre_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104043143"]]
  [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateViewers (20210104045836)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (55.5ms)[0m  [1m[35mCREATE TABLE "viewers" ("id" bigserial primary key, "username" character varying(20), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "movies_viewers" ("movie_id" bigint, "viewer_id" bigint)[0m
  [1m[35m (26.8ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_movie_id" ON "movies_viewers"  ("movie_id")[0m
  [1m[35m (50.9ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_viewer_id" ON "movies_viewers"  ("viewer_id")[0m
  [1m[35m (53.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_movies_viewers_on_movie_id_and_viewer_id" ON "movies_viewers"  ("movie_id", "viewer_id")[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-01-04 06:40:37.519635"], ["updated_at", "2021-01-04 06:40:37.519635"]]
  [1m[35m (32.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (318.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (220.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "sample_project_test"[0m
  [1m[35m (823.4ms)[0m  [1m[35mCREATE DATABASE "miniflix_development" ENCODING = 'unicode'[0m
  [1m[35m (766.9ms)[0m  [1m[35mCREATE DATABASE "sample_project_test" ENCODING = 'unicode'[0m
  [1m[35m (133.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (108.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210101135633)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (48.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135633"]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20210101135652)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (165.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (65.1ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp[0m
  [1m[35m (39.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (44.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135652"]]
  [1m[35m (17.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMovies (20210104041803)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (101.1ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "name" character varying, "year" smallint, "director" character varying(60), "main_star" character varying(60), "description" text, "favorited" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104041803"]]
  [1m[35m (14.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenres (20210104043143)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (46.7ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "name" character varying(64), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "genres_movies" ("movie_id" bigint, "genre_id" bigint)[0m
  [1m[35m (39.9ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id" ON "genres_movies"  ("movie_id")[0m
  [1m[35m (41.9ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_genre_id" ON "genres_movies"  ("genre_id")[0m
  [1m[35m (64.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_genres_movies_on_movie_id_and_genre_id" ON "genres_movies"  ("movie_id", "genre_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104043143"]]
  [1m[35m (13.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateViewers (20210104045836)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (59.9ms)[0m  [1m[35mCREATE TABLE "viewers" ("id" bigserial primary key, "username" character varying(20), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "movies_viewers" ("movie_id" bigint, "viewer_id" bigint)[0m
  [1m[35m (37.2ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_movie_id" ON "movies_viewers"  ("movie_id")[0m
  [1m[35m (41.7ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_viewer_id" ON "movies_viewers"  ("viewer_id")[0m
  [1m[35m (53.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_movies_viewers_on_movie_id_and_viewer_id" ON "movies_viewers"  ("movie_id", "viewer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104045836"]]
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-01-04 06:40:50.385264"], ["updated_at", "2021-01-04 06:40:50.385264"]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mMovie Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mGenre Destroy (0.3ms)[0m  [1m[31mDELETE FROM "genres"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.6ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "STAR WARS: THE RISE OF SKYWALKER"], ["year", 1977], ["director", "J.J. Abrams"], ["main_star", "Mark Hammil, Adam Driver"], ["description", "When it's discovered that the evil Emperor Palpatine did not die at the hands of Darth Vader, the rebels must race against the clock to find out his whereabouts. Finn and Poe lead the Resistance to put a stop to the First Order's plans to form a new Empire, while Rey anticipates her inevitable confrontation with Kylo"], ["created_at", "2021-01-04 06:40:53.312104"], ["updated_at", "2021-01-04 06:40:53.312104"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "THE LORD OF THE RINGS - THE RETURN OF THE KING"], ["year", 2003], ["director", "Peter Jackson"], ["main_star", "Elijah Wood, Ian Mc Kellen"], ["description", "The culmination of nearly 10 years' work and conclusion\nto Peter Jackson's epic trilogy based on the timeless J.R.R. Tolkien classic,\n 'The Lord of the Rings: The Return of the King' presents the final confrontation between the forces of good and evil fighting for control of the future of Middle-earth. Hobbits Frodo and Sam reach Mordor in their quest to destroy the `one ring', while Aragorn leads the forces of good against Sauron's evil army at the stone city of Minas Tirith."], ["created_at", "2021-01-04 06:40:53.325447"], ["updated_at", "2021-01-04 06:40:53.325447"]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.6ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Action"], ["created_at", "2021-01-04 06:40:53.342736"], ["updated_at", "2021-01-04 06:40:53.342736"]]
  [1m[35m (10.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Adventure"], ["created_at", "2021-01-04 06:40:53.358864"], ["updated_at", "2021-01-04 06:40:53.358864"]]
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Animation"], ["created_at", "2021-01-04 06:40:53.370193"], ["updated_at", "2021-01-04 06:40:53.370193"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Biography"], ["created_at", "2021-01-04 06:40:53.380853"], ["updated_at", "2021-01-04 06:40:53.380853"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Comedy"], ["created_at", "2021-01-04 06:40:53.392129"], ["updated_at", "2021-01-04 06:40:53.392129"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Crime"], ["created_at", "2021-01-04 06:40:53.403334"], ["updated_at", "2021-01-04 06:40:53.403334"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Documentary"], ["created_at", "2021-01-04 06:40:53.414328"], ["updated_at", "2021-01-04 06:40:53.414328"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2021-01-04 06:40:53.425462"], ["updated_at", "2021-01-04 06:40:53.425462"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fantasy"], ["created_at", "2021-01-04 06:40:53.436469"], ["updated_at", "2021-01-04 06:40:53.436469"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "History"], ["created_at", "2021-01-04 06:40:53.447419"], ["updated_at", "2021-01-04 06:40:53.447419"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horror"], ["created_at", "2021-01-04 06:40:53.458747"], ["updated_at", "2021-01-04 06:40:53.458747"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Musical"], ["created_at", "2021-01-04 06:40:53.469865"], ["updated_at", "2021-01-04 06:40:53.469865"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mystery"], ["created_at", "2021-01-04 06:40:53.481159"], ["updated_at", "2021-01-04 06:40:53.481159"]]
  [1m[35m (12.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.2ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Romance"], ["created_at", "2021-01-04 06:40:53.502761"], ["updated_at", "2021-01-04 06:40:53.502761"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sci-Fi"], ["created_at", "2021-01-04 06:40:53.514092"], ["updated_at", "2021-01-04 06:40:53.514092"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.2ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Thriller"], ["created_at", "2021-01-04 06:40:53.525255"], ["updated_at", "2021-01-04 06:40:53.525255"]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "War"], ["created_at", "2021-01-04 06:40:53.536124"], ["updated_at", "2021-01-04 06:40:53.536124"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Western"], ["created_at", "2021-01-04 06:40:53.547283"], ["updated_at", "2021-01-04 06:40:53.547283"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.7ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (0.3ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 12]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 15]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 7]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 10]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 7]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 3]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.7ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user1@example.com"], ["created_at", "2021-01-04 06:40:53.610955"], ["updated_at", "2021-01-04 06:40:53.610955"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.3ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user2@example.com"], ["created_at", "2021-01-04 06:40:53.624964"], ["updated_at", "2021-01-04 06:40:53.624964"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user3@example.com"], ["created_at", "2021-01-04 06:40:53.636040"], ["updated_at", "2021-01-04 06:40:53.636040"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:40:59 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Completed 404 Not Found in 14ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 4145)


Started POST "/api/v1/login" for ::1 at 2021-01-04 13:41:04 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[36mViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user10@example.com"], ["created_at", "2021-01-04 06:41:04.172256"], ["updated_at", "2021-01-04 06:41:04.172256"]]
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[35m (41.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 11.3ms | Allocations: 4374)
Completed 200 OK in 84ms (Views: 8.4ms | ActiveRecord: 51.7ms | Allocations: 16497)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:41:11 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.5ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (48.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.8ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 28.3ms | Allocations: 8684)
Completed 200 OK in 113ms (Views: 24.4ms | ActiveRecord: 55.7ms | Allocations: 19167)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:41:14 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (1.2ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.5ms | Allocations: 5516)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 4) already exists.
):
  
app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:42:44 +0700
  
SyntaxError (/home/bainur/projects/miniflix/app/controllers/api/v1/api_controller.rb:10: syntax error, unexpected tLABEL
...Record::RecordNotUnique,  with: :render_uniq_record
...                          ^~~~~
):
  
app/controllers/api/v1/api_controller.rb:10: syntax error, unexpected tLABEL
app/controllers/api/v1/api_controller.rb:10: syntax error, unexpected tLABEL
app/controllers/api/v1/api_controller.rb:10: syntax error, unexpected tLABEL
app/controllers/api/v1/favorites_controller.rb:3:in `<module:V1>'
app/controllers/api/v1/favorites_controller.rb:2:in `<module:Api>'
app/controllers/api/v1/favorites_controller.rb:1:in `<main>'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:42:57 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (1.0ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 4) already exists.

Completed 404 Not Found in 49ms (Views: 0.2ms | ActiveRecord: 9.4ms | Allocations: 22546)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:43:57 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.8ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 4) already exists.

Completed 404 Not Found in 43ms (Views: 0.2ms | ActiveRecord: 9.0ms | Allocations: 19853)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:44:03 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (1.2ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 4) already exists.

Completed 404 Not Found in 50ms (Views: 0.3ms | ActiveRecord: 12.8ms | Allocations: 19852)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:44:13 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.8ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 4) already exists.

Completed 400 Bad Request in 57ms (Views: 0.3ms | ActiveRecord: 12.3ms | Allocations: 19846)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:44:53 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 4]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (29.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 30.8ms | Allocations: 13146)
Completed 200 OK in 72ms (Views: 26.0ms | ActiveRecord: 36.6ms | Allocations: 17774)


  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" ORDER BY "movies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (324.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (317.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "sample_project_test"[0m
  [1m[35m (1056.5ms)[0m  [1m[35mCREATE DATABASE "miniflix_development" ENCODING = 'unicode'[0m
  [1m[35m (711.5ms)[0m  [1m[35mCREATE DATABASE "sample_project_test" ENCODING = 'unicode'[0m
  [1m[35m (143.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (107.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210101135633)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (47.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135633"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20210101135652)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (129.6ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (100.7ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp[0m
  [1m[35m (40.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (31.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135652"]]
  [1m[35m (18.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMovies (20210104041803)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (85.8ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "name" character varying, "year" smallint, "director" character varying(60), "main_star" character varying(60), "description" text, "favorited" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104041803"]]
  [1m[35m (16.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenres (20210104043143)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (45.3ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "name" character varying(64), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "genres_movies" ("movie_id" bigint, "genre_id" bigint)[0m
  [1m[35m (38.8ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id" ON "genres_movies"  ("movie_id")[0m
  [1m[35m (41.6ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_genre_id" ON "genres_movies"  ("genre_id")[0m
  [1m[35m (40.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_genres_movies_on_movie_id_and_genre_id" ON "genres_movies"  ("movie_id", "genre_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104043143"]]
  [1m[35m (15.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateViewers (20210104045836)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (44.7ms)[0m  [1m[35mCREATE TABLE "viewers" ("id" bigserial primary key, "username" character varying(20), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "movies_viewers" ("movie_id" bigint, "viewer_id" bigint)[0m
  [1m[35m (37.1ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_movie_id" ON "movies_viewers"  ("movie_id")[0m
  [1m[35m (38.9ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_viewer_id" ON "movies_viewers"  ("viewer_id")[0m
  [1m[35m (34.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_movies_viewers_on_movie_id_and_viewer_id" ON "movies_viewers"  ("movie_id", "viewer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104045836"]]
  [1m[35m (14.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-01-04 06:51:10.352041"], ["updated_at", "2021-01-04 06:51:10.352041"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (328.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (320.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "sample_project_test"[0m
  [1m[35m (813.0ms)[0m  [1m[35mCREATE DATABASE "miniflix_development" ENCODING = 'unicode'[0m
  [1m[35m (746.3ms)[0m  [1m[35mCREATE DATABASE "sample_project_test" ENCODING = 'unicode'[0m
  [1m[35m (111.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (96.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210101135633)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (42.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135633"]]
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20210101135652)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (132.8ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (110.7ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp[0m
  [1m[35m (47.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (34.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135652"]]
  [1m[35m (17.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMovies (20210104041803)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (77.8ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "name" character varying, "year" smallint, "director" character varying(60), "main_star" character varying(60), "description" text, "favorited" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104041803"]]
  [1m[35m (15.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenres (20210104043143)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (35.2ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "name" character varying(64), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "genres_movies" ("movie_id" bigint, "genre_id" bigint)[0m
  [1m[35m (58.3ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id" ON "genres_movies"  ("movie_id")[0m
  [1m[35m (58.3ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_genre_id" ON "genres_movies"  ("genre_id")[0m
  [1m[35m (42.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_genres_movies_on_movie_id_and_genre_id" ON "genres_movies"  ("movie_id", "genre_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104043143"]]
  [1m[35m (13.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateViewers (20210104045836)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (46.6ms)[0m  [1m[35mCREATE TABLE "viewers" ("id" bigserial primary key, "username" character varying(20), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "movies_viewers" ("movie_id" bigint, "viewer_id" bigint)[0m
  [1m[35m (56.8ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_movie_id" ON "movies_viewers"  ("movie_id")[0m
  [1m[35m (37.8ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_viewer_id" ON "movies_viewers"  ("viewer_id")[0m
  [1m[35m (31.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_movies_viewers_on_movie_id_and_viewer_id" ON "movies_viewers"  ("movie_id", "viewer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104045836"]]
  [1m[35m (12.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-01-04 06:51:55.856253"], ["updated_at", "2021-01-04 06:51:55.856253"]]
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (324.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (326.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "sample_project_test"[0m
  [1m[35m (783.1ms)[0m  [1m[35mCREATE DATABASE "miniflix_development" ENCODING = 'unicode'[0m
  [1m[35m (833.1ms)[0m  [1m[35mCREATE DATABASE "sample_project_test" ENCODING = 'unicode'[0m
  [1m[35m (95.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (98.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210101135633)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (42.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135633"]]
  [1m[35m (15.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20210101135652)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (131.3ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (88.2ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp[0m
  [1m[35m (39.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (119.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135652"]]
  [1m[35m (28.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMovies (20210104041803)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (98.8ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "name" character varying, "year" smallint, "director" character varying(60), "main_star" character varying(60), "description" text, "favorited" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104041803"]]
  [1m[35m (15.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenres (20210104043143)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (36.0ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "name" character varying(64), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "genres_movies" ("movie_id" bigint, "genre_id" bigint)[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id" ON "genres_movies"  ("movie_id")[0m
  [1m[35m (31.5ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_genre_id" ON "genres_movies"  ("genre_id")[0m
  [1m[35m (42.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_genres_movies_on_movie_id_and_genre_id" ON "genres_movies"  ("movie_id", "genre_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104043143"]]
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateViewers (20210104045836)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (39.6ms)[0m  [1m[35mCREATE TABLE "viewers" ("id" bigserial primary key, "username" character varying(20), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "movies_viewers" ("movie_id" bigint, "viewer_id" bigint)[0m
  [1m[35m (41.4ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_movie_id" ON "movies_viewers"  ("movie_id")[0m
  [1m[35m (31.4ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_viewer_id" ON "movies_viewers"  ("viewer_id")[0m
  [1m[35m (42.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_movies_viewers_on_movie_id_and_viewer_id" ON "movies_viewers"  ("movie_id", "viewer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104045836"]]
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-01-04 06:54:41.193249"], ["updated_at", "2021-01-04 06:54:41.193249"]]
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:58:17 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Completed 404 Not Found in 12ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 4145)


Started POST "/api/v1/login" for ::1 at 2021-01-04 13:58:20 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[36mViewer Create (0.7ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user10@example.com"], ["created_at", "2021-01-04 06:58:20.919456"], ["updated_at", "2021-01-04 06:58:20.919456"]]
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[35m (23.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 11.7ms | Allocations: 4372)
Completed 200 OK in 66ms (Views: 8.3ms | ActiveRecord: 34.5ms | Allocations: 16550)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:58:23 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
Couldn't find Movie with 'id'=2
Completed 404 Not Found in 11ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 4394)


Started POST "/api/v1/login" for ::1 at 2021-01-04 13:58:32 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.3ms | Allocations: 1040)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.8ms | Allocations: 2126)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:58:36 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
Couldn't find Movie with 'id'=2
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1726)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mMovie Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mGenre Destroy (0.3ms)[0m  [1m[31mDELETE FROM "genres"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "STAR WARS: THE RISE OF SKYWALKER"], ["year", 1977], ["director", "J.J. Abrams"], ["main_star", "Mark Hammil, Adam Driver"], ["description", "When it's discovered that the evil Emperor Palpatine did not die at the hands of Darth Vader, the rebels must race against the clock to find out his whereabouts. Finn and Poe lead the Resistance to put a stop to the First Order's plans to form a new Empire, while Rey anticipates her inevitable confrontation with Kylo"], ["created_at", "2021-01-04 06:58:52.094959"], ["updated_at", "2021-01-04 06:58:52.094959"]]
  [1m[35m (35.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.7ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "THE LORD OF THE RINGS - THE RETURN OF THE KING"], ["year", 2003], ["director", "Peter Jackson"], ["main_star", "Elijah Wood, Ian Mc Kellen"], ["description", "The culmination of nearly 10 years' work and conclusion\nto Peter Jackson's epic trilogy based on the timeless J.R.R. Tolkien classic,\n 'The Lord of the Rings: The Return of the King' presents the final confrontation between the forces of good and evil fighting for control of the future of Middle-earth. Hobbits Frodo and Sam reach Mordor in their quest to destroy the `one ring', while Aragorn leads the forces of good against Sauron's evil army at the stone city of Minas Tirith."], ["created_at", "2021-01-04 06:58:52.134868"], ["updated_at", "2021-01-04 06:58:52.134868"]]
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Action"], ["created_at", "2021-01-04 06:58:52.150843"], ["updated_at", "2021-01-04 06:58:52.150843"]]
  [1m[35m (13.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Adventure"], ["created_at", "2021-01-04 06:58:52.167583"], ["updated_at", "2021-01-04 06:58:52.167583"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Animation"], ["created_at", "2021-01-04 06:58:52.178759"], ["updated_at", "2021-01-04 06:58:52.178759"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Biography"], ["created_at", "2021-01-04 06:58:52.189723"], ["updated_at", "2021-01-04 06:58:52.189723"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Comedy"], ["created_at", "2021-01-04 06:58:52.202051"], ["updated_at", "2021-01-04 06:58:52.202051"]]
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Crime"], ["created_at", "2021-01-04 06:58:52.212357"], ["updated_at", "2021-01-04 06:58:52.212357"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Documentary"], ["created_at", "2021-01-04 06:58:52.223060"], ["updated_at", "2021-01-04 06:58:52.223060"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2021-01-04 06:58:52.234258"], ["updated_at", "2021-01-04 06:58:52.234258"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fantasy"], ["created_at", "2021-01-04 06:58:52.244970"], ["updated_at", "2021-01-04 06:58:52.244970"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "History"], ["created_at", "2021-01-04 06:58:52.256684"], ["updated_at", "2021-01-04 06:58:52.256684"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horror"], ["created_at", "2021-01-04 06:58:52.267755"], ["updated_at", "2021-01-04 06:58:52.267755"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Musical"], ["created_at", "2021-01-04 06:58:52.278901"], ["updated_at", "2021-01-04 06:58:52.278901"]]
  [1m[35m (11.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mystery"], ["created_at", "2021-01-04 06:58:52.300898"], ["updated_at", "2021-01-04 06:58:52.300898"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Romance"], ["created_at", "2021-01-04 06:58:52.311945"], ["updated_at", "2021-01-04 06:58:52.311945"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sci-Fi"], ["created_at", "2021-01-04 06:58:52.322957"], ["updated_at", "2021-01-04 06:58:52.322957"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Thriller"], ["created_at", "2021-01-04 06:58:52.334325"], ["updated_at", "2021-01-04 06:58:52.334325"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "War"], ["created_at", "2021-01-04 06:58:52.345381"], ["updated_at", "2021-01-04 06:58:52.345381"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Western"], ["created_at", "2021-01-04 06:58:52.356224"], ["updated_at", "2021-01-04 06:58:52.356224"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.7ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (0.3ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 14]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 13]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 8]]
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 6]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 17]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 16]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.3ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user1@example.com"], ["created_at", "2021-01-04 06:58:52.419605"], ["updated_at", "2021-01-04 06:58:52.419605"]]
  [1m[35m (10.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user2@example.com"], ["created_at", "2021-01-04 06:58:52.433937"], ["updated_at", "2021-01-04 06:58:52.433937"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user3@example.com"], ["created_at", "2021-01-04 06:58:52.445377"], ["updated_at", "2021-01-04 06:58:52.445377"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:58:55 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.7ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (26.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 19.6ms | Allocations: 8594)
Completed 200 OK in 84ms (Views: 14.6ms | ActiveRecord: 34.2ms | Allocations: 21362)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 13:59:24 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.9ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 1) already exists.

Completed 400 Bad Request in 43ms (Views: 0.2ms | ActiveRecord: 10.4ms | Allocations: 19895)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:00:28 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.9ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 1) already exists.

Completed 400 Bad Request in 42ms (Views: 0.2ms | ActiveRecord: 9.1ms | Allocations: 19958)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:00:42 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.4ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (26.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.8ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 25.2ms | Allocations: 10176)
Completed 200 OK in 66ms (Views: 20.2ms | ActiveRecord: 33.6ms | Allocations: 14804)


  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.9ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMovie Load (0.9ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:02:59 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:21:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.7ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:21:in `assign_favorite'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:21:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 1) already exists.

Completed 400 Bad Request in 45ms (Views: 0.2ms | ActiveRecord: 10.7ms | Allocations: 19889)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:03:59 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:21:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:21:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:21:in `assign_favorite'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.2ms | Allocations: 7561)


  
NoMethodError (undefined method `add_count_viewers' for #<Viewer:0x00007f75d84a6a00>):
  
app/controllers/api/v1/favorites_controller.rb:21:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:05:12 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.4ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (27.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 21.6ms | Allocations: 8820)
Completed 200 OK in 98ms (Views: 17.1ms | ActiveRecord: 44.0ms | Allocations: 28032)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:05:40 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mMovie Update All (0.3ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:5:in `add_count_viewers'
  [1m[35m (13.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.7ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 22.7ms | Allocations: 8829)
Completed 200 OK in 80ms (Views: 19.0ms | ActiveRecord: 27.0ms | Allocations: 28482)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:06:16 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.0ms | Allocations: 5027)


  
NameError (undefined local variable or method `remove_count_viewers' for #<Class:0x000055a5135df170>
Did you mean?  remove_const):
  
app/models/viewer.rb:2:in `<class:Viewer>'
app/models/viewer.rb:1:in `<main>'
app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:06:29 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.0ms | Allocations: 5016)


  
NameError (undefined local variable or method `remove_count_viewers' for #<Class:0x000055a5107e5198>
Did you mean?  remove_const):
  
app/models/viewer.rb:2:in `<class:Viewer>'
app/models/viewer.rb:1:in `<main>'
app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:08:55 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.0ms | Allocations: 5019)


  
NameError (undefined local variable or method `remove_count_viewers' for #<Class:0x00007f75d4027208>
Did you mean?  remove_const):
  
app/models/viewer.rb:3:in `<class:Viewer>'
app/models/viewer.rb:1:in `<main>'
app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:09:13 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms | Allocations: 5020)


  
NameError (undefined local variable or method `remove_count_viewers' for #<Class:0x00007f75d83e5828>
Did you mean?  remove_const):
  
app/models/viewer.rb:4:in `<class:Viewer>'
app/models/viewer.rb:1:in `<main>'
app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:10:45 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms | Allocations: 5019)


  
NameError (undefined local variable or method `remove_count_viewers' for #<Class:0x000055a5128748c8>
Did you mean?  remove_const):
  
app/models/viewer.rb:4:in `<class:Viewer>'
app/models/viewer.rb:1:in `<main>'
app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:12:43 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (1.4ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 1) already exists.

Completed 400 Bad Request in 49ms (Views: 0.2ms | ActiveRecord: 9.3ms | Allocations: 19960)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:12:48 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.4ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  [1m[36mMovie Update All (0.5ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:5:in `add_count_viewers'
  [1m[35m (27.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 21.5ms | Allocations: 10176)
Completed 200 OK in 63ms (Views: 16.9ms | ActiveRecord: 34.8ms | Allocations: 15391)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:15:31 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"usersadfasf1@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "usersadfasf1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:40:in `set_viewer'
No template found for Api::V1::FavoritesController#remove_favorite, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 1.3ms | Allocations: 6674)


  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mViewer Load (1.1ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 LIMIT $2[0m  [["viewer_id", 1], ["LIMIT", 11]]
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (1.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 LIMIT $2[0m  [["viewer_id", 1], ["LIMIT", 11]]
Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:21:01 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"usersadfasf1@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "usersadfasf1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:46:in `set_viewer'
Completed 404 Not Found in 10ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2775)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:21:11 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:46:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mHABTM_Movies Load (0.2ms)[0m  [1m[34mSELECT "movies_viewers".* FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (42.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 15.0ms | Allocations: 7586)
Completed 200 OK in 95ms (Views: 11.7ms | ActiveRecord: 55.5ms | Allocations: 25059)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:22:15 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mHABTM_Movies Load (0.2ms)[0m  [1m[34mSELECT "movies_viewers".* FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (30.5ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 2]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.3ms | Allocations: 66)
Completed 200 OK in 82ms (Views: 1.8ms | ActiveRecord: 40.9ms | Allocations: 20229)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:22:24 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (4.4ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mMovie Update All (0.5ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:5:in `add_count_viewers'
  [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 19.3ms | Allocations: 8599)
Completed 200 OK in 81ms (Views: 14.7ms | ActiveRecord: 51.9ms | Allocations: 14711)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:22:29 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mHABTM_Movies Load (0.4ms)[0m  [1m[34mSELECT "movies_viewers".* FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (13.6ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 2]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.2ms | Allocations: 66)
Completed 200 OK in 27ms (Views: 0.7ms | ActiveRecord: 15.5ms | Allocations: 6300)


Started POST "/api/v1/login" for ::1 at 2021-01-04 14:22:55 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 1.8ms | Allocations: 1039)
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 0.7ms | Allocations: 2326)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:23:03 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mMovie Update All (0.4ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:5:in `add_count_viewers'
  [1m[35m (48.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 5.2ms | Allocations: 2245)
Completed 200 OK in 66ms (Views: 5.1ms | ActiveRecord: 50.9ms | Allocations: 7303)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:23:12 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (6.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mHABTM_Movies Load (0.4ms)[0m  [1m[34mSELECT "movies_viewers".* FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (14.8ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 2]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.2ms | Allocations: 66)
Completed 200 OK in 37ms (Views: 0.7ms | ActiveRecord: 23.1ms | Allocations: 6300)


  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mViewer Load (0.9ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 LIMIT $2[0m  [["viewer_id", 1], ["LIMIT", 11]]
  [1m[36mViewer Load (0.8ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (1.0ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 LIMIT $2[0m  [["viewer_id", 1], ["LIMIT", 11]]
  [1m[36mViewer Load (0.8ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.8ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 LIMIT $2[0m  [["viewer_id", 1], ["LIMIT", 11]]
  [1m[36mViewer Load (0.7ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.9ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 LIMIT $2[0m  [["viewer_id", 1], ["LIMIT", 11]]
  [1m[36mViewer Load (0.8ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 LIMIT $2[0m  [["viewer_id", 1], ["LIMIT", 11]]
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:24:51 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.2ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mMovie Update All (0.3ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:5:in `add_count_viewers'
  [1m[35m (15.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 18.9ms | Allocations: 8815)
Completed 200 OK in 78ms (Views: 14.4ms | ActiveRecord: 29.6ms | Allocations: 28458)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:24:53 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (1.4ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 1) already exists.

Completed 400 Bad Request in 12ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 5581)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:24:56 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (36.6ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 2]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.3ms | Allocations: 66)
Completed 200 OK in 51ms (Views: 1.1ms | ActiveRecord: 38.5ms | Allocations: 5403)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:25:47 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (3.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mMovie Update All (0.4ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:5:in `add_count_viewers'
  [1m[35m (24.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 4.2ms | Allocations: 2245)
Completed 200 OK in 52ms (Views: 4.1ms | ActiveRecord: 30.1ms | Allocations: 7304)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:26:04 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (0.5ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (34.7ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 2]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.2ms | Allocations: 66)
Completed 200 OK in 48ms (Views: 0.8ms | ActiveRecord: 36.3ms | Allocations: 5398)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:27:22 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mViewer::HABTM_Movies Create (0.5ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mMovie Update All (0.5ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:5:in `add_count_viewers'
  [1m[35m (10.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 19.2ms | Allocations: 8819)
Completed 200 OK in 105ms (Views: 16.3ms | ActiveRecord: 27.5ms | Allocations: 28479)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:27:25 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.3ms | Allocations: 1331)
Completed 200 OK in 11ms (Views: 2.5ms | ActiveRecord: 1.6ms | Allocations: 5159)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:28:15 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (0.2ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 7.8ms | Allocations: 18785)


  
NoMethodError (undefined method `reload' for #<Array:0x000055a510a26240>):
  
app/controllers/api/v1/favorites_controller.rb:31:in `remove_favorite'
Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:28:38 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:46:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 16.7ms | Allocations: 7588)
Completed 200 OK in 63ms (Views: 13.2ms | ActiveRecord: 14.1ms | Allocations: 25252)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:29:08 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (0.2ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 17.5ms | Allocations: 7579)
Completed 200 OK in 64ms (Views: 13.0ms | ActiveRecord: 14.5ms | Allocations: 25279)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:29:27 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 LIMIT $2[0m  [["viewer_id", 1], ["LIMIT", 11]]
  ↳ app/controllers/api/v1/favorites_controller.rb:32:in `p'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 15.4ms | Allocations: 7575)
Completed 200 OK in 81ms (Views: 11.4ms | ActiveRecord: 14.2ms | Allocations: 26167)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:30:01 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mViewer::HABTM_Movies Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 17.2ms | Allocations: 8766)
Completed 200 OK in 63ms (Views: 13.8ms | ActiveRecord: 12.8ms | Allocations: 26396)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:36:00 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>200}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
Couldn't find Movie with 'id'=200
Completed 404 Not Found in 38ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 8906)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:39:33 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms | Allocations: 4911)


  
NameError (undefined local variable or method `movie_viewers' for #<Class:0x00007f75d82cb1e0>):
  
app/models/viewer.rb:2:in `<class:Viewer>'
app/models/viewer.rb:1:in `<main>'
app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:40:41 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms | Allocations: 5434)


  
NameError (undefined local variable or method `movie_viewers' for #<Class:0x00007f75e8c718b0>):
  
app/models/viewer.rb:3:in `<class:Viewer>'
app/models/viewer.rb:1:in `<main>'
app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:41:23 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 10.3ms | Allocations: 16413)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "movie_viewers" does not exist
LINE 8:  WHERE a.attrelid = '"movie_viewers"'::regclass
                            ^
):
  
app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 LIMIT $2[0m  [["viewer_id", 1], ["LIMIT", 11]]
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:42:31 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.6ms | Allocations: 4074)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "movie_viewers" does not exist
LINE 8:  WHERE a.attrelid = '"movie_viewers"'::regclass
                            ^
):
  
app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
Started POST "/api/v1/login" for ::1 at 2021-01-04 14:42:39 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.7ms | Allocations: 1868)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.0ms | Allocations: 3154)


  
ActionView::Template::Error (PG::UndefinedTable: ERROR:  relation "movie_viewers" does not exist
LINE 8:  WHERE a.attrelid = '"movie_viewers"'::regclass
                            ^
):
    1: json.success true
    2: json.message @message
    3: json.data @movies do |movie|
    4:   json.id movie.id
    5:   json.name movie.name
    6:   json.year movie.year
  
app/views/api/v1/movies/favorited_movies.json.jbuilder:3
app/controllers/api/v1/login_controller.rb:15:in `login_viewer'
Started POST "/api/v1/login" for ::1 at 2021-01-04 14:43:22 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.8ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 37.0ms | Allocations: 14828)
Completed 200 OK in 58ms (Views: 27.4ms | ActiveRecord: 15.0ms | Allocations: 23087)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:44:49 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>200}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
Couldn't find Movie with 'id'=200
Completed 404 Not Found in 23ms (Views: 0.2ms | ActiveRecord: 6.4ms | Allocations: 8014)


Started POST "/api/v1/login" for ::1 at 2021-01-04 14:44:53 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (2.9ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (4.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 38.6ms | Allocations: 14320)
Completed 200 OK in 49ms (Views: 27.1ms | ActiveRecord: 15.6ms | Allocations: 16814)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:45:01 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 2]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[35m (38.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (1.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 4.5ms | Allocations: 910)
Completed 200 OK in 55ms (Views: 5.2ms | ActiveRecord: 41.3ms | Allocations: 4964)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:45:12 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (3.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 9.6ms | Allocations: 910)
Completed 200 OK in 26ms (Views: 10.0ms | ActiveRecord: 5.6ms | Allocations: 4737)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:46:04 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 7.0ms | Allocations: 14737)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:46:14 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 7.8ms | Allocations: 14755)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:46:29 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mMovie Destroy (0.9ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" IN (SELECT "movies"."id" FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."movie_id" = $2)[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 8.2ms | Allocations: 15568)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column movies.movie_id does not exist
LINE 1: ...e_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."...
                                                             ^
):
  
app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:46:59 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.2ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.8ms | Allocations: 1202)
Completed 200 OK in 46ms (Views: 2.9ms | ActiveRecord: 8.7ms | Allocations: 18347)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:47:03 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (3.9ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.6ms | Allocations: 910)
Completed 200 OK in 16ms (Views: 2.6ms | ActiveRecord: 5.5ms | Allocations: 4738)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:47:26 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.3ms | Allocations: 910)
Completed 200 OK in 16ms (Views: 2.6ms | ActiveRecord: 1.8ms | Allocations: 4738)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:47:27 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.1ms | Allocations: 910)
Completed 200 OK in 11ms (Views: 2.4ms | ActiveRecord: 2.1ms | Allocations: 4737)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:47:28 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (3.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.7ms | Allocations: 910)
Completed 200 OK in 19ms (Views: 3.4ms | ActiveRecord: 5.4ms | Allocations: 4737)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:47:29 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.8ms | Allocations: 910)
Completed 200 OK in 16ms (Views: 3.2ms | ActiveRecord: 1.9ms | Allocations: 4737)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:47:29 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:30:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 1.9ms | Allocations: 910)
Completed 200 OK in 13ms (Views: 2.1ms | ActiveRecord: 3.5ms | Allocations: 4737)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:48:40 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.8ms | Allocations: 1202)
Completed 200 OK in 46ms (Views: 3.0ms | ActiveRecord: 9.1ms | Allocations: 18336)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:49:06 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:47:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.2ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 1]]
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 1.8ms | Allocations: 1198)
Completed 200 OK in 43ms (Views: 2.3ms | ActiveRecord: 10.0ms | Allocations: 18341)


  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 LIMIT $2[0m  [["viewer_id", 1], ["LIMIT", 11]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMovie Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 2], ["LIMIT", 1]]
Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:54:57 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mMovie Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:31:in `remove_favorite'
Completed 500 Internal Server Error in 29ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 15314)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/api/v1/favorites_controller.rb:37:in `remove_favorite'
Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:55:13 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:31:in `remove_favorite'
Completed 404 Not Found in 39ms (Views: 0.2ms | ActiveRecord: 12.9ms | Allocations: 15154)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:56:46 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mMovie Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:31:in `remove_favorite'
Completed 404 Not Found in 37ms (Views: 0.2ms | ActiveRecord: 8.7ms | Allocations: 15095)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:57:00 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
  [1m[36mMovie Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:31:in `remove_favorite'
Completed 404 Not Found in 39ms (Views: 0.3ms | ActiveRecord: 8.7ms | Allocations: 15122)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:57:04 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>12}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
Couldn't find Movie with 'id'=12
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1664)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:57:07 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>12}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
Couldn't find Movie with 'id'=12
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1664)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:57:08 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>12}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
Couldn't find Movie with 'id'=12
Completed 404 Not Found in 12ms (Views: 1.6ms | ActiveRecord: 0.6ms | Allocations: 1664)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:57:09 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>12}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
Couldn't find Movie with 'id'=12
Completed 404 Not Found in 8ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1664)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:57:10 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>12}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
Couldn't find Movie with 'id'=12
Completed 404 Not Found in 7ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1665)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 14:57:10 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>12}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.8ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:29:in `remove_favorite'
Couldn't find Movie with 'id'=12
Completed 404 Not Found in 9ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 1664)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:57:14 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mMoviesViewer Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (236.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 41.4ms | Allocations: 8867)
Completed 200 OK in 299ms (Views: 37.8ms | ActiveRecord: 243.4ms | Allocations: 15052)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:57:42 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mMoviesViewer Create (3.2ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 1) already exists.

Completed 400 Bad Request in 23ms (Views: 0.2ms | ActiveRecord: 4.8ms | Allocations: 5616)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:57:50 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mMoviesViewer Create (1.4ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 1) already exists.

Completed 400 Bad Request in 26ms (Views: 0.3ms | ActiveRecord: 2.8ms | Allocations: 5616)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:57:51 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mMoviesViewer Create (2.1ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 1) already exists.

Completed 400 Bad Request in 14ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 5617)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:57:52 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mMoviesViewer Create (3.6ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 1) already exists.

Completed 400 Bad Request in 19ms (Views: 0.2ms | ActiveRecord: 6.6ms | Allocations: 5616)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 14:57:53 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[36mMoviesViewer Create (1.0ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:19:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 1) already exists.

Completed 400 Bad Request in 10ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 5616)


Started POST "/api/v1/login" for ::1 at 2021-01-04 14:58:03 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 4.5ms | Allocations: 2322)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 1.1ms | Allocations: 3613)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 14:58:14 +0700
Processing by Api::V1::MoviesController#index as JSON
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  Rendered api/v1/movies/index.json.jbuilder (Duration: 8.9ms | Allocations: 3475)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 1.4ms | Allocations: 4161)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 14:58:20 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:16:in `set_movie'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 6.3ms | Allocations: 1426)
Completed 200 OK in 11ms (Views: 6.9ms | ActiveRecord: 1.3ms | Allocations: 2424)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:01:26 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1123230@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1123230@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
Filter chain halted as :set_viewer rendered or redirected
Completed 404 Not Found in 6ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2300)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:01:27 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1123230@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1123230@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
Filter chain halted as :set_viewer rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 786)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:01:28 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1123230@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1123230@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
Filter chain halted as :set_viewer rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 786)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:01:29 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1123230@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1123230@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
Filter chain halted as :set_viewer rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 786)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:01:30 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1123230@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1123230@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
Filter chain halted as :set_viewer rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 786)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:01:31 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1123230@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1123230@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
Filter chain halted as :set_viewer rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 786)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:01:42 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1123230@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1123230@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.0ms | Allocations: 3023)


  
NoMethodError (undefined method `movies' for nil:NilClass):
  
app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:01:59 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1123230@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1123230@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
Filter chain halted as :set_viewer rendered or redirected
Completed 404 Not Found in 6ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 2297)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:02:33 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1123230@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1123230@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
Filter chain halted as :set_viewer rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 786)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:02:36 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>12}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:22:in `remove_favorite'
Couldn't find Movie with 'id'=12
Completed 404 Not Found in 29ms (Views: 0.2ms | ActiveRecord: 7.3ms | Allocations: 8641)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:02:42 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:22:in `remove_favorite'
  [1m[36mMovie Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:24:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 2]]
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  [1m[35m (12.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.9ms | Allocations: 1198)
Completed 200 OK in 55ms (Views: 3.2ms | ActiveRecord: 18.3ms | Allocations: 12454)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:03:18 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:22:in `remove_favorite'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:24:in `remove_favorite'
Completed 404 Not Found in 37ms (Views: 0.2ms | ActiveRecord: 8.3ms | Allocations: 15075)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:03:52 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:22:in `remove_favorite'
  [1m[36mMovie Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:24:in `remove_favorite'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 9.0ms | Allocations: 15316)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/controllers/api/v1/favorites_controller.rb:40:in `favorite_not_found'
app/controllers/api/v1/favorites_controller.rb:28:in `remove_favorite'
Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:04:00 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:22:in `remove_favorite'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:24:in `remove_favorite'
Completed 404 Not Found in 44ms (Views: 0.2ms | ActiveRecord: 12.7ms | Allocations: 15130)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:04:13 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user1123230@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1123230@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
Filter chain halted as :set_viewer rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 786)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:04:17 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:49:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMoviesViewer Create (1.5ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[35m (36.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 20.9ms | Allocations: 8816)
Completed 200 OK in 75ms (Views: 17.3ms | ActiveRecord: 45.0ms | Allocations: 14996)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:06:21 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:52:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `find_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMoviesViewer Create (1.1ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 1) already exists.

Completed 400 Bad Request in 46ms (Views: 0.2ms | ActiveRecord: 10.9ms | Allocations: 19949)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:06:26 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:52:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `find_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMoviesViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[35m (26.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 18.7ms | Allocations: 10171)
Completed 200 OK in 58ms (Views: 15.1ms | ActiveRecord: 32.5ms | Allocations: 14850)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:06:34 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:52:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `find_movie'
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[36mMoviesViewer Create (1.2ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/favorites_controller.rb:16:in `assign_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 1) already exists.

Completed 400 Bad Request in 12ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 5628)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:06:41 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:52:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:48:in `find_movie'
  [1m[36mMovie Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:23:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 2]]
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 4.6ms | Allocations: 2194)
Completed 200 OK in 25ms (Views: 4.4ms | ActiveRecord: 11.2ms | Allocations: 6843)


Started GET "/api/v1/favorites" for ::1 at 2021-01-04 15:07:19 +0700
  
ActionController::RoutingError (No route matches [GET] "/api/v1/favorites"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:08:34 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1003)


  
NoMethodError (undefined method `movies' for nil:NilClass):
  
app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:08:50 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2060)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/favorites_controller.rb:57:in `set_viewer'
Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:09:19 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2060)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/v1/favorites_controller.rb:58:in `set_viewer'
Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:11:13 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user10@example.com", "favorite"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 31.6ms | Allocations: 14792)
Completed 200 OK in 58ms (Views: 23.2ms | ActiveRecord: 13.1ms | Allocations: 22958)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:11:25 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user1@example.com", "favorite"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 1.9ms | Allocations: 1035)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.5ms | Allocations: 1944)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:11:27 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user1@example.com", "favorite"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.0ms | Allocations: 1035)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.6ms | Allocations: 1943)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:11:28 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user1@example.com", "favorite"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 1.9ms | Allocations: 1035)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.6ms | Allocations: 1943)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:11:29 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user1@example.com", "favorite"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.7ms | Allocations: 1035)
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.7ms | Allocations: 1943)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:13:01 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user1@example.com", "favorite"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 9.6ms | Allocations: 3072)
Completed 200 OK in 28ms (Views: 5.7ms | ActiveRecord: 8.3ms | Allocations: 11196)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:13:12 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"asdfasf@example.com", "favorite"=>{"username"=>"asdfasf@example.com"}}
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "asdfasf@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.6ms | Allocations: 1565)


  
NoMethodError (undefined method `movies' for nil:NilClass):
  
app/controllers/api/v1/favorites_controller.rb:35:in `fav_movies'
Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:13:28 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"asdfasf@example.com", "favorite"=>{"username"=>"asdfasf@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "asdfasf@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 7ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2569)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:13:37 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"asdfasf@example.com", "favorite"=>{"username"=>"asdfasf@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "asdfasf@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1099)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:13:38 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"asdfasf@example.com", "favorite"=>{"username"=>"asdfasf@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "asdfasf@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1099)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:13:38 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"asdfasf@example.com", "favorite"=>{"username"=>"asdfasf@example.com"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "asdfasf@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1099)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:13:39 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"asdfasf@example.com", "favorite"=>{"username"=>"asdfasf@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "asdfasf@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1099)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:13:39 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"asdfasf@example.com", "favorite"=>{"username"=>"asdfasf@example.com"}}
  [1m[36mViewer Load (0.7ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "asdfasf@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1099)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:13:40 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"asdfasf@example.com", "favorite"=>{"username"=>"asdfasf@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "asdfasf@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1099)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:13:41 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"asdfasf@example.com", "favorite"=>{"username"=>"asdfasf@example.com"}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "asdfasf@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1099)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:13:41 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"asdfasf@example.com", "favorite"=>{"username"=>"asdfasf@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "asdfasf@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1100)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:13:42 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"asdfasf@example.com", "favorite"=>{"username"=>"asdfasf@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "asdfasf@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1099)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:15:51 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"asdfasf@example.com", "favorite"=>{"username"=>"asdfasf@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "asdfasf@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 8ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 2610)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:15:57 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user10@example.com", "favorite"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 30.6ms | Allocations: 14775)
Completed 200 OK in 49ms (Views: 23.9ms | ActiveRecord: 11.3ms | Allocations: 21486)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:16:18 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user10@example.com", "favorite"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 39.6ms | Allocations: 14777)
Completed 200 OK in 64ms (Views: 30.1ms | ActiveRecord: 13.8ms | Allocations: 22940)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 15:16:31 +0700
Processing by Api::V1::MoviesController#index as JSON
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  Rendered api/v1/movies/index.json.jbuilder (Duration: 5.2ms | Allocations: 3377)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.7ms | Allocations: 3917)


Started POST "/api/v1/login" for ::1 at 2021-01-04 15:16:36 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (2.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.7ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 6.2ms | Allocations: 2322)
Completed 200 OK in 12ms (Views: 6.1ms | ActiveRecord: 3.4ms | Allocations: 3610)


Started POST "/api/v1/login" for ::1 at 2021-01-04 15:16:38 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 3.2ms | Allocations: 2322)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.7ms | Allocations: 3396)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:16:42 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMoviesViewer Create (1.7ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 1]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 1) already exists.

Completed 400 Bad Request in 19ms (Views: 0.3ms | ActiveRecord: 4.0ms | Allocations: 7211)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:16:46 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMoviesViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (10.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMovie Update All (54.6ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:12:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 5.3ms | Allocations: 3402)
Completed 500 Internal Server Error in 87ms (ActiveRecord: 66.7ms | Allocations: 8479)


  
ActionView::Template::Error (undefined method `map' for #<Movie:0x000055a5135ccbd8>
Did you mean?  tap):
    1: json.success true
    2: json.message @message
    3: json.data @movies do |movie|
    4:   json.id movie.id
    5:   json.name movie.name
    6:   json.year movie.year
  
app/views/api/v1/movies/favorited_movies.json.jbuilder:3
app/controllers/api/v1/favorites_controller.rb:18:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:17:21 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Update All (21.6ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[36mMoviesViewer Create (0.8ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 1) already exists.

Completed 400 Bad Request in 73ms (Views: 0.2ms | ActiveRecord: 35.3ms | Allocations: 20633)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:17:26 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:23:in `remove_favorite'
  [1m[35m (3.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 2]]
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[35m (39.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[36mMovie Update All (20.8ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) - $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 18.5ms | Allocations: 8836)
Completed 200 OK in 99ms (Views: 14.4ms | ActiveRecord: 70.6ms | Allocations: 14222)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:17:30 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Update All (36.8ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[36mMoviesViewer Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 1]]
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[35m (48.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 7.2ms | Allocations: 3530)
Completed 200 OK in 107ms (Views: 7.0ms | ActiveRecord: 87.6ms | Allocations: 8628)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:17:37 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:23:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 1], ["movie_id", 2]]
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[35m (50.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[36mMovie Update All (9.0ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) - $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 5.6ms | Allocations: 2194)
Completed 200 OK in 83ms (Views: 5.6ms | ActiveRecord: 61.9ms | Allocations: 7391)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:17:42 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user10@example.com", "favorite"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 4.9ms | Allocations: 2322)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.8ms | Allocations: 3287)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 15:18:04 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:16:in `set_movie'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 2.3ms | Allocations: 1336)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.6ms | Allocations: 2397)


  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" ORDER BY "movies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.8ms)[0m  [1m[34mSELECT "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.9ms)[0m  [1m[34mSELECT "movies".* FROM "movies" ORDER BY "movies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.9ms)[0m  [1m[34mSELECT "movies".* FROM "movies" ORDER BY "movies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" INNER JOIN "movies_viewers" ON "viewers"."id" = "movies_viewers"."viewer_id" WHERE "movies_viewers"."movie_id" = $1 LIMIT $2[0m  [["movie_id", 1], ["LIMIT", 11]]
  [1m[36mMovie Load (0.8ms)[0m  [1m[34mSELECT "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" INNER JOIN "movies_viewers" ON "viewers"."id" = "movies_viewers"."viewer_id" WHERE "movies_viewers"."movie_id" = $1 LIMIT $2[0m  [["movie_id", 2], ["LIMIT", 11]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (2925.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (339.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "sample_project_test"[0m
  [1m[35m (908.8ms)[0m  [1m[35mCREATE DATABASE "miniflix_development" ENCODING = 'unicode'[0m
  [1m[35m (898.0ms)[0m  [1m[35mCREATE DATABASE "sample_project_test" ENCODING = 'unicode'[0m
  [1m[35m (169.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (96.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210101135633)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (62.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135633"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20210101135652)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (129.5ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (98.9ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp[0m
  [1m[35m (37.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (31.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135652"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMovies (20210104041803)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (99.6ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "name" character varying, "year" smallint, "director" character varying(60), "main_star" character varying(60), "description" text, "favorited" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104041803"]]
  [1m[35m (14.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenres (20210104043143)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (45.2ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "name" character varying(64), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "genres_movies" ("movie_id" bigint, "genre_id" bigint)[0m
  [1m[35m (28.8ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id" ON "genres_movies"  ("movie_id")[0m
  [1m[35m (41.6ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_genre_id" ON "genres_movies"  ("genre_id")[0m
  [1m[35m (30.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_genres_movies_on_movie_id_and_genre_id" ON "genres_movies"  ("movie_id", "genre_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104043143"]]
  [1m[35m (13.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateViewers (20210104045836)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (42.5ms)[0m  [1m[35mCREATE TABLE "viewers" ("id" bigserial primary key, "username" character varying(20), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "movies_viewers" ("movie_id" bigint, "viewer_id" bigint)[0m
  [1m[35m (32.8ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_movie_id" ON "movies_viewers"  ("movie_id")[0m
  [1m[35m (53.8ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_viewer_id" ON "movies_viewers"  ("viewer_id")[0m
  [1m[35m (28.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_movies_viewers_on_movie_id_and_viewer_id" ON "movies_viewers"  ("movie_id", "viewer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104045836"]]
  [1m[35m (14.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-01-04 08:19:36.036376"], ["updated_at", "2021-01-04 08:19:36.036376"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mMovie Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mGenre Destroy (0.2ms)[0m  [1m[31mDELETE FROM "genres"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "STAR WARS: THE RISE OF SKYWALKER"], ["year", 1977], ["director", "J.J. Abrams"], ["main_star", "Mark Hammil, Adam Driver"], ["description", "When it's discovered that the evil Emperor Palpatine did not die at the hands of Darth Vader, the rebels must race against the clock to find out his whereabouts. Finn and Poe lead the Resistance to put a stop to the First Order's plans to form a new Empire, while Rey anticipates her inevitable confrontation with Kylo"], ["created_at", "2021-01-04 08:19:38.835817"], ["updated_at", "2021-01-04 08:19:38.835817"]]
  [1m[35m (26.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "THE LORD OF THE RINGS - THE RETURN OF THE KING"], ["year", 2003], ["director", "Peter Jackson"], ["main_star", "Elijah Wood, Ian Mc Kellen"], ["description", "The culmination of nearly 10 years' work and conclusion\nto Peter Jackson's epic trilogy based on the timeless J.R.R. Tolkien classic,\n 'The Lord of the Rings: The Return of the King' presents the final confrontation between the forces of good and evil fighting for control of the future of Middle-earth. Hobbits Frodo and Sam reach Mordor in their quest to destroy the `one ring', while Aragorn leads the forces of good against Sauron's evil army at the stone city of Minas Tirith."], ["created_at", "2021-01-04 08:19:38.866548"], ["updated_at", "2021-01-04 08:19:38.866548"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Action"], ["created_at", "2021-01-04 08:19:38.885176"], ["updated_at", "2021-01-04 08:19:38.885176"]]
  [1m[35m (9.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Adventure"], ["created_at", "2021-01-04 08:19:38.899721"], ["updated_at", "2021-01-04 08:19:38.899721"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Animation"], ["created_at", "2021-01-04 08:19:38.911275"], ["updated_at", "2021-01-04 08:19:38.911275"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Biography"], ["created_at", "2021-01-04 08:19:38.922129"], ["updated_at", "2021-01-04 08:19:38.922129"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Comedy"], ["created_at", "2021-01-04 08:19:38.933231"], ["updated_at", "2021-01-04 08:19:38.933231"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Crime"], ["created_at", "2021-01-04 08:19:38.944565"], ["updated_at", "2021-01-04 08:19:38.944565"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Documentary"], ["created_at", "2021-01-04 08:19:38.955315"], ["updated_at", "2021-01-04 08:19:38.955315"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2021-01-04 08:19:38.966550"], ["updated_at", "2021-01-04 08:19:38.966550"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fantasy"], ["created_at", "2021-01-04 08:19:38.977669"], ["updated_at", "2021-01-04 08:19:38.977669"]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "History"], ["created_at", "2021-01-04 08:19:38.988837"], ["updated_at", "2021-01-04 08:19:38.988837"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horror"], ["created_at", "2021-01-04 08:19:38.999612"], ["updated_at", "2021-01-04 08:19:38.999612"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Musical"], ["created_at", "2021-01-04 08:19:39.010950"], ["updated_at", "2021-01-04 08:19:39.010950"]]
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mystery"], ["created_at", "2021-01-04 08:19:39.021987"], ["updated_at", "2021-01-04 08:19:39.021987"]]
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Romance"], ["created_at", "2021-01-04 08:19:39.043727"], ["updated_at", "2021-01-04 08:19:39.043727"]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sci-Fi"], ["created_at", "2021-01-04 08:19:39.055175"], ["updated_at", "2021-01-04 08:19:39.055175"]]
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Thriller"], ["created_at", "2021-01-04 08:19:39.066430"], ["updated_at", "2021-01-04 08:19:39.066430"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "War"], ["created_at", "2021-01-04 08:19:39.077646"], ["updated_at", "2021-01-04 08:19:39.077646"]]
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Western"], ["created_at", "2021-01-04 08:19:39.088727"], ["updated_at", "2021-01-04 08:19:39.088727"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (0.4ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 1]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 11]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 14]]
  [1m[35m (12.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 14]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 16]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 13]]
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user1@example.com"], ["created_at", "2021-01-04 08:19:39.162337"], ["updated_at", "2021-01-04 08:19:39.162337"]]
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.3ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user2@example.com"], ["created_at", "2021-01-04 08:19:39.177327"], ["updated_at", "2021-01-04 08:19:39.177327"]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user3@example.com"], ["created_at", "2021-01-04 08:19:39.188569"], ["updated_at", "2021-01-04 08:19:39.188569"]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/v1/login" for ::1 at 2021-01-04 15:19:46 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10@example.com", "login"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[36mViewer Create (0.7ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user10@example.com"], ["created_at", "2021-01-04 08:19:46.791830"], ["updated_at", "2021-01-04 08:19:46.791830"]]
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[35m (12.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 13.1ms | Allocations: 4351)
Completed 200 OK in 59ms (Views: 8.9ms | ActiveRecord: 23.9ms | Allocations: 19229)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:19:57 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Update All (35.3ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[36mMoviesViewer Create (0.6ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[35m (42.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (1.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.7ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 30.2ms | Allocations: 8681)
Completed 200 OK in 144ms (Views: 20.8ms | ActiveRecord: 95.8ms | Allocations: 20718)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:20:08 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 4], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:23:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 4], ["movie_id", 1]]
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[35m (37.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[36mMovie Update All (7.4ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) - $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 1.9ms | Allocations: 912)
Completed 200 OK in 58ms (Views: 2.0ms | ActiveRecord: 46.8ms | Allocations: 6183)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 15:20:11 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:16:in `set_movie'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (4.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 7.4ms | Allocations: 1430)
Completed 200 OK in 11ms (Views: 4.1ms | ActiveRecord: 4.6ms | Allocations: 2651)


Started POST "/api/v1/login" for ::1 at 2021-01-04 15:21:24 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11@example.com", "login"=>{"username"=>"user11@example.com"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user11@example.com"], ["created_at", "2021-01-04 08:21:24.361587"], ["updated_at", "2021-01-04 08:21:24.361587"]]
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[35m (25.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 12.0ms | Allocations: 4351)
Completed 200 OK in 75ms (Views: 9.2ms | ActiveRecord: 35.8ms | Allocations: 19229)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:21:29 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Update All (43.1ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[36mMoviesViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[35m (53.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 24.4ms | Allocations: 8681)
Completed 200 OK in 152ms (Views: 18.8ms | ActiveRecord: 105.8ms | Allocations: 20714)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:21:53 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user10@example.com", "favorite"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 8.5ms | Allocations: 2323)
Completed 200 OK in 14ms (Views: 8.8ms | ActiveRecord: 1.7ms | Allocations: 3306)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:22:04 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user11@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user11@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Update All (43.7ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[36mMoviesViewer Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 5]]
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[35m (39.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 4.9ms | Allocations: 2246)
Completed 200 OK in 110ms (Views: 4.4ms | ActiveRecord: 85.6ms | Allocations: 7331)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:22:20 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.8ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Exists? (6.3ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 4], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:23:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 4], ["movie_id", 1]]
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[35m (28.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[36mMovie Update All (54.0ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) - $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (1.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 5.4ms | Allocations: 911)
Completed 200 OK in 113ms (Views: 5.5ms | ActiveRecord: 91.6ms | Allocations: 6165)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:22:28 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 4], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:23:in `remove_favorite'
Completed 404 Not Found in 9ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 2339)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:22:34 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 4], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:23:in `remove_favorite'
Completed 404 Not Found in 8ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 2337)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:22:36 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 4], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:23:in `remove_favorite'
Completed 404 Not Found in 7ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 2321)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 15:22:47 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:16:in `set_movie'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 3.5ms | Allocations: 1428)
Completed 200 OK in 7ms (Views: 3.9ms | ActiveRecord: 0.8ms | Allocations: 2632)


  [1m[36mMoviesViewer Load (0.3ms)[0m  [1m[34mSELECT "movies_viewers".* FROM "movies_viewers" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers"[0m
Started POST "/api/v1/login" for ::1 at 2021-01-04 15:27:11 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11@example.com", "login"=>{"username"=>"user11@example.com"}}
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 5.9ms | Allocations: 2323)
Completed 200 OK in 11ms (Views: 6.0ms | ActiveRecord: 1.7ms | Allocations: 3551)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:27:30 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user11@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user11@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Update All (46.5ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[36mMoviesViewer Create (1.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 5]]
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 5) already exists.

Completed 400 Bad Request in 60ms (Views: 0.2ms | ActiveRecord: 48.9ms | Allocations: 6215)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:27:35 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user11@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user11@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Update All (34.8ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[36mMoviesViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 5]]
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[35m (49.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 7.5ms | Allocations: 3530)
Completed 200 OK in 106ms (Views: 7.0ms | ActiveRecord: 86.2ms | Allocations: 8616)


  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" ORDER BY "movies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" INNER JOIN "movies_viewers" ON "viewers"."id" = "movies_viewers"."viewer_id" WHERE "movies_viewers"."movie_id" = $1 LIMIT $2[0m  [["movie_id", 1], ["LIMIT", 11]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers"[0m
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:29:16 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user11@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user11@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Update All (38.1ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[36mMoviesViewer Create (1.1ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 5]]
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 5) already exists.

Completed 400 Bad Request in 50ms (Views: 0.3ms | ActiveRecord: 40.2ms | Allocations: 6208)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 15:29:24 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user11@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user11@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 5], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:23:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.6ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 5], ["movie_id", 1]]
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[35m (16.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:6:in `remove_favorite'
  [1m[36mMovie Update All (69.1ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) - $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:7:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 4.9ms | Allocations: 2194)
Completed 200 OK in 104ms (Views: 4.7ms | ActiveRecord: 88.5ms | Allocations: 7390)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 15:29:54 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:16:in `set_movie'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 15.1ms | Allocations: 7637)
Completed 200 OK in 33ms (Views: 11.2ms | ActiveRecord: 7.6ms | Allocations: 16018)


  [1m[36mMoviesViewer Destroy (28.8ms)[0m  [1m[31mDELETE FROM "movies_viewers"[0m
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  [1m[36mMovie Update All (33.4ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = $1[0m  [["favorited", 0]]
Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:31:36 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user10@example.com", "favorite"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 6.9ms | Allocations: 2621)
Completed 200 OK in 21ms (Views: 5.7ms | ActiveRecord: 5.1ms | Allocations: 8261)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:32:50 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user11@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user11@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Update All (44.5ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[36mMoviesViewer Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 5]]
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[35m (67.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 5.3ms | Allocations: 2246)
Completed 200 OK in 134ms (Views: 5.1ms | ActiveRecord: 115.1ms | Allocations: 8906)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:32:54 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user11@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user11@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Update All (39.0ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[36mMoviesViewer Create (1.2ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 5]]
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 5) already exists.

Completed 400 Bad Request in 54ms (Views: 0.2ms | ActiveRecord: 41.9ms | Allocations: 6205)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:33:01 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.7ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Update All (41.3ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[36mMoviesViewer Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 4]]
  ↳ app/models/viewer.rb:12:in `add_favorite'
  [1m[35m (60.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:12:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 5.0ms | Allocations: 2246)
Completed 200 OK in 119ms (Views: 4.8ms | ActiveRecord: 103.6ms | Allocations: 7331)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:34:10 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>2}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMoviesViewer Create (1.0ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 4]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 4) already exists.

Completed 400 Bad Request in 46ms (Views: 0.3ms | ActiveRecord: 10.1ms | Allocations: 20044)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:34:21 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMoviesViewer Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (246.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMovie Update All (8.1ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:12:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 21.0ms | Allocations: 10175)
Completed 200 OK in 294ms (Views: 16.7ms | ActiveRecord: 261.2ms | Allocations: 15425)


Started GET "/" for ::1 at 2021-01-04 15:38:07 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 5.7ms | Allocations: 295)
Completed 200 OK in 13ms (Views: 7.1ms | ActiveRecord: 0.0ms | Allocations: 1803)


Started GET "/admin" for ::1 at 2021-01-04 15:38:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/admin"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/admin/login" for ::1 at 2021-01-04 15:38:21 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.9ms | Allocations: 596)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 5529)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 666ms (Views: 646.8ms | ActiveRecord: 5.2ms | Allocations: 155671)


Started GET "/admin/new" for ::1 at 2021-01-04 15:38:26 +0700
  
ActionController::RoutingError (uninitialized constant RegistrationsController):
  
actionpack (6.0.3.4) lib/action_dispatch/http/request.rb:92:in `rescue in controller_class_for'
actionpack (6.0.3.4) lib/action_dispatch/http/request.rb:88:in `controller_class_for'
actionpack (6.0.3.4) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (6.0.3.4) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack-pjax (1.1.0) lib/rack/pjax.rb:12:in `call'
remotipart (1.4.4) lib/remotipart/middleware.rb:32:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.4) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/admin/login" for ::1 at 2021-01-04 15:38:31 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 135)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms | Allocations: 4777)


Started POST "/admin/login" for ::1 at 2021-01-04 15:38:53 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"uyzu5HG1oo3i0tPUSCcBRJT/wbcGY1M6nf+Lb8k0exuCHNNk2cqhsOMRgklj5FzUPoGHy7rNKdhEZPTJTCMuwg==", "user"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user1@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.9ms | Allocations: 2502)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"uyzu5HG1oo3i0tPUSCcBRJT/wbcGY1M6nf+Lb8k0exuCHNNk2cqhsOMRgklj5FzUPoGHy7rNKdhEZPTJTCMuwg==", "user"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 135)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1063)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 273ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 5159)


Started POST "/admin/login" for ::1 at 2021-01-04 15:38:54 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"XPctP5u6PC+SiBUTyjLokKq46yPCP9vLHnGt5MoIwBVlxxC/M8U/EpNLRI7h8bUAAMatX36RoSnH6tJCTx+VzA==", "user"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user1@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms | Allocations: 1880)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"XPctP5u6PC+SiBUTyjLokKq46yPCP9vLHnGt5MoIwBVlxxC/M8U/EpNLRI7h8bUAAMatX36RoSnH6tJCTx+VzA==", "user"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 135)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1060)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 270ms (Views: 5.2ms | ActiveRecord: 0.0ms | Allocations: 4652)


Started POST "/admin/login" for ::1 at 2021-01-04 15:38:55 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"LiCiTIQ7+eYKoQzw7ZQRI4nQdk4Ta3DzKwhvw+gF6XAXEJ/MLET62wtiXW3GV0yzI64wMq/FChHykxBlbRK8qQ==", "user"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user1@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.4ms | Allocations: 1873)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"LiCiTIQ7+eYKoQzw7ZQRI4nQdk4Ta3DzKwhvw+gF6XAXEJ/MLET62wtiXW3GV0yzI64wMq/FChHykxBlbRK8qQ==", "user"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 135)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1060)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 280ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 4650)


  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2021-01-04 08:39:49.444418"], ["updated_at", "2021-01-04 08:39:49.444418"], ["email", "admin@example.com"], ["encrypted_password", "$2a$12$yIvLh/PDhv4VJNtv3dB2SO.73iVwKzhvsLkDtpBtev13YOx8DJqlW"]]
  [1m[35m (26.5ms)[0m  [1m[35mCOMMIT[0m
Started POST "/admin/login" for ::1 at 2021-01-04 15:40:02 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"cLwwwoMU0t1kCbP+LdHbonMNYbbwJbAhX8ZGh4A2PRpJjA1CK2vR4GXK4mMGEoYy2XMnykyLysOGXTkhBSFoww==", "user"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/admin/
Completed 302 Found in 270ms (ActiveRecord: 0.4ms | Allocations: 4426)


Started GET "/admin/" for ::1 at 2021-01-04 15:40:02 +0700
  
ActionController::RoutingError (No route matches [GET] "/admin"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 15:42:34 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"user10@example.com", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMoviesViewer Create (1.1ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 4) already exists.

Completed 400 Bad Request in 52ms (Views: 0.3ms | ActiveRecord: 11.0ms | Allocations: 24993)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 15:50:46 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user10@example.com", "favorite"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.9ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 45.4ms | Allocations: 13465)
Completed 200 OK in 50ms (Views: 38.8ms | ActiveRecord: 8.4ms | Allocations: 14831)


Started GET "/admin/" for ::1 at 2021-01-04 15:52:46 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:24:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 17.4ms | Allocations: 6623)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 140ms (Views: 108.5ms | ActiveRecord: 8.4ms | Allocations: 68851)


Started DELETE "/admin/logout" for ::1 at 2021-01-04 15:52:49 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"IhC+RonUOX+26p6h58VQ0Ti2/xM/tK9NVi0IizAOU7IQxvr2Fsg5rzaU7cUKH1foW4LTysbB83MEyMuEAYdT/A=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.3ms | Allocations: 5344)


Started GET "/" for ::1 at 2021-01-04 15:52:49 +0700
Processing by Admin::MoviesController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 318)


Started GET "/admin/login" for ::1 at 2021-01-04 15:52:49 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 421)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2682)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.0ms | Allocations: 8090)


Started POST "/admin/login" for ::1 at 2021-01-04 15:53:00 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"+cyvrJb6u2TVwc8J8GBhssstI/V9tXE94TP03HjDkFv6CW40asZUzfO/EGYHLJXnQ1kHp6svL5WHjHTFAX8fHQ==", "user"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 279ms (ActiveRecord: 0.3ms | Allocations: 5285)


Started GET "/" for ::1 at 2021-01-04 15:53:01 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:24:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1050)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.6ms | Allocations: 6084)


Started GET "/admin/movies/new" for ::1 at 2021-01-04 15:53:14 +0700
Processing by Admin::MoviesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:35
  Rendered admin/movies/_form.html.erb (Duration: 70.0ms | Allocations: 18835)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 71.0ms | Allocations: 19138)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 79ms (Views: 70.9ms | ActiveRecord: 4.8ms | Allocations: 24180)


Started GET "/admin" for ::1 at 2021-01-04 15:53:56 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:24:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1045)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 8.1ms | ActiveRecord: 0.8ms | Allocations: 6067)


Started GET "/admin/movies/new" for ::1 at 2021-01-04 15:53:59 +0700
Processing by Admin::MoviesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:35
  Rendered admin/movies/_form.html.erb (Duration: 15.1ms | Allocations: 6211)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 15.3ms | Allocations: 6274)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 19.3ms | ActiveRecord: 0.8ms | Allocations: 11267)


Started POST "/admin/movies" for ::1 at 2021-01-04 15:54:07 +0700
Processing by Admin::MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"98UIe6cdkE9S31g50LP+0iSbrt7Z56CZXTbtREuwPDtL/obTjdXtNu8YLhRazuzZom/HoXUCPsSgsjAogjp6Xg==", "movie"=>{"name"=>"ÃÃÃÃÃÃÃ", "year"=>"1921", "main_star"=>"ÃÃÃÃÃ", "description"=>"ÃÃÃÃÃÃ", "genre_ids"=>["", "2", "3", "4"]}, "commit"=>"Create Movie"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" IN ($1, $2, $3)[0m  [["id", 2], ["id", 3], ["id", 4]]
  ↳ app/controllers/admin/movies_controller.rb:27:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "ÃÃÃÃÃÃÃ"], ["year", 1921], ["main_star", "ÃÃÃÃÃ"], ["description", "ÃÃÃÃÃÃ"], ["created_at", "2021-01-04 08:54:07.870583"], ["updated_at", "2021-01-04 08:54:07.870583"]]
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[36mMovie::HABTM_Genres Create (0.4ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 3], ["genre_id", 2]]
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[36mMovie::HABTM_Genres Create (0.4ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 3], ["genre_id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[36mMovie::HABTM_Genres Create (0.3ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 3], ["genre_id", 4]]
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[35m (39.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/admin/movies/3
Completed 302 Found in 71ms (ActiveRecord: 42.9ms | Allocations: 14055)


Started GET "/admin/movies/3" for ::1 at 2021-01-04 15:54:07 +0700
Processing by Admin::MoviesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/show.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/views/admin/movies/show.html.erb:30:in `map'
  Rendered admin/movies/show.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2152)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 8.2ms | ActiveRecord: 0.9ms | Allocations: 7960)


Started GET "/admin/movies/3/edit" for ::1 at 2021-01-04 15:54:12 +0700
Processing by Admin::MoviesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/edit.html.erb within layouts/application
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:35
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "genres"."id" FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/views/admin/movies/_form.html.erb:35
  Rendered admin/movies/_form.html.erb (Duration: 8.7ms | Allocations: 7094)
  Rendered admin/movies/edit.html.erb within layouts/application (Duration: 9.4ms | Allocations: 7258)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 12.8ms | ActiveRecord: 1.3ms | Allocations: 12966)


Started PATCH "/admin/movies/3" for ::1 at 2021-01-04 15:54:15 +0700
Processing by Admin::MoviesController#update as HTML
  Parameters: {"authenticity_token"=>"3odT9nnHY7qnbutqyo87s8MbN21N7zxxDpLIfaakpkdrCIZROvnnBQs4kFnbtABGL7wo54y0o8W5k5Xg1UHf6Q==", "movie"=>{"name"=>"ÃÃÃÃÃÃÃ", "year"=>"1921", "main_star"=>"ÃÃÃÃÃ", "description"=>"ÃÃÃÃÃÃ", "genre_ids"=>["", "2", "3", "4"]}, "commit"=>"Update Movie", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" IN ($1, $2, $3)[0m  [["id", 2], ["id", 3], ["id", 4]]
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
Redirected to http://localhost:3000/admin/movies/3
Completed 302 Found in 13ms (ActiveRecord: 1.9ms | Allocations: 6392)


Started GET "/admin/movies/3" for ::1 at 2021-01-04 15:54:15 +0700
Processing by Admin::MoviesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/show.html.erb within layouts/application
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/views/admin/movies/show.html.erb:30:in `map'
  Rendered admin/movies/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1078)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 0.9ms | Allocations: 6629)


Started GET "/admin/movies" for ::1 at 2021-01-04 15:54:16 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:24:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1191)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.3ms | ActiveRecord: 0.6ms | Allocations: 6186)


Started GET "/admin/movies/3/edit" for ::1 at 2021-01-04 15:54:23 +0700
Processing by Admin::MoviesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/edit.html.erb within layouts/application
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "genres"."id" FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/views/admin/movies/_form.html.erb:35
  Rendered admin/movies/_form.html.erb (Duration: 9.0ms | Allocations: 7061)
  Rendered admin/movies/edit.html.erb within layouts/application (Duration: 9.2ms | Allocations: 7124)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 12.5ms | ActiveRecord: 1.5ms | Allocations: 12665)


Started PATCH "/admin/movies/3" for ::1 at 2021-01-04 15:54:26 +0700
Processing by Admin::MoviesController#update as HTML
  Parameters: {"authenticity_token"=>"hsVKbl/B09ITVeSCim1Yp53RfchPv/EvTrbDAc68mE8zSp/JHP9Xbb8Dn7GbVmNScXZiQo7kbpv5t56cvVnh4Q==", "movie"=>{"name"=>"ÃÃÃÃÃÃÃ", "year"=>"1921", "main_star"=>"ÃÃÃÃÃ", "description"=>"ÃÃÃÃÃÃ", "genre_ids"=>["", "2"]}, "commit"=>"Update Movie", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[36mMovie::HABTM_Genres Destroy (0.5ms)[0m  [1m[31mDELETE FROM "genres_movies" WHERE "genres_movies"."movie_id" = $1 AND "genres_movies"."genre_id" IN ($2, $3)[0m  [["movie_id", 3], ["genre_id", 3], ["genre_id", 4]]
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[35m (31.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
Redirected to http://localhost:3000/admin/movies/3
Completed 302 Found in 46ms (ActiveRecord: 33.2ms | Allocations: 7553)


Started GET "/admin/movies/3" for ::1 at 2021-01-04 15:54:26 +0700
Processing by Admin::MoviesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/show.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/views/admin/movies/show.html.erb:30:in `map'
  Rendered admin/movies/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1053)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 7.1ms | ActiveRecord: 1.0ms | Allocations: 6624)


Started GET "/admin/movies" for ::1 at 2021-01-04 15:54:29 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:24:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1190)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 8.9ms | ActiveRecord: 0.6ms | Allocations: 6201)


Started GET "/admin/movies/3" for ::1 at 2021-01-04 15:54:30 +0700
Processing by Admin::MoviesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/show.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/views/admin/movies/show.html.erb:30:in `map'
  Rendered admin/movies/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1049)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 6.7ms | ActiveRecord: 1.2ms | Allocations: 6580)


Started GET "/admin/movies" for ::1 at 2021-01-04 15:54:32 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:24:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1190)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.8ms | Allocations: 6208)


Started POST "/api/v1/login" for ::1 at 2021-01-04 15:54:52 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11)_asdfBexample.com", "login"=>{"username"=>"user11)_asdfBexample.com"}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11)_asdfBexample.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[36mViewer Create (0.9ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user11)_asdfBexample.com"], ["created_at", "2021-01-04 08:54:52.806509"], ["updated_at", "2021-01-04 08:54:52.806509"]]
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.9ms | Allocations: 7620)


  
ActiveRecord::ValueTooLong (PG::StringDataRightTruncation: ERROR:  value too long for type character varying(20)
):
  
app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
Started POST "/api/v1/login" for ::1 at 2021-01-04 15:56:15 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11)_asdfBexample.com", "login"=>{"username"=>"user11)_asdfBexample.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11)_asdfBexample.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.5ms | Allocations: 169)
Completed 200 OK in 25ms (Views: 1.6ms | ActiveRecord: 3.9ms | Allocations: 10708)


Started POST "/api/v1/login" for ::1 at 2021-01-04 15:57:56 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11)_asdfBexample.com", "login"=>{"username"=>"user11)_asdfBexample.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11)_asdfBexample.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[36mViewer Create (0.9ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user11)_asdfBexample.com"], ["created_at", "2021-01-04 08:57:56.422016"], ["updated_at", "2021-01-04 08:57:56.422016"]]
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
Completed 400 Bad Request in 16ms (Views: 0.3ms | ActiveRecord: 4.3ms | Allocations: 7694)


Started POST "/api/v1/login" for ::1 at 2021-01-04 15:58:11 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11asdfBexample_", "login"=>{"username"=>"user11asdfBexample_"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11asdfBexample_"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user11asdfBexample_"], ["created_at", "2021-01-04 08:58:11.789697"], ["updated_at", "2021-01-04 08:58:11.789697"]]
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[35m (23.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 9.8ms | Allocations: 3092)
Completed 200 OK in 51ms (Views: 5.8ms | ActiveRecord: 29.5ms | Allocations: 11483)


Started GET "/" for ::1 at 2021-01-04 15:58:54 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:24:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 5419)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 16.3ms | ActiveRecord: 3.7ms | Allocations: 15488)


Started GET "/" for ::1 at 2021-01-04 15:59:51 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1473)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.5ms | Allocations: 7777)


Started GET "/admin/movies/new" for ::1 at 2021-01-04 16:00:05 +0700
Processing by Admin::MoviesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:35
  Rendered admin/movies/_form.html.erb (Duration: 28.5ms | Allocations: 13051)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 29.4ms | Allocations: 13350)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 28.3ms | ActiveRecord: 5.4ms | Allocations: 18367)


Started GET "/admin/movies/new" for ::1 at 2021-01-04 16:02:20 +0700
Processing by Admin::MoviesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:35
  Rendered admin/movies/_form.html.erb (Duration: 8.3ms | Allocations: 6653)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 9.1ms | Allocations: 6955)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 15.3ms | ActiveRecord: 0.7ms | Allocations: 13216)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:02:21 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1299)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.6ms | Allocations: 6463)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:02:24 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1027)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.6ms | Allocations: 6034)


Started GET "/admin/movies/2/edit" for ::1 at 2021-01-04 16:02:25 +0700
Processing by Admin::MoviesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/edit.html.erb within layouts/application
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:35
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "genres"."id" FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/admin/movies/_form.html.erb:35
  Rendered admin/movies/_form.html.erb (Duration: 10.1ms | Allocations: 7073)
  Rendered admin/movies/edit.html.erb within layouts/application (Duration: 10.7ms | Allocations: 7235)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 14.1ms | ActiveRecord: 1.4ms | Allocations: 13024)


Started GET "/admin/movies/2/edit" for ::1 at 2021-01-04 16:03:41 +0700
Processing by Admin::MoviesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/edit.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:39
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "genres"."id" FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/admin/movies/_form.html.erb:39
  Rendered admin/movies/_form.html.erb (Duration: 10.7ms | Allocations: 7716)
  Rendered admin/movies/edit.html.erb within layouts/application (Duration: 11.5ms | Allocations: 8018)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 16.6ms | ActiveRecord: 1.5ms | Allocations: 14841)


Started GET "/admin/movies/2/edit" for ::1 at 2021-01-04 16:05:14 +0700
Processing by Admin::MoviesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/edit.html.erb within layouts/application
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:23
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "genres"."id" FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/admin/movies/_form.html.erb:23
  Rendered admin/movies/_form.html.erb (Duration: 10.1ms | Allocations: 7509)
  Rendered admin/movies/edit.html.erb within layouts/application (Duration: 10.8ms | Allocations: 7809)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 17.0ms | ActiveRecord: 1.2ms | Allocations: 14627)


  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/admin/movies/2/edit" for ::1 at 2021-01-04 16:06:47 +0700
Processing by Admin::MoviesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/edit.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "genres"."id" FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 29.1ms | Allocations: 14111)
  Rendered admin/movies/edit.html.erb within layouts/application (Duration: 29.9ms | Allocations: 14415)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 31.5ms | ActiveRecord: 11.9ms | Allocations: 34430)


Started GET "/admin/movies/2/edit" for ::1 at 2021-01-04 16:07:28 +0700
Processing by Admin::MoviesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/edit.html.erb within layouts/application
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "genres"."id" FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 11.5ms | Allocations: 7828)
  Rendered admin/movies/edit.html.erb within layouts/application (Duration: 12.2ms | Allocations: 8127)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 18.0ms | ActiveRecord: 1.1ms | Allocations: 14968)


Started PATCH "/admin/movies/2" for ::1 at 2021-01-04 16:07:29 +0700
Processing by Admin::MoviesController#update as HTML
  Parameters: {"authenticity_token"=>"UW55fC4v8+lSwSZuWJ95jA28MbpTpgBHxPr/xHOcy86IUrUT2t2039PzRltAj9A3BlpmxpPjhYqcsjl8J7lJbw==", "movie"=>{"name"=>"THE LORD OF THE RINGS - THE RETURN OF THE KING", "genre_ids"=>["", "13", "14", "16"], "year"=>"2003", "director"=>"Peter Jackson", "main_star"=>"Elijah Wood, Ian Mc Kellen", "description"=>"The culmination of nearly 10 years' work and conclusion\r\nto Peter Jackson's epic trilogy based on the timeless J.R.R. Tolkien classic,\r\n 'The Lord of the Rings: The Return of the King' presents the final confrontation between the forces of good and evil fighting for control of the future of Middle-earth. Hobbits Frodo and Sam reach Mordor in their quest to destroy the `one ring', while Aragorn leads the forces of good against Sauron's evil army at the stone city of Minas Tirith."}, "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" IN ($1, $2, $3)[0m  [["id", 13], ["id", 14], ["id", 16]]
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[36mMovie Update (0.5ms)[0m  [1m[33mUPDATE "movies" SET "description" = $1, "updated_at" = $2 WHERE "movies"."id" = $3[0m  [["description", "The culmination of nearly 10 years' work and conclusion\r\nto Peter Jackson's epic trilogy based on the timeless J.R.R. Tolkien classic,\r\n 'The Lord of the Rings: The Return of the King' presents the final confrontation between the forces of good and evil fighting for control of the future of Middle-earth. Hobbits Frodo and Sam reach Mordor in their quest to destroy the `one ring', while Aragorn leads the forces of good against Sauron's evil army at the stone city of Minas Tirith."], ["updated_at", "2021-01-04 09:07:29.811415"], ["id", 2]]
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[35m (26.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
Redirected to http://localhost:3000/admin/movies/2
Completed 302 Found in 54ms (ActiveRecord: 28.7ms | Allocations: 7640)


Started GET "/admin/movies/2" for ::1 at 2021-01-04 16:07:29 +0700
Processing by Admin::MoviesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/show.html.erb within layouts/application
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/admin/movies/show.html.erb:30:in `map'
  Rendered admin/movies/show.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1345)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 13.1ms | ActiveRecord: 0.9ms | Allocations: 7034)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:07:34 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1300)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 14.2ms | ActiveRecord: 1.0ms | Allocations: 6447)


Started GET "/admin/movies/1/edit" for ::1 at 2021-01-04 16:08:04 +0700
Processing by Admin::MoviesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/edit.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "genres"."id" FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 11.0ms | Allocations: 7740)
  Rendered admin/movies/edit.html.erb within layouts/application (Duration: 11.6ms | Allocations: 8042)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 16.9ms | ActiveRecord: 1.4ms | Allocations: 14866)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:08:07 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1299)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 8.7ms | ActiveRecord: 0.7ms | Allocations: 6452)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:09:30 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1323)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 12.1ms | ActiveRecord: 0.6ms | Allocations: 7609)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:09:45 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1322)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 0.5ms | Allocations: 7620)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:10:55 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1050)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.6ms | Allocations: 6051)


Started GET "/admin" for ::1 at 2021-01-04 16:17:00 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 5902)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 19.5ms | ActiveRecord: 1.2ms | Allocations: 20602)


Started GET "/admin/users" for ::1 at 2021-01-04 16:17:02 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  Rendered admin/users/index.html.erb within layouts/application (Duration: 386.1ms | Allocations: 214177)
Completed 500 Internal Server Error in 393ms (ActiveRecord: 4.8ms | Allocations: 218125)


  
ActionView::Template::Error (undefined local variable or method `movie' for #<#<Class:0x00007f297005aa28>:0x00007f2970058ca0>):
    16:           <% @viewers.each_with_index do |viewer, index| %>
    17:             <tr>
    18:               <td><%= viewer.username %></td>
    19:               <td><%= movie.year %></td>
    20:               <td><%= pluralize(movie.favorited, "time") %> Favorited </td>
    21:               <td><%= link_to 'Delete', admin_user_path(viewer),  method: :delete, data: { confirm: 'Are you sure?' } %></td>
    22:             </tr>
  
app/views/admin/users/index.html.erb:19
app/views/admin/users/index.html.erb:16:in `each_with_index'
app/views/admin/users/index.html.erb:16
Started GET "/admin/users" for ::1 at 2021-01-04 16:17:37 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 28.9ms | Allocations: 13126)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 4.8ms | Allocations: 16123)


  
ActionView::Template::Error (The @users variable appears to be empty. Did you forget to pass the collection object for will_paginate?):
    25: 
    26:       </div>
    27:       <div class="card-footer clearfix">
    28:         <%= will_paginate @movies %>
    29:       </div>
    30:       <!-- /.card-body -->
    31:     </div>
  
app/views/admin/users/index.html.erb:28
Started GET "/admin/users" for ::1 at 2021-01-04 16:17:46 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 16.2ms | Allocations: 7119)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 19.8ms | ActiveRecord: 3.7ms | Allocations: 13408)


Started GET "/admin/users" for ::1 at 2021-01-04 16:19:40 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 35.0ms | Allocations: 16034)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 32.0ms | ActiveRecord: 14.2ms | Allocations: 28309)


Started GET "/admin/users/1" for ::1 at 2021-01-04 16:19:41 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:9:in `show'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/show.html.erb:8:in `map'
  Rendered admin/users/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2425)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.0ms | Allocations: 5137)


  
ActionView::Template::Error (No route matches {:action=>"edit", :controller=>"admin/movies", :id=>nil}, missing required keys: [:id]):
     8:   <%= @viewer.movies.map(&:name).join(", ") %>
     9: </p>
    10: 
    11: <%= link_to 'Edit', edit_admin_movie_path(@movie) %> |
    12: <%= link_to 'Back', admin_movies_path %>
  
app/views/admin/users/show.html.erb:11
Started GET "/admin/users/1" for ::1 at 2021-01-04 16:19:53 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:9:in `show'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/show.html.erb:8:in `map'
  Rendered admin/users/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1162)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 1.1ms | Allocations: 7948)


Started GET "/admin/users" for ::1 at 2021-01-04 16:19:59 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 15.8ms | Allocations: 7263)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 17.2ms | ActiveRecord: 3.6ms | Allocations: 12417)


Started GET "/admin/users/4" for ::1 at 2021-01-04 16:20:01 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:9:in `show'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/show.html.erb:8:in `map'
  Rendered admin/users/show.html.erb within layouts/application (Duration: 12.8ms | Allocations: 5307)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 17.7ms | ActiveRecord: 1.7ms | Allocations: 10823)


Started GET "/admin/users/4" for ::1 at 2021-01-04 16:20:11 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:9:in `show'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/show.html.erb:8:in `map'
  Rendered admin/users/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1196)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 9.1ms | ActiveRecord: 1.4ms | Allocations: 7980)


Started GET "/admin/users/4" for ::1 at 2021-01-04 16:20:12 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:9:in `show'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/show.html.erb:8:in `map'
  Rendered admin/users/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1048)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 6.8ms | ActiveRecord: 1.2ms | Allocations: 6553)


Started GET "/admin/users" for ::1 at 2021-01-04 16:20:52 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 18.4ms | Allocations: 7264)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 19.0ms | ActiveRecord: 3.8ms | Allocations: 12411)


Started GET "/admin/users" for ::1 at 2021-01-04 16:22:38 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 35.3ms | Allocations: 15821)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 30.7ms | ActiveRecord: 12.6ms | Allocations: 26976)


Started GET "/admin/users/5" for ::1 at 2021-01-04 16:24:15 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/show.html.erb:8:in `map'
  Rendered admin/users/show.html.erb within layouts/application (Duration: 24.2ms | Allocations: 12205)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 24.0ms | ActiveRecord: 9.5ms | Allocations: 26073)


Started GET "/admin/users" for ::1 at 2021-01-04 16:24:16 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 23.1ms | Allocations: 7054)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 23.7ms | ActiveRecord: 3.8ms | Allocations: 12066)


Started GET "/admin/users/4" for ::1 at 2021-01-04 16:24:19 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/show.html.erb:8:in `map'
  Rendered admin/users/show.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1046)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 7.2ms | ActiveRecord: 1.0ms | Allocations: 6566)


Started GET "/admin/users/4" for ::1 at 2021-01-04 16:25:00 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/show.html.erb:8
  Rendered admin/users/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1235)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 21.3ms | ActiveRecord: 1.1ms | Allocations: 8054)


Started GET "/admin/users/4" for ::1 at 2021-01-04 16:25:11 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/show.html.erb:9
  Rendered admin/users/show.html.erb within layouts/application (Duration: 7.1ms | Allocations: 1229)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 67ms (Views: 23.9ms | ActiveRecord: 1.0ms | Allocations: 8031)


Started GET "/admin/users" for ::1 at 2021-01-04 16:25:22 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 48.2ms | Allocations: 7263)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 76ms (Views: 57.7ms | ActiveRecord: 6.9ms | Allocations: 12419)


Started GET "/admin/users" for ::1 at 2021-01-04 16:26:14 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 19.6ms | Allocations: 7052)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 21.0ms | ActiveRecord: 3.9ms | Allocations: 12072)


Started GET "/admin/users/5" for ::1 at 2021-01-04 16:28:17 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/show.html.erb:9
  Rendered admin/users/show.html.erb within layouts/application (Duration: 24.2ms | Allocations: 12200)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 24.6ms | ActiveRecord: 9.9ms | Allocations: 26133)


Started DELETE "/admin/users/5" for ::1 at 2021-01-04 16:28:22 +0700
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"WTtN+1w9W6f5lG/jwz+t6TH5a4sWrQgqGunRxHwzRdKAB4GUqM8ckXimD9bbLwRSOh8899bojedCoRd8KBbHcw==", "id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/models/viewer.rb:19:in `adjust_favorite_number'
  [1m[36mMovie Update All (71.2ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) - $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:20:in `block in adjust_favorite_number'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/users_controller.rb:15:in `destroy'
  [1m[36mViewer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "viewers" WHERE "viewers"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/admin/users_controller.rb:15:in `destroy'
  [1m[35m (107.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/users_controller.rb:15:in `destroy'
Redirected to http://localhost:3000/admin/movies
Completed 302 Found in 191ms (ActiveRecord: 179.7ms | Allocations: 5834)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:28:22 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1329)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.5ms | Allocations: 7210)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:44 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.6ms | Allocations: 6085)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:45 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 0.6ms | Allocations: 6084)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:46 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 0.7ms | Allocations: 6064)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:46 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 0.6ms | Allocations: 6073)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:46 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.5ms | Allocations: 6085)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:47 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1048)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 6.3ms | ActiveRecord: 0.6ms | Allocations: 6069)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:47 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.6ms | Allocations: 6081)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:47 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.6ms | Allocations: 6092)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:47 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.5ms | Allocations: 6072)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:47 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.5ms | Allocations: 6074)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:47 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 0.5ms | Allocations: 6092)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:48 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 0.5ms | Allocations: 6062)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:48 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.5ms | Allocations: 6091)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:48 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.4ms | Allocations: 6101)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:48 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 0.6ms | Allocations: 6072)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:48 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.6ms | Allocations: 6087)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:49 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.5ms | Allocations: 6058)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:49 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.6ms | Allocations: 6068)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:49 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.4ms | ActiveRecord: 0.5ms | Allocations: 6068)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:49 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.5ms | Allocations: 6074)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:49 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (1.9ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 7.2ms | ActiveRecord: 2.3ms | Allocations: 6079)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:50 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.5ms | Allocations: 6071)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:50 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.5ms | Allocations: 6081)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:29:50 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.5ms | Allocations: 6064)


Started GET "/admin/users" for ::1 at 2021-01-04 16:29:57 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 17.6ms | Allocations: 6001)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 19.6ms | ActiveRecord: 4.2ms | Allocations: 11052)


Started GET "/admin/users/4" for ::1 at 2021-01-04 16:30:01 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (2.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/show.html.erb:9
  Rendered admin/users/show.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 12.8ms | ActiveRecord: 3.1ms | Allocations: 6568)


Started DELETE "/admin/users/4" for ::1 at 2021-01-04 16:30:05 +0700
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"6o/oFusv3pXSWIh+z0hNu7241nf2OykvYR1kVZtmjRozsyR5H92Zo1Nq6EvXWOQAtl6BCzZ+rOI5VaLtz0MPuw==", "id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/models/viewer.rb:19:in `adjust_favorite_number'
  [1m[36mMovie Update All (46.9ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) - $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:20:in `block in adjust_favorite_number'
  [1m[36mMovie Update All (9.7ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) - $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:20:in `block in adjust_favorite_number'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/users_controller.rb:15:in `destroy'
  [1m[36mViewer Destroy (0.9ms)[0m  [1m[31mDELETE FROM "viewers" WHERE "viewers"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/admin/users_controller.rb:15:in `destroy'
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/users_controller.rb:15:in `destroy'
Redirected to http://localhost:3000/admin/movies
Completed 302 Found in 79ms (ActiveRecord: 62.2ms | Allocations: 6394)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:30:05 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1048)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 10.9ms | ActiveRecord: 0.7ms | Allocations: 6073)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:30:06 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1048)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 6.4ms | ActiveRecord: 0.6ms | Allocations: 6084)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:30:07 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1048)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 8.3ms | ActiveRecord: 0.7ms | Allocations: 6084)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:30:08 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1048)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.5ms | Allocations: 6078)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:30:08 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1048)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.5ms | Allocations: 6067)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:30:08 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1048)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.4ms | Allocations: 6081)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:30:09 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1048)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 8.8ms | ActiveRecord: 0.7ms | Allocations: 6064)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:30:09 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1048)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 8.5ms | ActiveRecord: 0.6ms | Allocations: 6083)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:30:09 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1048)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 9.7ms | ActiveRecord: 0.5ms | Allocations: 6068)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:30:09 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1048)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.6ms | Allocations: 6064)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers"[0m
  [1m[36mMoviesViewer Destroy (70.7ms)[0m  [1m[31mDELETE FROM "movies_viewers"[0m
Started GET "/admin/movies" for ::1 at 2021-01-04 16:32:26 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 6542)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 152ms (Views: 113.6ms | ActiveRecord: 10.5ms | Allocations: 68742)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5008.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (314.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (220.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "sample_project_test"[0m
  [1m[35m (888.1ms)[0m  [1m[35mCREATE DATABASE "miniflix_development" ENCODING = 'unicode'[0m
  [1m[35m (827.3ms)[0m  [1m[35mCREATE DATABASE "sample_project_test" ENCODING = 'unicode'[0m
  [1m[35m (113.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (130.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210101135633)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (48.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135633"]]
  [1m[35m (16.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20210101135652)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (141.8ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (88.2ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp[0m
  [1m[35m (37.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (55.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135652"]]
  [1m[35m (17.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMovies (20210104041803)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (78.3ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "name" character varying, "year" smallint, "director" character varying(60), "main_star" character varying(60), "description" text, "favorited" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104041803"]]
  [1m[35m (15.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenres (20210104043143)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (35.6ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "name" character varying(64), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "genres_movies" ("movie_id" bigint, "genre_id" bigint)[0m
  [1m[35m (30.3ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id" ON "genres_movies"  ("movie_id")[0m
  [1m[35m (30.8ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_genre_id" ON "genres_movies"  ("genre_id")[0m
  [1m[35m (64.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_genres_movies_on_movie_id_and_genre_id" ON "genres_movies"  ("movie_id", "genre_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104043143"]]
  [1m[35m (14.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateViewers (20210104045836)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (34.0ms)[0m  [1m[35mCREATE TABLE "viewers" ("id" bigserial primary key, "username" character varying(20), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "movies_viewers" ("movie_id" bigint, "viewer_id" bigint)[0m
  [1m[35m (28.9ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_movie_id" ON "movies_viewers"  ("movie_id")[0m
  [1m[35m (42.7ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_viewer_id" ON "movies_viewers"  ("viewer_id")[0m
  [1m[35m (58.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_movies_viewers_on_movie_id_and_viewer_id" ON "movies_viewers"  ("movie_id", "viewer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104045836"]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-01-04 09:33:10.757123"], ["updated_at", "2021-01-04 09:33:10.757123"]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mMovie Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mGenre Destroy (0.4ms)[0m  [1m[31mDELETE FROM "genres"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2021-01-04 09:33:27.425046"], ["updated_at", "2021-01-04 09:33:27.425046"], ["email", "admin@example.com"], ["encrypted_password", "$2a$12$ryYezptzTvKSPpzJmu9byeaki95u6Gs87m4cIgJSe8x7BAeMeqyx."]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "STAR WARS: THE RISE OF SKYWALKER"], ["year", 1977], ["director", "J.J. Abrams"], ["main_star", "Mark Hammil, Adam Driver"], ["description", "When it's discovered that the evil Emperor Palpatine did not die at the hands of Darth Vader, the rebels must race against the clock to find out his whereabouts. Finn and Poe lead the Resistance to put a stop to the First Order's plans to form a new Empire, while Rey anticipates her inevitable confrontation with Kylo"], ["created_at", "2021-01-04 09:33:27.445120"], ["updated_at", "2021-01-04 09:33:27.445120"]]
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "THE LORD OF THE RINGS - THE RETURN OF THE KING"], ["year", 2003], ["director", "Peter Jackson"], ["main_star", "Elijah Wood, Ian Mc Kellen"], ["description", "The culmination of nearly 10 years' work and conclusion\nto Peter Jackson's epic trilogy based on the timeless J.R.R. Tolkien classic,\n 'The Lord of the Rings: The Return of the King' presents the final confrontation between the forces of good and evil fighting for control of the future of Middle-earth. Hobbits Frodo and Sam reach Mordor in their quest to destroy the `one ring', while Aragorn leads the forces of good against Sauron's evil army at the stone city of Minas Tirith."], ["created_at", "2021-01-04 09:33:27.457237"], ["updated_at", "2021-01-04 09:33:27.457237"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Action"], ["created_at", "2021-01-04 09:33:27.473698"], ["updated_at", "2021-01-04 09:33:27.473698"]]
  [1m[35m (12.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Adventure"], ["created_at", "2021-01-04 09:33:27.490519"], ["updated_at", "2021-01-04 09:33:27.490519"]]
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Animation"], ["created_at", "2021-01-04 09:33:27.501084"], ["updated_at", "2021-01-04 09:33:27.501084"]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Biography"], ["created_at", "2021-01-04 09:33:27.512805"], ["updated_at", "2021-01-04 09:33:27.512805"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Comedy"], ["created_at", "2021-01-04 09:33:27.523733"], ["updated_at", "2021-01-04 09:33:27.523733"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Crime"], ["created_at", "2021-01-04 09:33:27.534630"], ["updated_at", "2021-01-04 09:33:27.534630"]]
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Documentary"], ["created_at", "2021-01-04 09:33:27.546105"], ["updated_at", "2021-01-04 09:33:27.546105"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2021-01-04 09:33:27.557000"], ["updated_at", "2021-01-04 09:33:27.557000"]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fantasy"], ["created_at", "2021-01-04 09:33:27.568035"], ["updated_at", "2021-01-04 09:33:27.568035"]]
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "History"], ["created_at", "2021-01-04 09:33:27.590200"], ["updated_at", "2021-01-04 09:33:27.590200"]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horror"], ["created_at", "2021-01-04 09:33:27.601139"], ["updated_at", "2021-01-04 09:33:27.601139"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Musical"], ["created_at", "2021-01-04 09:33:27.612373"], ["updated_at", "2021-01-04 09:33:27.612373"]]
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mystery"], ["created_at", "2021-01-04 09:33:27.623486"], ["updated_at", "2021-01-04 09:33:27.623486"]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Romance"], ["created_at", "2021-01-04 09:33:27.634892"], ["updated_at", "2021-01-04 09:33:27.634892"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sci-Fi"], ["created_at", "2021-01-04 09:33:27.645928"], ["updated_at", "2021-01-04 09:33:27.645928"]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Thriller"], ["created_at", "2021-01-04 09:33:27.657085"], ["updated_at", "2021-01-04 09:33:27.657085"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "War"], ["created_at", "2021-01-04 09:33:27.667979"], ["updated_at", "2021-01-04 09:33:27.667979"]]
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Western"], ["created_at", "2021-01-04 09:33:27.679119"], ["updated_at", "2021-01-04 09:33:27.679119"]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (2.0ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 16]]
  [1m[36mMovie::HABTM_Genres Create (0.3ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 1]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 6]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 7]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 2]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 6]]
  [1m[35m (12.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user1@example.com"], ["created_at", "2021-01-04 09:33:27.758183"], ["updated_at", "2021-01-04 09:33:27.758183"]]
  [1m[35m (16.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user2@example.com"], ["created_at", "2021-01-04 09:33:27.779051"], ["updated_at", "2021-01-04 09:33:27.779051"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user3@example.com"], ["created_at", "2021-01-04 09:33:27.790200"], ["updated_at", "2021-01-04 09:33:27.790200"]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/v1/login" for ::1 at 2021-01-04 16:33:45 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_budi", "login"=>{"username"=>"bainur_budi"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_budi"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "bainur_budi"], ["created_at", "2021-01-04 09:33:46.026493"], ["updated_at", "2021-01-04 09:33:46.026493"]]
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[35m (43.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 13.3ms | Allocations: 4351)
Completed 200 OK in 100ms (Views: 10.6ms | ActiveRecord: 53.8ms | Allocations: 20308)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:33:58 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 401 Unauthorized in 23ms (ActiveRecord: 7.8ms | Allocations: 7410)


Started GET "/admin/login" for ::1 at 2021-01-04 16:33:58 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 1.1ms | Allocations: 421)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 2709)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 137ms (Views: 135.1ms | ActiveRecord: 0.0ms | Allocations: 53427)


Started POST "/admin/login" for ::1 at 2021-01-04 16:34:06 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"e5mPcCM+NJWnsfNKHkhLdurnR/l43ZugOEP3sd0K0/iipUMf18xzoyaDk38GWOLN4QEQhbiYHm1gCzEJiS9RWQ==", "user"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/admin/movies
Completed 302 Found in 289ms (ActiveRecord: 0.4ms | Allocations: 5335)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:06 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 5712)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.1ms | ActiveRecord: 0.5ms | Allocations: 11591)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 16:34:20 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"bainur_budi", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "bainur_budi"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMoviesViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 4]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (22.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMovie Update All (53.8ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:13:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 21.0ms | Allocations: 8683)
Completed 200 OK in 116ms (Views: 15.5ms | ActiveRecord: 85.0ms | Allocations: 16291)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:24 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.5ms | Allocations: 5986)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:25 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 942)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 6.8ms | ActiveRecord: 0.7ms | Allocations: 5971)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:25 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 942)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 7.1ms | ActiveRecord: 0.7ms | Allocations: 5976)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:25 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 942)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 5.4ms | ActiveRecord: 0.7ms | Allocations: 5962)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:26 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 942)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.5ms | Allocations: 5963)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:26 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 942)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 0.5ms | Allocations: 5965)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:26 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 942)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.4ms | Allocations: 5980)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:26 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 942)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.6ms | Allocations: 5977)


Started GET "/admin/movies/1/edit" for ::1 at 2021-01-04 16:34:28 +0700
Processing by Admin::MoviesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/edit.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "genres"."id" FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 12.4ms | Allocations: 8533)
  Rendered admin/movies/edit.html.erb within layouts/application (Duration: 13.3ms | Allocations: 8841)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 17.8ms | ActiveRecord: 1.5ms | Allocations: 14559)


Started GET "/admin/users" for ::1 at 2021-01-04 16:34:39 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 5166)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 16.5ms | ActiveRecord: 2.9ms | Allocations: 11058)


Started DELETE "/admin/users/4" for ::1 at 2021-01-04 16:34:43 +0700
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"HtKjfIFJfrDgpHSkz9LM9QqQfdtbO7JFoPSTubNuFg80qNS+EYTey+zP2C1n6m3VxYc48rUtKKZgrgF1OlNL+g==", "id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/models/viewer.rb:19:in `adjust_favorite_number'
  [1m[36mMovie Update All (16.2ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) - $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:20:in `block in adjust_favorite_number'
  [1m[36mMoviesViewer Destroy (8.9ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 4], ["movie_id", 1]]
  ↳ app/models/viewer.rb:22:in `adjust_favorite_number'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/users_controller.rb:15:in `destroy'
  [1m[36mViewer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "viewers" WHERE "viewers"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/admin/users_controller.rb:15:in `destroy'
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/users_controller.rb:15:in `destroy'
Redirected to http://localhost:3000/admin/movies
Completed 302 Found in 50ms (ActiveRecord: 34.2ms | Allocations: 6795)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:43 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 957)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.5ms | Allocations: 5982)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:44 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 7.0ms | ActiveRecord: 1.0ms | Allocations: 6007)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:45 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.4ms | Allocations: 5972)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:45 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.4ms | Allocations: 5979)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:45 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 6.4ms | ActiveRecord: 0.7ms | Allocations: 5965)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:46 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.6ms | Allocations: 5989)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:46 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.5ms | Allocations: 5981)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:34:46 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 7.0ms | ActiveRecord: 0.7ms | Allocations: 5980)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:35:20 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.4ms | Allocations: 5980)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:35:21 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.5ms | Allocations: 5977)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:36:14 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1229)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 14.4ms | ActiveRecord: 0.5ms | Allocations: 7631)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:36:16 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 953)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 6.3ms | ActiveRecord: 0.7ms | Allocations: 6029)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:36:16 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 6.8ms | ActiveRecord: 0.7ms | Allocations: 6035)


Started GET "/admin/users" for ::1 at 2021-01-04 16:36:19 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 12.1ms | Allocations: 4079)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 16.1ms | ActiveRecord: 2.6ms | Allocations: 9998)


Started GET "/admin/movies" for ::1 at 2021-01-04 16:36:21 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 957)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 0.8ms | Allocations: 6028)


Started GET "/admin/users" for ::1 at 2021-01-04 16:36:23 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 13.7ms | Allocations: 3865)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 15.7ms | ActiveRecord: 3.3ms | Allocations: 8942)


Started GET "/admin/users" for ::1 at 2021-01-04 16:36:27 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3865)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 11.1ms | ActiveRecord: 2.2ms | Allocations: 8931)


Started GET "/admin/users" for ::1 at 2021-01-04 16:36:28 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3865)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 11.8ms | ActiveRecord: 2.4ms | Allocations: 8942)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "viewers"[0m
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers"[0m
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers"[0m
Started POST "/api/v1/login" for ::1 at 2021-01-04 16:38:53 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_budi", "login"=>{"username"=>"bainur_budi"}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_budi"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[36mViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "bainur_budi"], ["created_at", "2021-01-04 09:38:53.351992"], ["updated_at", "2021-01-04 09:38:53.351992"]]
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[35m (41.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 3.3ms | Allocations: 1125)
Completed 200 OK in 58ms (Views: 3.9ms | ActiveRecord: 42.9ms | Allocations: 4871)


Started GET "/admin/users" for ::1 at 2021-01-04 16:39:01 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 4936)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 15.0ms | ActiveRecord: 2.7ms | Allocations: 10012)


Started POST "/api/v1/login" for ::1 at 2021-01-04 21:49:16 +0700
  [1m[35m (33.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_budi", "login"=>{"username"=>"bainur_budi"}}
  [1m[36mViewer Load (23.9ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_budi"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (65.8ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 102.0ms | Allocations: 4357)
Completed 200 OK in 382ms (Views: 202.1ms | ActiveRecord: 126.3ms | Allocations: 17665)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 21:49:33 +0700
Processing by Api::V1::MoviesController#index as JSON
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (86.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  Rendered api/v1/movies/index.json.jbuilder (Duration: 174.9ms | Allocations: 14797)
Completed 200 OK in 177ms (Views: 84.4ms | ActiveRecord: 91.2ms | Allocations: 15648)


Started GET "/" for ::1 at 2021-01-04 21:53:34 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (62.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 19.9ms | Allocations: 1300)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1338ms (Views: 1234.6ms | ActiveRecord: 68.0ms | Allocations: 57811)


Started GET "/admin/users" for ::1 at 2021-01-04 21:54:10 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (28.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 58.0ms | Allocations: 5175)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 36.2ms | ActiveRecord: 31.9ms | Allocations: 11130)


Started GET "/admin/movies" for ::1 at 2021-01-04 21:54:21 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 958)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.8ms | Allocations: 6063)


Started GET "/admin/movies" for ::1 at 2021-01-04 21:58:50 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1211)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 8.3ms | ActiveRecord: 0.7ms | Allocations: 7618)


Started GET "/admin/movies" for ::1 at 2021-01-04 21:59:21 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1208)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.6ms | Allocations: 7613)


Started GET "/admin/movies" for ::1 at 2021-01-04 21:59:36 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1206)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 7.7ms | ActiveRecord: 0.6ms | Allocations: 7596)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 21:59:51 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"bainur_budi", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "bainur_budi"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMoviesViewer Create (14.0ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 5]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (38.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMovie Update All (54.3ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:13:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 6.0ms | Allocations: 2340)
Completed 200 OK in 203ms (Views: 6.3ms | ActiveRecord: 109.1ms | Allocations: 10084)


Started GET "/admin/movies" for ::1 at 2021-01-04 21:59:56 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.4ms | Allocations: 6012)


Started GET "/admin/movies" for ::1 at 2021-01-04 21:59:58 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 932)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.4ms | Allocations: 6021)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:00:20 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_budi1", "login"=>{"username"=>"bainur_budi1"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_budi1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[36mViewer Create (148.8ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "bainur_budi1"], ["created_at", "2021-01-04 15:00:20.895302"], ["updated_at", "2021-01-04 15:00:20.895302"]]
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  [1m[35m (12.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:10:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.4ms | Allocations: 1040)
Completed 200 OK in 173ms (Views: 2.9ms | ActiveRecord: 162.4ms | Allocations: 4782)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 22:00:26 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"bainur_budi", "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "bainur_budi"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMoviesViewer Create (1.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 5]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 5) already exists.

Completed 400 Bad Request in 10ms (Views: 0.2ms | ActiveRecord: 2.6ms | Allocations: 5650)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 22:00:34 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"favorite"=>{"username"=>"bainur_budi1", "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "bainur_budi1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMoviesViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 6]]
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[35m (56.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:11:in `add_favorite'
  [1m[36mMovie Update All (15.6ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:13:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 5.7ms | Allocations: 2246)
Completed 200 OK in 93ms (Views: 5.4ms | ActiveRecord: 74.7ms | Allocations: 7335)


Started GET "/admin/movies" for ::1 at 2021-01-04 22:00:44 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 6.0ms | ActiveRecord: 0.4ms | Allocations: 6006)


Started GET "/admin/movies" for ::1 at 2021-01-04 22:00:45 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.4ms | ActiveRecord: 0.6ms | Allocations: 6024)


Started GET "/admin/movies" for ::1 at 2021-01-04 22:00:58 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1220)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.5ms | Allocations: 7633)


Started GET "/admin/movies/new" for ::1 at 2021-01-04 22:01:20 +0700
Processing by Admin::MoviesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 93.1ms | Allocations: 13573)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 112.4ms | Allocations: 13882)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 119ms (Views: 115.6ms | ActiveRecord: 0.7ms | Allocations: 18964)


Started POST "/admin/movies" for ::1 at 2021-01-04 22:01:21 +0700
Processing by Admin::MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"W490DE01XAaP7mEYCuqQ+AUUukYUnsA3PSlhP/EgvMaXElvcyTM5NJY/fr5GliJcutmNzf29y1AG7VuJ9CUkDQ==", "movie"=>{"name"=>"", "genre_ids"=>[""], "year"=>"1921", "director"=>"", "main_star"=>"", "description"=>""}, "commit"=>"Create Movie"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE 1=0[0m
  ↳ app/controllers/admin/movies_controller.rb:27:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[36mMovie Create (24.6ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", ""], ["year", 1921], ["director", ""], ["main_star", ""], ["description", ""], ["created_at", "2021-01-04 15:01:21.669163"], ["updated_at", "2021-01-04 15:01:21.669163"]]
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[35m (14.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/admin/movies/3
Completed 302 Found in 48ms (ActiveRecord: 40.2ms | Allocations: 5548)


Started GET "/admin/movies/3" for ::1 at 2021-01-04 22:01:21 +0700
Processing by Admin::MoviesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/show.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/views/admin/movies/show.html.erb:30:in `map'
  Rendered admin/movies/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1313)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 7.1ms | ActiveRecord: 0.8ms | Allocations: 7070)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 22:03:05 +0700
Processing by Api::V1::MoviesController#index as JSON
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  Rendered api/v1/movies/index.json.jbuilder (Duration: 9.0ms | Allocations: 4644)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 1.4ms | Allocations: 5279)


Started GET "/admin/movies" for ::1 at 2021-01-04 22:04:30 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 5713)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 14.1ms | ActiveRecord: 9.0ms | Allocations: 19478)


Started GET "/admin/movies/new" for ::1 at 2021-01-04 22:04:31 +0700
Processing by Admin::MoviesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 21.9ms | Allocations: 12830)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 22.3ms | Allocations: 12893)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 21.6ms | ActiveRecord: 4.9ms | Allocations: 17812)


Started POST "/admin/movies" for ::1 at 2021-01-04 22:04:32 +0700
Processing by Admin::MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"C2Pw313zyhLaNcwMw2sSet353KYsWJDd9d+vjS13ICvH/t8P2fWvIMPk06qPF6DeYjTrLcV7m7rOG5U7KHK44A==", "movie"=>{"name"=>"", "genre_ids"=>[""], "year"=>"1921", "director"=>"", "main_star"=>"", "description"=>""}, "commit"=>"Create Movie"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE 1=0[0m
  ↳ app/controllers/admin/movies_controller.rb:27:in `create'
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 6.7ms | Allocations: 6553)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 6616)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 10.5ms | ActiveRecord: 0.8ms | Allocations: 13963)


Started POST "/admin/movies" for ::1 at 2021-01-04 22:04:36 +0700
Processing by Admin::MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"gD6G+RFSpr7NcVDGfFyzTtIaEJeuVj50y4DdKa25F5KqRPE7gZ8GxcEa/E/UZBJuHQ1VvkBApJcL2k/lJIRKZw==", "movie"=>{"name"=>"asdf", "genre_ids"=>[""], "year"=>"1921", "director"=>"", "main_star"=>"", "description"=>""}, "commit"=>"Create Movie"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE 1=0[0m
  ↳ app/controllers/admin/movies_controller.rb:27:in `create'
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 11.5ms | Allocations: 6405)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 11.7ms | Allocations: 6468)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 15.1ms | ActiveRecord: 0.9ms | Allocations: 13332)


Started POST "/admin/movies" for ::1 at 2021-01-04 22:04:43 +0700
Processing by Admin::MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"cbOSjODChg9ALgQ6UEkF4hMLTTAU4tdOFvKrIQTvon9byeVOcA8mdExFqLP4caTC3BwIGfr0Ta3WqDntjdL/ig==", "movie"=>{"name"=>"asdf", "genre_ids"=>["", "2"], "year"=>"1921", "director"=>"", "main_star"=>"", "description"=>""}, "commit"=>"Create Movie"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/admin/movies_controller.rb:27:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[36mMovie Create (0.3ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "asdf"], ["year", 1921], ["director", ""], ["main_star", ""], ["description", ""], ["created_at", "2021-01-04 15:04:43.052970"], ["updated_at", "2021-01-04 15:04:43.052970"]]
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 4], ["genre_id", 2]]
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[35m (52.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/admin/movies/4
Completed 302 Found in 68ms (ActiveRecord: 54.6ms | Allocations: 8311)


Started GET "/admin/movies/4" for ::1 at 2021-01-04 22:04:43 +0700
Processing by Admin::MoviesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/show.html.erb within layouts/application
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 4]]
  ↳ app/views/admin/movies/show.html.erb:30:in `map'
  Rendered admin/movies/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1346)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 5.4ms | ActiveRecord: 0.7ms | Allocations: 7044)


Started GET "/admin/movies/4/edit" for ::1 at 2021-01-04 22:05:05 +0700
Processing by Admin::MoviesController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  Rendering admin/movies/edit.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "genres"."id" FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 4]]
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 9.1ms | Allocations: 7286)
  Rendered admin/movies/edit.html.erb within layouts/application (Duration: 28.0ms | Allocations: 7452)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 30.7ms | ActiveRecord: 1.5ms | Allocations: 13181)


Started PATCH "/admin/movies/4" for ::1 at 2021-01-04 22:05:16 +0700
Processing by Admin::MoviesController#update as HTML
  Parameters: {"authenticity_token"=>"X5Bzj3OjS9ek1sWKoB63AyxuiAPTUwmjezB0UcqMoF2Mo4JwvaOv4hUOQbl5MN/usv3HhcWEcHfnf7bOT4g9iA==", "movie"=>{"name"=>"asdf", "genre_ids"=>["", "2"], "year"=>"1921", "director"=>"", "main_star"=>"Skip to main contentAccessibility help Accessibility feedback Google pluralize rails 0  About 40,300 results (0.37 seconds)   rails4 // pluralize do pluralize when count is at 0 - Stack Overflowstackoverflow.com › questions › rails4-pluralize-do-plu... Oct 30, 2014 — Any number not 1 is considered plural. Instead of saying: You have 0 posts. 2 answers Rails pluralize count when zero, does not work with ... 1 answer Nov 20, 2018 pluralize without count number in rails 4 - Stack ... 5 answers Dec 2, 2014 What's the Rails way to handle singular/plural ... 3 answers Jul 6, 2018 Ruby on Rails: how to check pluralized and single ... 3 answers Nov 6, 2012 More results from stackoverflow.com  pluralize (ActionView::Helpers::TextHelper) - APIdockapidock.com › rails › Helpers › TextHelper › pluralize pluralize(count, singular, plural_arg = nil, plural: plural_arg, locale: I18n.locale) public ... 'person') # => 2 people pluralize(3, 'person', plural: 'users') # => 3 users pluralize(0, 'person') ... This should work in much older versions of Rails also.  pluralize (String) - APIdockapidock.com › rails › String › pluralize pluralize. Importance_2. Ruby on Rails latest stable (v5.2.3) - 1 note - Class: String. 1.0 ...  ActionView::Helpers::TextHelper - Ruby on Rails APIapi.rubyonrails.org › v5.0.0 › classes › TextHelper pluralize. R. reset_cycle. S. safe_concat,; simple_format. T. truncate. W ... 2 people pluralize(3, 'person', plural: 'users') # => 3 users pluralize(0, 'person') # => 0 ... ‎cycle · ‎excerpt · ‎highlight · ‎pluralize  Pluralize(0, 'people') error - Rails - Ruby-Forumwww.ruby-forum.com › pluralize-0-people-error Sep 20, 2018 — pluralize(0, 'people') = 0 peoples Just thought I'd let you guys know. I'm new here so I don't know if this is in the right section, but ya.  Ruby on Rails: pluralization. Using Rails we get access to lots ...medium.com › ruby-on-rails-pluralization-b3927de2ca8e Apr 12, 2017 — 2.3.0 :001 > helper.pluralize(1, \"cat\")=> \"1 cat\". That's awesome! It seems that Rails “speaks” english and “knows” how to pluralize words.  Method: String#pluralize — Documentation for rails (4.1.7)www.rubydoc.info › docs › rails › String:pluralize permalink #pluralize(count = nil, locale = :en) ⇒ Object. Returns the ... If the optional parameter locale is specified, the word will be pluralized as a word of that language. ... Generated on Fri Dec 25 18:01:05 2020 by yard 0.9.25 (ruby-2.7.0).  Method: String#pluralize — Documentation for activesupport ...www.rubydoc.info › gems › String:pluralize activesupport (6.1.0) » Index » String » #pluralize. Method: String#pluralize ... If the optional parameter locale is specified, the word will be pluralized as a word ... Missing: rails ‎| Must include: rails  ruby on rails pluralization help? - NET XsPDF SDKwww.xspdf.com › resolution pluralize (String), Ruby on Rails latest stable (v5.2.3) - 1 note - Class: String. 1.0.0; 1.1. pluralize(​count = nil, locale = :en) public. Returns the plural form of the ...  pluralize without count number in rails 4 - iDiTectwww.iditect.com › how-to You can use <%= @posts.published.count > 0 ? ... Model attributes and methods Rails: Singularize and Pluralize Rails has functions buit-in that will turn a word ... Searches related to pluralize rails 0 rails pluralize i18n  rails singularize  rails pluralize view  rails pluralize in controller  rails pluralize view helper  html pluralize  rails pluralize in model  rails pluralize without count  1\t 2 3 4 5 6 7 8 9 10 Next Indonesia40512, Citeureup, Cimahi City, West Java - From your places (Home) - Use precise location - Learn more HelpSend feedbackPrivacyTerms", "description"=>""}, "commit"=>"Update Movie", "id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:67:in `set_movie'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 4]]
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[36mMovie Update (0.7ms)[0m  [1m[33mUPDATE "movies" SET "main_star" = $1, "updated_at" = $2 WHERE "movies"."id" = $3[0m  [["main_star", "Skip to main contentAccessibility help Accessibility feedback Google pluralize rails 0  About 40,300 results (0.37 seconds)   rails4 // pluralize do pluralize when count is at 0 - Stack Overflowstackoverflow.com › questions › rails4-pluralize-do-plu... Oct 30, 2014 — Any number not 1 is considered plural. Instead of saying: You have 0 posts. 2 answers Rails pluralize count when zero, does not work with ... 1 answer Nov 20, 2018 pluralize without count number in rails 4 - Stack ... 5 answers Dec 2, 2014 What's the Rails way to handle singular/plural ... 3 answers Jul 6, 2018 Ruby on Rails: how to check pluralized and single ... 3 answers Nov 6, 2012 More results from stackoverflow.com  pluralize (ActionView::Helpers::TextHelper) - APIdockapidock.com › rails › Helpers › TextHelper › pluralize pluralize(count, singular, plural_arg = nil, plural: plural_arg, locale: I18n.locale) public ... 'person') # => 2 people pluralize(3, 'person', plural: 'users') # => 3 users pluralize(0, 'person') ... This should work in much older versions of Rails also.  pluralize (String) - APIdockapidock.com › rails › String › pluralize pluralize. Importance_2. Ruby on Rails latest stable (v5.2.3) - 1 note - Class: String. 1.0 ...  ActionView::Helpers::TextHelper - Ruby on Rails APIapi.rubyonrails.org › v5.0.0 › classes › TextHelper pluralize. R. reset_cycle. S. safe_concat,; simple_format. T. truncate. W ... 2 people pluralize(3, 'person', plural: 'users') # => 3 users pluralize(0, 'person') # => 0 ... ‎cycle · ‎excerpt · ‎highlight · ‎pluralize  Pluralize(0, 'people') error - Rails - Ruby-Forumwww.ruby-forum.com › pluralize-0-people-error Sep 20, 2018 — pluralize(0, 'people') = 0 peoples Just thought I'd let you guys know. I'm new here so I don't know if this is in the right section, but ya.  Ruby on Rails: pluralization. Using Rails we get access to lots ...medium.com › ruby-on-rails-pluralization-b3927de2ca8e Apr 12, 2017 — 2.3.0 :001 > helper.pluralize(1, \"cat\")=> \"1 cat\". That's awesome! It seems that Rails “speaks” english and “knows” how to pluralize words.  Method: String#pluralize — Documentation for rails (4.1.7)www.rubydoc.info › docs › rails › String:pluralize permalink #pluralize(count = nil, locale = :en) ⇒ Object. Returns the ... If the optional parameter locale is specified, the word will be pluralized as a word of that language. ... Generated on Fri Dec 25 18:01:05 2020 by yard 0.9.25 (ruby-2.7.0).  Method: String#pluralize — Documentation for activesupport ...www.rubydoc.info › gems › String:pluralize activesupport (6.1.0) » Index » String » #pluralize. Method: String#pluralize ... If the optional parameter locale is specified, the word will be pluralized as a word ... Missing: rails ‎| Must include: rails  ruby on rails pluralization help? - NET XsPDF SDKwww.xspdf.com › resolution pluralize (String), Ruby on Rails latest stable (v5.2.3) - 1 note - Class: String. 1.0.0; 1.1. pluralize(​count = nil, locale = :en) public. Returns the plural form of the ...  pluralize without count number in rails 4 - iDiTectwww.iditect.com › how-to You can use <%= @posts.published.count > 0 ? ... Model attributes and methods Rails: Singularize and Pluralize Rails has functions buit-in that will turn a word ... Searches related to pluralize rails 0 rails pluralize i18n  rails singularize  rails pluralize view  rails pluralize in controller  rails pluralize view helper  html pluralize  rails pluralize in model  rails pluralize without count  1\t 2 3 4 5 6 7 8 9 10 Next Indonesia40512, Citeureup, Cimahi City, West Java - From your places (Home) - Use precise location - Learn more HelpSend feedbackPrivacyTerms"], ["updated_at", "2021-01-04 15:05:16.558193"], ["id", 4]]
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/admin/movies_controller.rb:44:in `block in update'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.1ms | Allocations: 8132)


  
ActiveRecord::ValueTooLong (PG::StringDataRightTruncation: ERROR:  value too long for type character varying(60)
):
  
app/controllers/admin/movies_controller.rb:44:in `block in update'
app/controllers/admin/movies_controller.rb:43:in `update'
Started PATCH "/admin/movies/4" for ::1 at 2021-01-04 22:09:19 +0700
Processing by Admin::MoviesController#update as HTML
  Parameters: {"authenticity_token"=>"X5Bzj3OjS9ek1sWKoB63AyxuiAPTUwmjezB0UcqMoF2Mo4JwvaOv4hUOQbl5MN/usv3HhcWEcHfnf7bOT4g9iA==", "movie"=>{"name"=>"asdf", "genre_ids"=>["", "2"], "year"=>"1921", "director"=>"", "main_star"=>"Skip to main contentAccessibility help Accessibility feedback Google pluralize rails 0  About 40,300 results (0.37 seconds)   rails4 // pluralize do pluralize when count is at 0 - Stack Overflowstackoverflow.com › questions › rails4-pluralize-do-plu... Oct 30, 2014 — Any number not 1 is considered plural. Instead of saying: You have 0 posts. 2 answers Rails pluralize count when zero, does not work with ... 1 answer Nov 20, 2018 pluralize without count number in rails 4 - Stack ... 5 answers Dec 2, 2014 What's the Rails way to handle singular/plural ... 3 answers Jul 6, 2018 Ruby on Rails: how to check pluralized and single ... 3 answers Nov 6, 2012 More results from stackoverflow.com  pluralize (ActionView::Helpers::TextHelper) - APIdockapidock.com › rails › Helpers › TextHelper › pluralize pluralize(count, singular, plural_arg = nil, plural: plural_arg, locale: I18n.locale) public ... 'person') # => 2 people pluralize(3, 'person', plural: 'users') # => 3 users pluralize(0, 'person') ... This should work in much older versions of Rails also.  pluralize (String) - APIdockapidock.com › rails › String › pluralize pluralize. Importance_2. Ruby on Rails latest stable (v5.2.3) - 1 note - Class: String. 1.0 ...  ActionView::Helpers::TextHelper - Ruby on Rails APIapi.rubyonrails.org › v5.0.0 › classes › TextHelper pluralize. R. reset_cycle. S. safe_concat,; simple_format. T. truncate. W ... 2 people pluralize(3, 'person', plural: 'users') # => 3 users pluralize(0, 'person') # => 0 ... ‎cycle · ‎excerpt · ‎highlight · ‎pluralize  Pluralize(0, 'people') error - Rails - Ruby-Forumwww.ruby-forum.com › pluralize-0-people-error Sep 20, 2018 — pluralize(0, 'people') = 0 peoples Just thought I'd let you guys know. I'm new here so I don't know if this is in the right section, but ya.  Ruby on Rails: pluralization. Using Rails we get access to lots ...medium.com › ruby-on-rails-pluralization-b3927de2ca8e Apr 12, 2017 — 2.3.0 :001 > helper.pluralize(1, \"cat\")=> \"1 cat\". That's awesome! It seems that Rails “speaks” english and “knows” how to pluralize words.  Method: String#pluralize — Documentation for rails (4.1.7)www.rubydoc.info › docs › rails › String:pluralize permalink #pluralize(count = nil, locale = :en) ⇒ Object. Returns the ... If the optional parameter locale is specified, the word will be pluralized as a word of that language. ... Generated on Fri Dec 25 18:01:05 2020 by yard 0.9.25 (ruby-2.7.0).  Method: String#pluralize — Documentation for activesupport ...www.rubydoc.info › gems › String:pluralize activesupport (6.1.0) » Index » String » #pluralize. Method: String#pluralize ... If the optional parameter locale is specified, the word will be pluralized as a word ... Missing: rails ‎| Must include: rails  ruby on rails pluralization help? - NET XsPDF SDKwww.xspdf.com › resolution pluralize (String), Ruby on Rails latest stable (v5.2.3) - 1 note - Class: String. 1.0.0; 1.1. pluralize(​count = nil, locale = :en) public. Returns the plural form of the ...  pluralize without count number in rails 4 - iDiTectwww.iditect.com › how-to You can use <%= @posts.published.count > 0 ? ... Model attributes and methods Rails: Singularize and Pluralize Rails has functions buit-in that will turn a word ... Searches related to pluralize rails 0 rails pluralize i18n  rails singularize  rails pluralize view  rails pluralize in controller  rails pluralize view helper  html pluralize  rails pluralize in model  rails pluralize without count  1\t 2 3 4 5 6 7 8 9 10 Next Indonesia40512, Citeureup, Cimahi City, West Java - From your places (Home) - Use precise location - Learn more HelpSend feedbackPrivacyTerms", "description"=>""}, "commit"=>"Update Movie", "id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:71:in `set_movie'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:45:in `block in update'
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/admin/movies_controller.rb:45:in `block in update'
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 4]]
  ↳ app/controllers/admin/movies_controller.rb:45:in `block in update'
  [1m[36mMovie Update (0.9ms)[0m  [1m[33mUPDATE "movies" SET "main_star" = $1, "updated_at" = $2 WHERE "movies"."id" = $3[0m  [["main_star", "Skip to main contentAccessibility help Accessibility feedback Google pluralize rails 0  About 40,300 results (0.37 seconds)   rails4 // pluralize do pluralize when count is at 0 - Stack Overflowstackoverflow.com › questions › rails4-pluralize-do-plu... Oct 30, 2014 — Any number not 1 is considered plural. Instead of saying: You have 0 posts. 2 answers Rails pluralize count when zero, does not work with ... 1 answer Nov 20, 2018 pluralize without count number in rails 4 - Stack ... 5 answers Dec 2, 2014 What's the Rails way to handle singular/plural ... 3 answers Jul 6, 2018 Ruby on Rails: how to check pluralized and single ... 3 answers Nov 6, 2012 More results from stackoverflow.com  pluralize (ActionView::Helpers::TextHelper) - APIdockapidock.com › rails › Helpers › TextHelper › pluralize pluralize(count, singular, plural_arg = nil, plural: plural_arg, locale: I18n.locale) public ... 'person') # => 2 people pluralize(3, 'person', plural: 'users') # => 3 users pluralize(0, 'person') ... This should work in much older versions of Rails also.  pluralize (String) - APIdockapidock.com › rails › String › pluralize pluralize. Importance_2. Ruby on Rails latest stable (v5.2.3) - 1 note - Class: String. 1.0 ...  ActionView::Helpers::TextHelper - Ruby on Rails APIapi.rubyonrails.org › v5.0.0 › classes › TextHelper pluralize. R. reset_cycle. S. safe_concat,; simple_format. T. truncate. W ... 2 people pluralize(3, 'person', plural: 'users') # => 3 users pluralize(0, 'person') # => 0 ... ‎cycle · ‎excerpt · ‎highlight · ‎pluralize  Pluralize(0, 'people') error - Rails - Ruby-Forumwww.ruby-forum.com › pluralize-0-people-error Sep 20, 2018 — pluralize(0, 'people') = 0 peoples Just thought I'd let you guys know. I'm new here so I don't know if this is in the right section, but ya.  Ruby on Rails: pluralization. Using Rails we get access to lots ...medium.com › ruby-on-rails-pluralization-b3927de2ca8e Apr 12, 2017 — 2.3.0 :001 > helper.pluralize(1, \"cat\")=> \"1 cat\". That's awesome! It seems that Rails “speaks” english and “knows” how to pluralize words.  Method: String#pluralize — Documentation for rails (4.1.7)www.rubydoc.info › docs › rails › String:pluralize permalink #pluralize(count = nil, locale = :en) ⇒ Object. Returns the ... If the optional parameter locale is specified, the word will be pluralized as a word of that language. ... Generated on Fri Dec 25 18:01:05 2020 by yard 0.9.25 (ruby-2.7.0).  Method: String#pluralize — Documentation for activesupport ...www.rubydoc.info › gems › String:pluralize activesupport (6.1.0) » Index » String » #pluralize. Method: String#pluralize ... If the optional parameter locale is specified, the word will be pluralized as a word ... Missing: rails ‎| Must include: rails  ruby on rails pluralization help? - NET XsPDF SDKwww.xspdf.com › resolution pluralize (String), Ruby on Rails latest stable (v5.2.3) - 1 note - Class: String. 1.0.0; 1.1. pluralize(​count = nil, locale = :en) public. Returns the plural form of the ...  pluralize without count number in rails 4 - iDiTectwww.iditect.com › how-to You can use <%= @posts.published.count > 0 ? ... Model attributes and methods Rails: Singularize and Pluralize Rails has functions buit-in that will turn a word ... Searches related to pluralize rails 0 rails pluralize i18n  rails singularize  rails pluralize view  rails pluralize in controller  rails pluralize view helper  html pluralize  rails pluralize in model  rails pluralize without count  1\t 2 3 4 5 6 7 8 9 10 Next Indonesia40512, Citeureup, Cimahi City, West Java - From your places (Home) - Use precise location - Learn more HelpSend feedbackPrivacyTerms"], ["updated_at", "2021-01-04 15:09:19.528596"], ["id", 4]]
  ↳ app/controllers/admin/movies_controller.rb:45:in `block in update'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/admin/movies_controller.rb:45:in `block in update'
  Rendering admin/movies/edit.html.erb within layouts/application
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 8.2ms | Allocations: 6397)
  Rendered admin/movies/edit.html.erb within layouts/application (Duration: 8.4ms | Allocations: 6460)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 13.1ms | ActiveRecord: 15.1ms | Allocations: 37195)


Started GET "/" for ::1 at 2021-01-04 22:10:29 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 40ms (ActiveRecord: 3.7ms | Allocations: 10600)


  
ArgumentError (:attributes cannot be blank):
  
app/models/movie.rb:8:in `<class:Movie>'
app/models/movie.rb:1:in `<main>'
app/controllers/admin/movies_controller.rb:7:in `index'
Started GET "/" for ::1 at 2021-01-04 22:11:33 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 5811)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 15.1ms | ActiveRecord: 5.7ms | Allocations: 19612)


Started DELETE "/admin/movies/4" for ::1 at 2021-01-04 22:11:37 +0700
Processing by Admin::MoviesController#destroy as HTML
  Parameters: {"authenticity_token"=>"UmfIBFuEQKyY29aEb1LdF/oOdQeym1PZN+6IlwblvZx4Hb/Gy0ng15Sweg3Hanw3NRkwLlyNyTr3tBpbj9jgaQ==", "id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:71:in `set_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[36mMoviesViewer Destroy (22.0ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1[0m  [["movie_id", 4]]
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[36mMovie::HABTM_Genres Destroy (0.4ms)[0m  [1m[31mDELETE FROM "genres_movies" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 4]]
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[36mMovie Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[35m (79.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
Redirected to http://localhost:3000/admin/movies
Completed 302 Found in 130ms (ActiveRecord: 107.2ms | Allocations: 10014)


Started GET "/admin/movies" for ::1 at 2021-01-04 22:11:37 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1035)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.4ms | Allocations: 6112)


Started DELETE "/admin/movies/3" for ::1 at 2021-01-04 22:11:39 +0700
Processing by Admin::MoviesController#destroy as HTML
  Parameters: {"authenticity_token"=>"LUmGN/oYWi2fCfxh0Ggd8eUqR7PUzKORhaAlI/5iJlQHM/H1atX6VpNiUOh4ULzRKj0CmjraOXJF+rfvd197oQ==", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:71:in `set_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[36mMoviesViewer Destroy (0.6ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[36mMovie::HABTM_Genres Destroy (0.4ms)[0m  [1m[31mDELETE FROM "genres_movies" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[36mMovie Destroy (0.2ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[35m (120.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
Redirected to http://localhost:3000/admin/movies
Completed 302 Found in 135ms (ActiveRecord: 122.3ms | Allocations: 5904)


Started GET "/admin/movies" for ::1 at 2021-01-04 22:11:39 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.4ms | Allocations: 6016)


Started GET "/admin/movies/new" for ::1 at 2021-01-04 22:11:40 +0700
Processing by Admin::MoviesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 15.5ms | Allocations: 10033)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 15.8ms | Allocations: 10096)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 16.0ms | ActiveRecord: 4.0ms | Allocations: 15034)


Started POST "/admin/movies" for ::1 at 2021-01-04 22:11:42 +0700
Processing by Admin::MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"s6tQPYpSBBMpKMMYZrEYaOh5kc2x7u98zxghe2SORFd/Nn/tDlRhITD53L4qzarMV7SmRljN5Bv03BvNYYvcnA==", "movie"=>{"name"=>"", "genre_ids"=>[""], "year"=>"1921", "director"=>"", "main_star"=>"", "description"=>""}, "commit"=>"Create Movie"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE 1=0[0m
  ↳ app/controllers/admin/movies_controller.rb:27:in `create'
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 11.5ms | Allocations: 6540)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 11.7ms | Allocations: 6603)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 15.8ms | ActiveRecord: 1.0ms | Allocations: 13887)


Started POST "/admin/movies" for ::1 at 2021-01-04 22:11:51 +0700
Processing by Admin::MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"yXU0t+8f+M3ZY0qrUL4/rPJMy//qSzkQ/34A4//zFkvjD0N1f9JYttUI5iL4hp6MPVuO1gRdo/M/JJIvds5Lvg==", "movie"=>{"name"=>"asdf", "genre_ids"=>["", "3"], "year"=>"1921", "director"=>"Genres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blank", "main_star"=>"", "description"=>""}, "commit"=>"Create Movie"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:27:in `create'
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 6.4ms | Allocations: 6412)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 6475)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 9.9ms | ActiveRecord: 1.0ms | Allocations: 15025)


Started POST "/admin/movies" for ::1 at 2021-01-04 22:13:08 +0700
Processing by Admin::MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"TGXS3j2MDbaYJ0/DjGeyxmfObIEaLRAkqXllMLvO8chmH6UcrUGtzZRM40okXxPmqNkpqPQ7isdpI/f8MvOsPQ==", "movie"=>{"name"=>"asdf", "genre_ids"=>["", "3"], "year"=>"1921", "director"=>"", "main_star"=>"Genres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blank", "description"=>""}, "commit"=>"Create Movie"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:27:in `create'
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 9.0ms | Allocations: 6451)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 9.6ms | Allocations: 6514)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 13.6ms | ActiveRecord: 11.3ms | Allocations: 34090)


Started POST "/admin/movies" for ::1 at 2021-01-04 22:13:20 +0700
Processing by Admin::MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"9uyM3X7nLyA0gTK6fNMFlVdx9UiPcB4ZprjMndUs6X/clvsf7iqPWzjqnjPU66S1mGawYWFmhPpm4l5RXBG0ig==", "movie"=>{"name"=>"asdf", "genre_ids"=>["", "3"], "year"=>"1921", "director"=>"", "main_star"=>"", "description"=>"Genres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blankGenres can't be blank"}, "commit"=>"Create Movie"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:27:in `create'
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 9.8ms | Allocations: 6409)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 10.1ms | Allocations: 6472)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 13.4ms | ActiveRecord: 1.1ms | Allocations: 13961)


Started POST "/admin/movies" for ::1 at 2021-01-04 22:14:52 +0700
Processing by Admin::MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"lVsO+XCNXRjhXLuvkWMN/HmFiJVvvWy2rM3bXfxONWO/IXk74ED9Y+03FyY5W6zctpLNvIGr9lVsl0mRdXNolg==", "movie"=>{"name"=>"asdf", "genre_ids"=>["", "3"], "year"=>"1921", "director"=>"", "main_star"=>"", "description"=>""}, "commit"=>"Create Movie"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:27:in `create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "asdf"], ["year", 1921], ["director", ""], ["main_star", ""], ["description", ""], ["created_at", "2021-01-04 15:14:52.396516"], ["updated_at", "2021-01-04 15:14:52.396516"]]
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[36mMovie::HABTM_Genres Create (0.3ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 5], ["genre_id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/admin/movies/5
Completed 302 Found in 60ms (ActiveRecord: 19.9ms | Allocations: 27178)


Started GET "/admin/movies/5" for ::1 at 2021-01-04 22:14:52 +0700
Processing by Admin::MoviesController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:71:in `set_movie'
  Rendering admin/movies/show.html.erb within layouts/application
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 5]]
  ↳ app/views/admin/movies/show.html.erb:30:in `map'
  Rendered admin/movies/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1356)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.3ms | ActiveRecord: 0.6ms | Allocations: 7245)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 22:18:46 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:16:in `set_movie'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 16.7ms | Allocations: 1428)
Completed 200 OK in 20ms (Views: 17.0ms | ActiveRecord: 0.7ms | Allocations: 2629)


Started PATCH "/admin/movies/4" for ::1 at 2021-01-04 22:19:05 +0700
Processing by Admin::MoviesController#update as HTML
  Parameters: {"authenticity_token"=>"6n/R/nG4y5kE/O/lGjzfrP4BaUTOndS2rkv3LT9ncBfABaY84XVr4giXQ2yyBH6MMRYsbSCLTlVuEWXhtlot4g==", "movie"=>{"name"=>"asdf", "genre_ids"=>[""], "year"=>"1921", "director"=>"", "main_star"=>"Skip to main contentAccessibility help Accessibility feedback Google pluralize rails 0  About 40,300 results (0.37 seconds)   rails4 // pluralize do pluralize when count is at 0 - Stack Overflowstackoverflow.com › questions › rails4-pluralize-do-plu... Oct 30, 2014 — Any number not 1 is considered plural. Instead of saying: You have 0 posts. 2 answers Rails pluralize count when zero, does not work with ... 1 answer Nov 20, 2018 pluralize without count number in rails 4 - Stack ... 5 answers Dec 2, 2014 What's the Rails way to handle singular/plural ... 3 answers Jul 6, 2018 Ruby on Rails: how to check pluralized and single ... 3 answers Nov 6, 2012 More results from stackoverflow.com  pluralize (ActionView::Helpers::TextHelper) - APIdockapidock.com › rails › Helpers › TextHelper › pluralize pluralize(count, singular, plural_arg = nil, plural: plural_arg, locale: I18n.locale) public ... 'person') # => 2 people pluralize(3, 'person', plural: 'users') # => 3 users pluralize(0, 'person') ... This should work in much older versions of Rails also.  pluralize (String) - APIdockapidock.com › rails › String › pluralize pluralize. Importance_2. Ruby on Rails latest stable (v5.2.3) - 1 note - Class: String. 1.0 ...  ActionView::Helpers::TextHelper - Ruby on Rails APIapi.rubyonrails.org › v5.0.0 › classes › TextHelper pluralize. R. reset_cycle. S. safe_concat,; simple_format. T. truncate. W ... 2 people pluralize(3, 'person', plural: 'users') # => 3 users pluralize(0, 'person') # => 0 ... ‎cycle · ‎excerpt · ‎highlight · ‎pluralize  Pluralize(0, 'people') error - Rails - Ruby-Forumwww.ruby-forum.com › pluralize-0-people-error Sep 20, 2018 — pluralize(0, 'people') = 0 peoples Just thought I'd let you guys know. I'm new here so I don't know if this is in the right section, but ya.  Ruby on Rails: pluralization. Using Rails we get access to lots ...medium.com › ruby-on-rails-pluralization-b3927de2ca8e Apr 12, 2017 — 2.3.0 :001 > helper.pluralize(1, \"cat\")=> \"1 cat\". That's awesome! It seems that Rails “speaks” english and “knows” how to pluralize words.  Method: String#pluralize — Documentation for rails (4.1.7)www.rubydoc.info › docs › rails › String:pluralize permalink #pluralize(count = nil, locale = :en) ⇒ Object. Returns the ... If the optional parameter locale is specified, the word will be pluralized as a word of that language. ... Generated on Fri Dec 25 18:01:05 2020 by yard 0.9.25 (ruby-2.7.0).  Method: String#pluralize — Documentation for activesupport ...www.rubydoc.info › gems › String:pluralize activesupport (6.1.0) » Index » String » #pluralize. Method: String#pluralize ... If the optional parameter locale is specified, the word will be pluralized as a word ... Missing: rails ‎| Must include: rails  ruby on rails pluralization help? - NET XsPDF SDKwww.xspdf.com › resolution pluralize (String), Ruby on Rails latest stable (v5.2.3) - 1 note - Class: String. 1.0.0; 1.1. pluralize(​count = nil, locale = :en) public. Returns the plural form of the ...  pluralize without count number in rails 4 - iDiTectwww.iditect.com › how-to You can use <%= @posts.published.count > 0 ? ... Model attributes and methods Rails: Singularize and Pluralize Rails has functions buit-in that will turn a word ... Searches related to pluralize rails 0 rails pluralize i18n  rails singularize  rails pluralize view  rails pluralize in controller  rails pluralize view helper  html pluralize  rails pluralize in model  rails pluralize without count  1\t 2 3 4 5 6 7 8 9 10 Next Indonesia40512, Citeureup, Cimahi City, West Java - From your places (Home) - Use precise location - Learn more HelpSend feedbackPrivacyTerms", "description"=>""}, "commit"=>"Update Movie", "id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:71:in `set_movie'
Completed 404 Not Found in 7ms (ActiveRecord: 0.9ms | Allocations: 2701)


  
ActiveRecord::RecordNotFound (Couldn't find Movie with 'id'=4):
  
app/controllers/admin/movies_controller.rb:71:in `set_movie'
Started GET "/admin/movies/4" for ::1 at 2021-01-04 22:19:08 +0700
Processing by Admin::MoviesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:71:in `set_movie'
Completed 404 Not Found in 3ms (ActiveRecord: 0.4ms | Allocations: 2655)


  
ActiveRecord::RecordNotFound (Couldn't find Movie with 'id'=4):
  
app/controllers/admin/movies_controller.rb:71:in `set_movie'
Started GET "/admin/movies/" for ::1 at 2021-01-04 22:19:15 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1044)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.6ms | Allocations: 6125)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:23:37 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1", "login"=>{"username"=>"bainur_@budi1"}}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1729)


  
ArgumentError (The provided regular expression is using multiline anchors (^ or $), which may present a security risk. Did you mean to use \A and \z, or forgot to add the :multiline => true option?):
  
app/models/viewer.rb:6:in `<class:Viewer>'
app/models/viewer.rb:1:in `<main>'
app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Started POST "/api/v1/login" for ::1 at 2021-01-04 22:23:49 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1", "login"=>{"username"=>"bainur_@budi1"}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1726)


  
ArgumentError (The provided regular expression is using multiline anchors (^ or $), which may present a security risk. Did you mean to use \A and \z, or forgot to add the :multiline => true option?):
  
app/models/viewer.rb:6:in `<class:Viewer>'
app/models/viewer.rb:1:in `<main>'
app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Started POST "/api/v1/login" for ::1 at 2021-01-04 22:24:10 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1", "login"=>{"username"=>"bainur_@budi1"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.4ms | Allocations: 163)
Completed 200 OK in 22ms (Views: 1.3ms | ActiveRecord: 3.1ms | Allocations: 10883)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:24:18 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^", "login"=>{"username"=>"bainur_@budi1^"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.2ms | Allocations: 75)
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 1988)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:24:20 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^", "login"=>{"username"=>"bainur_@budi1^"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.1ms | Allocations: 75)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1987)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:24:20 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^", "login"=>{"username"=>"bainur_@budi1^"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.2ms | Allocations: 75)
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 1987)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:24:22 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^", "login"=>{"username"=>"bainur_@budi1^"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.2ms | Allocations: 75)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1987)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:24:29 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^", "login"=>{"username"=>"bainur_@budi1^"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.2ms | Allocations: 75)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 1987)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:24:30 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^", "login"=>{"username"=>"bainur_@budi1^"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.3ms | Allocations: 75)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1987)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:24:42 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^^^^^", "login"=>{"username"=>"bainur_@budi1^^^^^"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^^^^^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 0.1ms | Allocations: 75)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1988)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:27:04 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^^^^^", "login"=>{"username"=>"bainur_@budi1^^^^^"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^^^^^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 500 Internal Server Error in 297ms (ActiveRecord: 4.1ms | Allocations: 144666)


  
NameError (undefined local variable or method `unprocessable_entity' for #<Api::V1::LoginController:0x000055c878a42770>):
  
app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
Started POST "/api/v1/login" for ::1 at 2021-01-04 22:27:16 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^^^^^", "login"=>{"username"=>"bainur_@budi1^^^^^"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^^^^^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 500 Internal Server Error in 42ms (Views: 0.3ms | ActiveRecord: 4.6ms | Allocations: 10566)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/api/v1/login_controller.rb:19:in `login_viewer'
Started POST "/api/v1/login" for ::1 at 2021-01-04 22:27:30 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^^^^^", "login"=>{"username"=>"bainur_@budi1^^^^^"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^^^^^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 14ms (Views: 0.2ms | ActiveRecord: 4.3ms | Allocations: 5245)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:27:51 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^^^^^", "login"=>{"username"=>"bainur_@budi1^^^^^"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^^^^^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 14ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 5229)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:28:31 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^^^^^", "login"=>{"username"=>"bainur_@budi1^^^^^"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^^^^^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.6ms | Allocations: 5417)


  
ArgumentError (wrong number of arguments (given 0, expected 2)):
  
app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
Started POST "/api/v1/login" for ::1 at 2021-01-04 22:28:54 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^^^^^", "login"=>{"username"=>"bainur_@budi1^^^^^"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^^^^^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 17ms (Views: 0.2ms | ActiveRecord: 6.8ms | Allocations: 5377)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:29:08 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1^^^^^", "login"=>{"username"=>"bainur_@budi1^^^^^"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1^^^^^"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 18ms (Views: 0.2ms | ActiveRecord: 3.9ms | Allocations: 5344)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:29:16 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1", "login"=>{"username"=>"bainur_@budi1"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1894)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:29:18 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_@budi1", "login"=>{"username"=>"bainur_@budi1"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_@budi1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1893)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:29:23 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_budi1", "login"=>{"username"=>"bainur_budi1"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_budi1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 36.9ms | Allocations: 14777)
Completed 200 OK in 50ms (Views: 29.7ms | ActiveRecord: 8.3ms | Allocations: 20973)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:29:30 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_budi1xyz", "login"=>{"username"=>"bainur_budi1xyz"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_budi1xyz"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:11:in `login_viewer'
  [1m[36mViewer Create (0.3ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "bainur_budi1xyz"], ["created_at", "2021-01-04 15:29:30.820734"], ["updated_at", "2021-01-04 15:29:30.820734"]]
  ↳ app/controllers/api/v1/login_controller.rb:11:in `login_viewer'
  [1m[35m (118.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:11:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 7]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 5.2ms | Allocations: 1038)
Completed 200 OK in 138ms (Views: 5.1ms | ActiveRecord: 120.2ms | Allocations: 4542)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 22:30:06 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user10@example.com", "favorite"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.9ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1273)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 22:30:12 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user10@example.com", "favorite"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1099)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 22:30:16 +0700
Processing by Api::V1::MoviesController#index as JSON
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (2.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 5]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  Rendered api/v1/movies/index.json.jbuilder (Duration: 23.1ms | Allocations: 4590)
Completed 200 OK in 27ms (Views: 20.2ms | ActiveRecord: 4.0ms | Allocations: 5132)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:31:25 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_budi1xyzasdfasdfadsfadsf", "login"=>{"username"=>"bainur_budi1xyzasdfasdfadsfadsf"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_budi1xyzasdfasdfadsfadsf"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 14ms (Views: 0.2ms | ActiveRecord: 4.3ms | Allocations: 5401)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:31:33 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"bainur_budi1x", "login"=>{"username"=>"bainur_budi1x"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "bainur_budi1x"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "bainur_budi1x"], ["created_at", "2021-01-04 15:31:33.269611"], ["updated_at", "2021-01-04 15:31:33.269611"]]
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  [1m[35m (18.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 8]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 10.3ms | Allocations: 3075)
Completed 200 OK in 59ms (Views: 5.5ms | ActiveRecord: 25.0ms | Allocations: 11687)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 22:35:17 +0700
Processing by Api::V1::MoviesController#index as JSON
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
Filter chain halted as :auth_username rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 2473)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 22:35:48 +0700
Processing by Api::V1::MoviesController#index as JSON
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
Filter chain halted as :auth_username rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 2463)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 22:36:20 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"user1@example.com", "movie"=>{}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 5]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  Rendered api/v1/movies/index.json.jbuilder (Duration: 29.3ms | Allocations: 15137)
Completed 200 OK in 40ms (Views: 22.1ms | ActiveRecord: 13.6ms | Allocations: 18191)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 22:36:30 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"user1@example.com", "movie"=>{}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (4.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 5]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  Rendered api/v1/movies/index.json.jbuilder (Duration: 14.4ms | Allocations: 4590)
Completed 200 OK in 18ms (Views: 9.7ms | ActiveRecord: 5.6ms | Allocations: 5507)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 22:36:35 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:17:in `set_movie'
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
Filter chain halted as :auth_username rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1609)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 22:37:22 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"username"=>"user1@example.com", "id"=>"1", "movie"=>{}}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:17:in `set_movie'
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 3.3ms | Allocations: 1336)
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 1.1ms | Allocations: 2774)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:37:54 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user1@example.com", "login"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
No template found for Api::V1::LoginController#login_viewer, rendering head :no_content
Completed 204 No Content in 8ms (ActiveRecord: 0.3ms | Allocations: 4902)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:38:25 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user1@example.com", "login"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
No template found for Api::V1::LoginController#login_viewer, rendering head :no_content
Completed 204 No Content in 13ms (ActiveRecord: 3.7ms | Allocations: 4438)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:38:51 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user1@example.com", "login"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
No template found for Api::V1::LoginController#login_viewer, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 3.4ms | Allocations: 4408)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:39:47 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user1@example.com", "login"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 8.1ms | Allocations: 3077)
Completed 200 OK in 28ms (Views: 4.8ms | ActiveRecord: 7.7ms | Allocations: 12571)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:41:15 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user1@example.com", "login"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 9.3ms | Allocations: 3076)
Completed 200 OK in 31ms (Views: 5.5ms | ActiveRecord: 8.2ms | Allocations: 12644)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:41:16 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user1@example.com", "login"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.3ms | Allocations: 1039)
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.6ms | Allocations: 2113)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:41:17 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user1@example.com", "login"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.7ms | Allocations: 1039)
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 0.7ms | Allocations: 2113)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:41:22 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user100@example.com", "login"=>{"username"=>"user100@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user100@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user100@example.com"], ["created_at", "2021-01-04 15:41:22.651251"], ["updated_at", "2021-01-04 15:41:22.651251"]]
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  [1m[35m (20.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 9]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 1.9ms | Allocations: 1038)
Completed 200 OK in 31ms (Views: 2.1ms | ActiveRecord: 21.8ms | Allocations: 4625)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:42:16 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user100@example.com", "login"=>{"username"=>"user100@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user100@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 9]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 9.1ms | Allocations: 3076)
Completed 200 OK in 31ms (Views: 5.6ms | ActiveRecord: 8.0ms | Allocations: 12620)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:42:18 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user100@example.com", "login"=>{"username"=>"user100@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user100@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 9]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 4.4ms | Allocations: 1039)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.6ms | Allocations: 2113)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:42:20 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user101232130@example.com", "login"=>{"username"=>"user101232130@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user101232130@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Validation failed: Username is too long (maximum is 20 characters)
Completed 400 Bad Request in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2100)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:42:49 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user101232130@example.com", "login"=>{"username"=>"user101232130@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user101232130@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 13ms (Views: 0.2ms | ActiveRecord: 3.7ms | Allocations: 5350)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:02 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user101232130^^%example.com", "login"=>{"username"=>"user101232130^^%example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user101232130^^%example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1898)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:07 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user101232130^^%", "login"=>{"username"=>"user101232130^^%"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user101232130^^%"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user101232130^^%"], ["created_at", "2021-01-04 15:43:07.138612"], ["updated_at", "2021-01-04 15:43:07.138612"]]
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  [1m[35m (29.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 10]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 9.7ms | Allocations: 3075)
Completed 200 OK in 62ms (Views: 5.5ms | ActiveRecord: 34.8ms | Allocations: 11677)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:23 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user101232130^^%", "login"=>{"username"=>"user101232130^^%"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user101232130^^%"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 10]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 9.5ms | Allocations: 3076)
Completed 200 OK in 31ms (Views: 5.3ms | ActiveRecord: 8.8ms | Allocations: 12621)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:28 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10123213^^%", "login"=>{"username"=>"user10123213^^%"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10123213^^%"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2019)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:29 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10123213^^%", "login"=>{"username"=>"user10123213^^%"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10123213^^%"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1893)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:30 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10123213^^%", "login"=>{"username"=>"user10123213^^%"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10123213^^%"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1893)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:31 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10123213^^%", "login"=>{"username"=>"user10123213^^%"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10123213^^%"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1893)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:32 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10123213^^%", "login"=>{"username"=>"user10123213^^%"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10123213^^%"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1893)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:32 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10123213^^%", "login"=>{"username"=>"user10123213^^%"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10123213^^%"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1893)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:35 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10123213^^%", "login"=>{"username"=>"user10123213^^%"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10123213^^%"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1893)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:35 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user10123213^^%", "login"=>{"username"=>"user10123213^^%"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user10123213^^%"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1893)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:47 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user1@example.com", "login"=>{"username"=>"user1@example.com"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user1@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 1.5ms | Allocations: 1039)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.4ms | Allocations: 2115)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:51 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user1123213@example.com", "login"=>{"username"=>"user1123213@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user1123213@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2296)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:43:57 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11233@example.com", "login"=>{"username"=>"user11233@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11233@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 2298)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:44:01 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11233@emple.com", "login"=>{"username"=>"user11233@emple.com"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11233@emple.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1893)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:44:02 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11233@emple.com", "login"=>{"username"=>"user11233@emple.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11233@emple.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1893)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:44:03 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11233@emple.com", "login"=>{"username"=>"user11233@emple.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11233@emple.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1893)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:44:08 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11233_emple.com", "login"=>{"username"=>"user11233_emple.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11233_emple.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user11233_emple.com"], ["created_at", "2021-01-04 15:44:08.093331"], ["updated_at", "2021-01-04 15:44:08.093331"]]
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  [1m[35m (46.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 11]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.6ms | Allocations: 1038)
Completed 200 OK in 57ms (Views: 2.7ms | ActiveRecord: 47.4ms | Allocations: 4544)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:44:22 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11233_emple.com", "login"=>{"username"=>"user11233_emple.com"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1092)


  
SyntaxError (/home/bainur/projects/miniflix/app/models/viewer.rb:6: premature end of char-class: /^[a-zA-Z0-9_\]+$/):
  
app/models/viewer.rb:6: premature end of char-class: /^[a-zA-Z0-9_\]+$/
app/models/viewer.rb:6: premature end of char-class: /^[a-zA-Z0-9_\]+$/
app/models/viewer.rb:6: premature end of char-class: /^[a-zA-Z0-9_\]+$/
app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Started POST "/api/v1/login" for ::1 at 2021-01-04 22:44:26 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11233_empxle.com", "login"=>{"username"=>"user11233_empxle.com"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1117)


  
SyntaxError (/home/bainur/projects/miniflix/app/models/viewer.rb:6: premature end of char-class: /^[a-zA-Z0-9_\]+$/):
  
app/models/viewer.rb:6: premature end of char-class: /^[a-zA-Z0-9_\]+$/
app/models/viewer.rb:6: premature end of char-class: /^[a-zA-Z0-9_\]+$/
app/models/viewer.rb:6: premature end of char-class: /^[a-zA-Z0-9_\]+$/
app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Started POST "/api/v1/login" for ::1 at 2021-01-04 22:44:39 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11233_empxle.com", "login"=>{"username"=>"user11233_empxle.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11233_empxle.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 20ms (Views: 0.2ms | ActiveRecord: 3.8ms | Allocations: 5422)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:44:41 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11233_empxle.com", "login"=>{"username"=>"user11233_empxle.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11233_empxle.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1893)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:44:46 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11233_empxlecom", "login"=>{"username"=>"user11233_empxlecom"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11233_empxlecom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  [1m[36mViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user11233_empxlecom"], ["created_at", "2021-01-04 15:44:46.841183"], ["updated_at", "2021-01-04 15:44:46.841183"]]
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  [1m[35m (14.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 12]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 12.9ms | Allocations: 3075)
Completed 200 OK in 47ms (Views: 7.1ms | ActiveRecord: 22.3ms | Allocations: 11685)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:44:52 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11233_empxlecom", "login"=>{"username"=>"user11233_empxlecom"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11233_empxlecom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (4.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 12]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 6.8ms | Allocations: 1039)
Completed 200 OK in 10ms (Views: 2.7ms | ActiveRecord: 5.0ms | Allocations: 2121)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:45:34 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"user11233_empxlecom", "login"=>{"username"=>"user11233_empxlecom"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "user11233_empxlecom"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 12]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 10.6ms | Allocations: 3076)
Completed 200 OK in 31ms (Views: 6.2ms | ActiveRecord: 9.0ms | Allocations: 12578)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:45:44 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user", "login"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  [1m[36mViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "test_user"], ["created_at", "2021-01-04 15:45:44.802741"], ["updated_at", "2021-01-04 15:45:44.802741"]]
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  [1m[35m (45.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:12:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.2ms | Allocations: 1038)
Completed 200 OK in 57ms (Views: 2.3ms | ActiveRecord: 47.0ms | Allocations: 4623)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 22:45:57 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_user", "movie"=>{}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 5]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  Rendered api/v1/movies/index.json.jbuilder (Duration: 32.2ms | Allocations: 15109)
Completed 200 OK in 38ms (Views: 26.4ms | ActiveRecord: 7.2ms | Allocations: 16393)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 22:46:09 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"username"=>"test_user", "id"=>"1", "movie"=>{}}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:17:in `set_movie'
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 3.2ms | Allocations: 1336)
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.9ms | Allocations: 2884)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 22:47:21 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>1, "favorite"=>{"username"=>"test_user", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMoviesViewer Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 13]]
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[35m (18.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMovie Update All (42.9ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:16:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 19.1ms | Allocations: 8815)
Completed 200 OK in 134ms (Views: 15.1ms | ActiveRecord: 74.7ms | Allocations: 29845)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 22:47:48 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>1, "favorite"=>{"username"=>"test_user", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 13], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:23:in `remove_favorite'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:9:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 13], ["movie_id", 1]]
  ↳ app/models/viewer.rb:9:in `remove_favorite'
  [1m[35m (52.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:9:in `remove_favorite'
  [1m[36mMovie Update All (7.4ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) - $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:10:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 3.3ms | Allocations: 911)
Completed 200 OK in 76ms (Views: 3.6ms | ActiveRecord: 62.3ms | Allocations: 6139)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 22:47:57 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"user10@example.com", "favorite"=>{"username"=>"user10@example.com"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "user10@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
Couldn't find Viewer
Completed 404 Not Found in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1147)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 22:48:03 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"test_user", "favorite"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.8ms | Allocations: 1039)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.7ms | Allocations: 1960)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:48:27 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user", "login"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.3ms | Allocations: 1039)
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 0.7ms | Allocations: 2327)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:48:55 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user", "login"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 9.8ms | Allocations: 3076)
Completed 200 OK in 32ms (Views: 5.7ms | ActiveRecord: 8.9ms | Allocations: 12563)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 22:49:01 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_user", "movie"=>{}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 5]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  Rendered api/v1/movies/index.json.jbuilder (Duration: 30.1ms | Allocations: 15109)
Completed 200 OK in 34ms (Views: 25.6ms | ActiveRecord: 5.5ms | Allocations: 16393)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 22:49:12 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"username"=>"test_user", "id"=>"1", "movie"=>{}}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:17:in `set_movie'
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 2.2ms | Allocations: 1336)
Completed 200 OK in 19ms (Views: 2.5ms | ActiveRecord: 0.9ms | Allocations: 2885)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 22:49:16 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"username"=>"test_user", "id"=>"1", "movie"=>{}}
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:17:in `set_movie'
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 6.2ms | Allocations: 1336)
Completed 200 OK in 11ms (Views: 6.4ms | ActiveRecord: 0.9ms | Allocations: 2774)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 22:52:54 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"usernamex"=>"test_user", "id"=>"1", "movie"=>{}}
Filter chain halted as :check_username_params rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 304)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 22:53:12 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"username"=>"test_user", "id"=>"1", "movie"=>{}}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:17:in `set_movie'
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 16.7ms | Allocations: 7684)
Completed 200 OK in 42ms (Views: 11.7ms | ActiveRecord: 12.6ms | Allocations: 17096)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:53:17 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user", "login"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 8.0ms | Allocations: 2621)
Completed 200 OK in 17ms (Views: 7.0ms | ActiveRecord: 2.8ms | Allocations: 5131)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:53:19 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user", "login"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 5.4ms | Allocations: 1039)
Completed 200 OK in 9ms (Views: 5.7ms | ActiveRecord: 0.7ms | Allocations: 2119)


Started POST "/api/v1/login" for ::1 at 2021-01-04 22:53:20 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user", "login"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:6:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.8ms | Allocations: 1039)
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 0.7ms | Allocations: 2119)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 22:53:22 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_user", "movie"=>{}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 5]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  Rendered api/v1/movies/index.json.jbuilder (Duration: 16.3ms | Allocations: 4590)
Completed 200 OK in 20ms (Views: 15.5ms | ActiveRecord: 1.9ms | Allocations: 5513)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 22:53:25 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"username"=>"test_user", "id"=>"1", "movie"=>{}}
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:17:in `set_movie'
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 2.2ms | Allocations: 1336)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.7ms | Allocations: 2780)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 22:53:35 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "favorite"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
Couldn't find Movie without an ID
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1169)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 22:53:41 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>1, "favorite"=>{"username"=>"test_user", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMoviesViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 13]]
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[35m (93.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMovie Update All (12.4ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:16:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 6.6ms | Allocations: 2246)
Completed 200 OK in 132ms (Views: 7.1ms | ActiveRecord: 109.0ms | Allocations: 9027)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 22:53:44 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>1, "favorite"=>{"username"=>"test_user", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMoviesViewer Create (1.0ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 13]]
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 13) already exists.

Completed 400 Bad Request in 9ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 5634)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 22:53:45 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>1, "favorite"=>{"username"=>"test_user", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMoviesViewer Create (3.7ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 13]]
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 13) already exists.

Completed 400 Bad Request in 16ms (Views: 0.2ms | ActiveRecord: 6.7ms | Allocations: 5634)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 22:53:46 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>1, "favorite"=>{"username"=>"test_user", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMoviesViewer Create (1.1ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 13]]
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 13) already exists.

Completed 400 Bad Request in 17ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 5634)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 22:53:56 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>1, "favorite"=>{"username"=>"test_user", "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[36mMovie Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 13], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:23:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:9:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 13], ["movie_id", 1]]
  ↳ app/models/viewer.rb:9:in `remove_favorite'
  [1m[35m (40.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:9:in `remove_favorite'
  [1m[36mMovie Update All (9.0ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) - $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:10:in `remove_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 1.8ms | Allocations: 911)
Completed 200 OK in 63ms (Views: 1.9ms | ActiveRecord: 51.6ms | Allocations: 6134)


Started GET "/admin/movies/" for ::1 at 2021-01-04 22:54:04 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 7.9ms | ActiveRecord: 3.6ms | Allocations: 11131)


Started GET "/admin/movies/" for ::1 at 2021-01-04 22:54:05 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1036)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.7ms | Allocations: 6084)


Started GET "/admin/movies/" for ::1 at 2021-01-04 22:54:05 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1036)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.5ms | Allocations: 6084)


Started GET "/admin/movies/" for ::1 at 2021-01-04 22:54:06 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1036)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 7.2ms | ActiveRecord: 0.7ms | Allocations: 6080)


Started GET "/admin/movies/" for ::1 at 2021-01-04 22:54:08 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1036)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 8.2ms | ActiveRecord: 0.5ms | Allocations: 6092)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 22:55:32 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_user", "movie"=>{}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 5]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:12
  Rendered api/v1/movies/index.json.jbuilder (Duration: 29.9ms | Allocations: 15139)
Completed 200 OK in 42ms (Views: 24.6ms | ActiveRecord: 10.8ms | Allocations: 19761)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 22:55:38 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"username"=>"test_user", "id"=>"1", "movie"=>{}}
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:17:in `set_movie'
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 2.9ms | Allocations: 1336)
Completed 200 OK in 8ms (Views: 3.1ms | ActiveRecord: 1.0ms | Allocations: 2890)


Started GET "/admin/movies/1/edit" for ::1 at 2021-01-04 22:55:50 +0700
Processing by Admin::MoviesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:71:in `set_movie'
  Rendering admin/movies/edit.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "genres"."id" FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 9.4ms | Allocations: 7384)
  Rendered admin/movies/edit.html.erb within layouts/application (Duration: 9.9ms | Allocations: 7447)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 13.1ms | ActiveRecord: 5.3ms | Allocations: 18067)


Started GET "/admin/movies" for ::1 at 2021-01-04 22:55:54 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1040)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 6.0ms | ActiveRecord: 0.6ms | Allocations: 6098)


Started GET "/admin/users" for ::1 at 2021-01-04 22:55:57 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 7]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 8]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 9]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 10]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 11]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 12]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 30.6ms | Allocations: 16405)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 29.0ms | ActiveRecord: 7.3ms | Allocations: 22281)


Started GET "/admin/users/5" for ::1 at 2021-01-04 22:56:01 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/show.html.erb:9
  Rendered admin/users/show.html.erb within layouts/application (Duration: 20.7ms | Allocations: 1508)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 28.2ms | ActiveRecord: 1.1ms | Allocations: 7317)


Started GET "/admin/users/6" for ::1 at 2021-01-04 22:56:06 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/show.html.erb:9
  Rendered admin/users/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1026)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 14.7ms | ActiveRecord: 1.1ms | Allocations: 6607)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 23:02:33 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"username"=>"test_user", "id"=>"1", "movie"=>{}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:18:in `check_username_params'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:17:in `set_movie'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:12
  Rendered api/v1/movies/show.json.jbuilder (Duration: 17.6ms | Allocations: 7537)
Completed 200 OK in 47ms (Views: 18.0ms | ActiveRecord: 1.8ms | Allocations: 17704)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 23:03:01 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"username"=>"test_user", "id"=>"1", "movie"=>{}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:18:in `check_username_params'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:17:in `set_movie'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:13
  [1m[36mMoviesViewer Load (0.4ms)[0m  [1m[34mSELECT "movies_viewers".* FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 1], ["viewer_id", 13]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:19
  Rendered api/v1/movies/show.json.jbuilder (Duration: 7.5ms | Allocations: 2903)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 1.4ms | Allocations: 5146)


Started GET "/api/v1/movies/1" for ::1 at 2021-01-04 23:03:19 +0700
Processing by Api::V1::MoviesController#show as JSON
  Parameters: {"username"=>"test_user", "id"=>"1", "movie"=>{}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:18:in `check_username_params'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:17:in `set_movie'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/show.json.jbuilder
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 1], ["viewer_id", 13]]
  ↳ app/models/movie.rb:15:in `check_favorite_by_user'
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/show.json.jbuilder:13
  Rendered api/v1/movies/show.json.jbuilder (Duration: 28.6ms | Allocations: 9032)
Completed 200 OK in 61ms (Views: 22.0ms | ActiveRecord: 19.6ms | Allocations: 18978)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 23:03:24 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_user", "movie"=>{}}
  [1m[36mViewer Load (7.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:18:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 2], ["viewer_id", 13]]
  ↳ app/models/movie.rb:15:in `check_favorite_by_user'
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 5], ["viewer_id", 13]]
  ↳ app/models/movie.rb:15:in `check_favorite_by_user'
  [1m[36mGenre Load (0.7ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 5]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 1], ["viewer_id", 13]]
  ↳ app/models/movie.rb:15:in `check_favorite_by_user'
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  Rendered api/v1/movies/index.json.jbuilder (Duration: 29.4ms | Allocations: 6907)
Completed 200 OK in 43ms (Views: 26.1ms | ActiveRecord: 11.3ms | Allocations: 8458)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 23:03:42 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>1, "favorite"=>{"username"=>"test_user", "movie_id"=>1}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:18:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMoviesViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 13]]
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[35m (28.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMovie Update All (33.1ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:16:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 6.3ms | Allocations: 2628)
Completed 200 OK in 96ms (Views: 7.6ms | ActiveRecord: 66.4ms | Allocations: 11590)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 23:03:47 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_user", "movie"=>{}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:18:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:21:in `auth_username'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 2], ["viewer_id", 13]]
  ↳ app/models/movie.rb:15:in `check_favorite_by_user'
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 5], ["viewer_id", 13]]
  ↳ app/models/movie.rb:15:in `check_favorite_by_user'
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 5]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 1], ["viewer_id", 13]]
  ↳ app/models/movie.rb:15:in `check_favorite_by_user'
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  Rendered api/v1/movies/index.json.jbuilder (Duration: 13.7ms | Allocations: 6814)
Completed 200 OK in 18ms (Views: 11.6ms | ActiveRecord: 2.9ms | Allocations: 8229)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 23:07:25 +0700
  
SyntaxError (/home/bainur/projects/miniflix/app/controllers/api/v1/movies_controller.rb:9: `@' without identifiers is not allowed as an instance variable name
...       @favorited_movie_ids = @
...                              ^
):
  
app/controllers/api/v1/movies_controller.rb:9: `@' without identifiers is not allowed as an instance variable name
app/controllers/api/v1/movies_controller.rb:9: `@' without identifiers is not allowed as an instance variable name
app/controllers/api/v1/movies_controller.rb:9: `@' without identifiers is not allowed as an instance variable name
Started GET "/api/v1/movies" for ::1 at 2021-01-04 23:08:31 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_user", "movie"=>{}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/controllers/api/v1/movies_controller.rb:9:in `index'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 2], ["viewer_id", 13]]
  ↳ app/models/movie.rb:15:in `check_favorite_by_user'
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 5], ["viewer_id", 13]]
  ↳ app/models/movie.rb:15:in `check_favorite_by_user'
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 5]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 1], ["viewer_id", 13]]
  ↳ app/models/movie.rb:15:in `check_favorite_by_user'
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  Rendered api/v1/movies/index.json.jbuilder (Duration: 27.6ms | Allocations: 13112)
Completed 200 OK in 56ms (Views: 22.1ms | ActiveRecord: 13.9ms | Allocations: 25362)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 23:09:06 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_user", "movie"=>{}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/controllers/api/v1/movies_controller.rb:9:in `index'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 2], ["viewer_id", 13]]
  ↳ app/models/movie.rb:15:in `check_favorite_by_user'
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 5], ["viewer_id", 13]]
  ↳ app/models/movie.rb:15:in `check_favorite_by_user'
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 5]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1 AND "movies_viewers"."viewer_id" = $2[0m  [["movie_id", 1], ["viewer_id", 13]]
  ↳ app/models/movie.rb:15:in `check_favorite_by_user'
  [1m[36mGenre Load (0.2ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  Rendered api/v1/movies/index.json.jbuilder (Duration: 26.9ms | Allocations: 13112)
Completed 200 OK in 58ms (Views: 21.6ms | ActiveRecord: 13.9ms | Allocations: 25334)


  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" ORDER BY "viewers"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
Started GET "/api/v1/movies" for ::1 at 2021-01-04 23:10:08 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_user", "movie"=>{}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/controllers/api/v1/movies_controller.rb:9:in `index'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.9ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  [1m[36mGenre Load (3.1ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 5]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:13
  Rendered api/v1/movies/index.json.jbuilder (Duration: 15.3ms | Allocations: 4717)
Completed 200 OK in 22ms (Views: 11.5ms | ActiveRecord: 5.7ms | Allocations: 6882)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 23:10:42 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_user", "movie"=>{}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/controllers/api/v1/movies_controller.rb:9:in `index'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mHABTM_Genres Load (0.7ms)[0m  [1m[34mSELECT "genres_movies".* FROM "genres_movies" WHERE "genres_movies"."movie_id" IN ($1, $2, $3)[0m  [["movie_id", 2], ["movie_id", 5], ["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" IN ($1, $2, $3, $4, $5, $6)[0m  [["id", 16], ["id", 1], ["id", 6], ["id", 7], ["id", 2], ["id", 3]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  Rendered api/v1/movies/index.json.jbuilder (Duration: 99.9ms | Allocations: 11836)
Completed 200 OK in 140ms (Views: 92.2ms | ActiveRecord: 17.8ms | Allocations: 24079)


Started GET "/api/v1/movies" for ::1 at 2021-01-04 23:11:10 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_user", "movie"=>{}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mMovie Load (1.1ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/controllers/api/v1/movies_controller.rb:9:in `index'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mHABTM_Genres Load (0.3ms)[0m  [1m[34mSELECT "genres_movies".* FROM "genres_movies" WHERE "genres_movies"."movie_id" IN ($1, $2, $3)[0m  [["movie_id", 2], ["movie_id", 5], ["movie_id", 1]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" IN ($1, $2, $3, $4, $5, $6)[0m  [["id", 16], ["id", 1], ["id", 6], ["id", 7], ["id", 2], ["id", 3]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  Rendered api/v1/movies/index.json.jbuilder (Duration: 26.0ms | Allocations: 10373)
Completed 200 OK in 62ms (Views: 19.6ms | ActiveRecord: 16.5ms | Allocations: 22607)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-04 23:11:29 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>1, "favorite"=>{"username"=>"test_user", "movie_id"=>1}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMoviesViewer Create (1.5ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 13]]
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(1, 13) already exists.

Completed 400 Bad Request in 14ms (Views: 0.2ms | ActiveRecord: 2.9ms | Allocations: 7663)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 23:11:37 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"test_user", "favorite"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 7.5ms | Allocations: 4072)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 1.1ms | Allocations: 5822)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 23:12:01 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"test_user", "favorite"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 35.1ms | Allocations: 14776)
Completed 200 OK in 61ms (Views: 27.2ms | ActiveRecord: 12.1ms | Allocations: 24861)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 23:12:16 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>100, "favorite"=>{"username"=>"test_user", "movie_id"=>100}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
Couldn't find Movie with 'id'=100
Completed 404 Not Found in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2269)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 23:12:17 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>100, "favorite"=>{"username"=>"test_user", "movie_id"=>100}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
Couldn't find Movie with 'id'=100
Completed 404 Not Found in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2160)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-04 23:12:18 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>100, "favorite"=>{"username"=>"test_user", "movie_id"=>100}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
Couldn't find Movie with 'id'=100
Completed 404 Not Found in 6ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 2160)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-04 23:12:21 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"test_user", "favorite"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.1ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:34:in `fav_movies'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 5.9ms | Allocations: 2322)
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 1.1ms | Allocations: 3740)


Started GET "/admin/users" for ::1 at 2021-01-04 23:15:33 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 7]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 8]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 9]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 10]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 11]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 12]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 25.2ms | Allocations: 13668)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 26.0ms | ActiveRecord: 8.0ms | Allocations: 24948)


Started GET "/admin/users/1" for ::1 at 2021-01-04 23:15:37 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/show.html.erb:9
  Rendered admin/users/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1194)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 8.1ms | ActiveRecord: 1.1ms | Allocations: 7011)


Started GET "/admin/users" for ::1 at 2021-01-04 23:15:39 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 7]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 8]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 9]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 10]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 11]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 12]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 28.9ms | Allocations: 13447)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 27.2ms | ActiveRecord: 6.2ms | Allocations: 18503)


Started GET "/admin/users/7" for ::1 at 2021-01-04 23:15:40 +0700
Processing by Admin::UsersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  Rendering admin/users/show.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 7]]
  ↳ app/views/admin/users/show.html.erb:9
  Rendered admin/users/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1009)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 5.9ms | ActiveRecord: 1.1ms | Allocations: 6573)


Started GET "/admin/users" for ::1 at 2021-01-04 23:15:41 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 7]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 8]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 9]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 10]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 11]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 12]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 22.9ms | Allocations: 13446)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 21.4ms | ActiveRecord: 6.8ms | Allocations: 18509)


Started DELETE "/admin/logout" for ::1 at 2021-01-04 23:15:43 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"IIyQ+vVhyhJ1pTXdncArD+bwKxGa9uJYtnI0gbmXXa0K9uc4ZaxqaXnOmVQ1+IovKeduOHTgeLt2KKZNMKoAWA=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 143ms (ActiveRecord: 0.5ms | Allocations: 2645)


Started GET "/" for ::1 at 2021-01-04 23:15:43 +0700
Processing by Admin::MoviesController#index as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 387)


Started GET "/admin/login" for ::1 at 2021-01-04 23:15:43 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 421)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 82.3ms | Allocations: 2123)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 155ms (Views: 91.7ms | ActiveRecord: 0.0ms | Allocations: 7542)


Started GET "/" for ::1 at 2021-01-05 11:19:20 +0700
  [1m[35m (56.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::MoviesController#index as HTML
Completed 401 Unauthorized in 10ms (ActiveRecord: 0.0ms | Allocations: 1204)


Started GET "/admin/login" for ::1 at 2021-01-05 11:19:21 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 421)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 172.4ms | Allocations: 2815)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 827ms (Views: 743.0ms | ActiveRecord: 66.9ms | Allocations: 61085)


Started GET "/" for ::1 at 2021-01-05 11:19:27 +0700
Processing by Admin::MoviesController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 318)


Started GET "/admin/login" for ::1 at 2021-01-05 11:19:27 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 956)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms | Allocations: 4716)


  [1m[36mGenre Load (67.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (97.5ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "STAR WARS: THE RISE OF SKYWALKER"], ["year", 1977], ["director", "J.J. Abrams"], ["main_star", "Mark Hammil, Adam Driver"], ["description", "When it's discovered that the evil Emperor Palpatine did not die at the hands of Darth Vader, the rebels must race against the clock to find out his whereabouts. Finn and Poe lead the Resistance to put a stop to the First Order's plans to form a new Empire, while Rey anticipates her inevitable confrontation with Kylo"], ["created_at", "2021-01-05 04:49:24.561138"], ["updated_at", "2021-01-05 04:49:24.561138"]]
  [1m[36mMovie::HABTM_Genres Create (72.8ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 6], ["genre_id", 3]]
  [1m[36mMovie::HABTM_Genres Create (0.5ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 6], ["genre_id", 17]]
  [1m[36mMovie::HABTM_Genres Create (0.4ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 6], ["genre_id", 12]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (37.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5062.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (389.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (216.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "sample_project_test"[0m
  [1m[35m (1026.8ms)[0m  [1m[35mCREATE DATABASE "miniflix_development" ENCODING = 'unicode'[0m
  [1m[35m (923.4ms)[0m  [1m[35mCREATE DATABASE "sample_project_test" ENCODING = 'unicode'[0m
  [1m[35m (179.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (98.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210101135633)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (79.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135633"]]
  [1m[35m (33.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20210101135652)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (155.6ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (101.1ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp[0m
  [1m[35m (40.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (31.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135652"]]
  [1m[35m (16.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMovies (20210104041803)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (91.7ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "name" character varying, "year" smallint, "director" character varying(60), "main_star" character varying(60), "description" text, "favorited" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104041803"]]
  [1m[35m (22.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenres (20210104043143)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (36.3ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "name" character varying(64), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "genres_movies" ("movie_id" bigint, "genre_id" bigint)[0m
  [1m[35m (28.2ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id" ON "genres_movies"  ("movie_id")[0m
  [1m[35m (52.9ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_genre_id" ON "genres_movies"  ("genre_id")[0m
  [1m[35m (42.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_genres_movies_on_movie_id_and_genre_id" ON "genres_movies"  ("movie_id", "genre_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104043143"]]
  [1m[35m (12.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateViewers (20210104045836)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (37.2ms)[0m  [1m[35mCREATE TABLE "viewers" ("id" bigserial primary key, "username" character varying(20), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "movies_viewers" ("movie_id" bigint, "viewer_id" bigint)[0m
  [1m[35m (29.8ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_movie_id" ON "movies_viewers"  ("movie_id")[0m
  [1m[35m (42.8ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_viewer_id" ON "movies_viewers"  ("viewer_id")[0m
  [1m[35m (53.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_movies_viewers_on_movie_id_and_viewer_id" ON "movies_viewers"  ("movie_id", "viewer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104045836"]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-01-05 04:50:49.327331"], ["updated_at", "2021-01-05 04:50:49.327331"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mViewer Destroy (0.3ms)[0m  [1m[31mDELETE FROM "viewers"[0m
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mMovie Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mGenre Destroy (0.3ms)[0m  [1m[31mDELETE FROM "genres"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2021-01-05 04:50:52.596933"], ["updated_at", "2021-01-05 04:50:52.596933"], ["email", "admin@example.com"], ["encrypted_password", "$2a$12$TWxixfEUsNvK5UgHM1PaTO3pkgLjTLuQlvyBGHdMcJsNwNYwz0rmW"]]
  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Action"], ["created_at", "2021-01-05 04:50:52.629181"], ["updated_at", "2021-01-05 04:50:52.629181"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Adventure"], ["created_at", "2021-01-05 04:50:52.643114"], ["updated_at", "2021-01-05 04:50:52.643114"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Animation"], ["created_at", "2021-01-05 04:50:52.654536"], ["updated_at", "2021-01-05 04:50:52.654536"]]
  [1m[35m (43.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.8ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Biography"], ["created_at", "2021-01-05 04:50:52.704003"], ["updated_at", "2021-01-05 04:50:52.704003"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Comedy"], ["created_at", "2021-01-05 04:50:52.720851"], ["updated_at", "2021-01-05 04:50:52.720851"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Crime"], ["created_at", "2021-01-05 04:50:52.732349"], ["updated_at", "2021-01-05 04:50:52.732349"]]
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Documentary"], ["created_at", "2021-01-05 04:50:52.742663"], ["updated_at", "2021-01-05 04:50:52.742663"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2021-01-05 04:50:52.753849"], ["updated_at", "2021-01-05 04:50:52.753849"]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fantasy"], ["created_at", "2021-01-05 04:50:52.765181"], ["updated_at", "2021-01-05 04:50:52.765181"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "History"], ["created_at", "2021-01-05 04:50:52.776413"], ["updated_at", "2021-01-05 04:50:52.776413"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.5ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horror"], ["created_at", "2021-01-05 04:50:52.787673"], ["updated_at", "2021-01-05 04:50:52.787673"]]
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Musical"], ["created_at", "2021-01-05 04:50:52.798920"], ["updated_at", "2021-01-05 04:50:52.798920"]]
  [1m[35m (12.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mystery"], ["created_at", "2021-01-05 04:50:52.820577"], ["updated_at", "2021-01-05 04:50:52.820577"]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Romance"], ["created_at", "2021-01-05 04:50:52.831694"], ["updated_at", "2021-01-05 04:50:52.831694"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sci-Fi"], ["created_at", "2021-01-05 04:50:52.842919"], ["updated_at", "2021-01-05 04:50:52.842919"]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Thriller"], ["created_at", "2021-01-05 04:50:52.853852"], ["updated_at", "2021-01-05 04:50:52.853852"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "War"], ["created_at", "2021-01-05 04:50:52.864651"], ["updated_at", "2021-01-05 04:50:52.864651"]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Western"], ["created_at", "2021-01-05 04:50:52.876359"], ["updated_at", "2021-01-05 04:50:52.876359"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "STAR WARS: THE RISE OF SKYWALKER"], ["year", 1977], ["director", "J.J. Abrams"], ["main_star", "Mark Hammil, Adam Driver"], ["description", "When it's discovered that the evil Emperor Palpatine did not die at the hands of Darth Vader, the rebels must race against the clock to find out his whereabouts. Finn and Poe lead the Resistance to put a stop to the First Order's plans to form a new Empire"], ["created_at", "2021-01-05 04:50:52.911438"], ["updated_at", "2021-01-05 04:50:52.911438"]]
  [1m[36mMovie::HABTM_Genres Create (0.4ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 2]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 17]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 10]]
  [1m[35m (12.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "THE LORD OF THE RINGS - THE RETURN OF THE KING"], ["year", 2003], ["director", "Peter Jackson"], ["main_star", "Elijah Wood, Ian Mc Kellen"], ["description", "The culmination of nearly 10 years' work and conclusion\nto Peter Jackson's epic trilogy based on the timeless J.R.R. Tolkien classic"], ["created_at", "2021-01-05 04:50:52.934269"], ["updated_at", "2021-01-05 04:50:52.934269"]]
  [1m[36mMovie::HABTM_Genres Create (0.3ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 16]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 1]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 8]]
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" ORDER BY "movies"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies"[0m
Started POST "/api/v1/login" for ::1 at 2021-01-05 12:10:56 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user", "login"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:8:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  [1m[36mViewer Create (0.6ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "test_user"], ["created_at", "2021-01-05 05:10:56.998792"], ["updated_at", "2021-01-05 05:10:56.998792"]]
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  [1m[35m (77.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.8ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 42.1ms | Allocations: 4342)
Completed 200 OK in 166ms (Views: 38.8ms | ActiveRecord: 88.4ms | Allocations: 20644)


Started GET "/api/v1/movies" for ::1 at 2021-01-05 12:11:05 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_user", "movie"=>{}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/controllers/api/v1/movies_controller.rb:9:in `index'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 10], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mHABTM_Genres Load (0.6ms)[0m  [1m[34mSELECT "genres_movies".* FROM "genres_movies" WHERE "genres_movies"."movie_id" IN ($1, $2)[0m  [["movie_id", 1], ["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" IN ($1, $2, $3, $4, $5, $6)[0m  [["id", 2], ["id", 17], ["id", 10], ["id", 16], ["id", 1], ["id", 8]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  Rendered api/v1/movies/index.json.jbuilder (Duration: 78.8ms | Allocations: 15687)
Completed 200 OK in 87ms (Views: 72.4ms | ActiveRecord: 8.0ms | Allocations: 18116)


Started POST "/api/v1/login" for ::1 at 2021-01-05 12:23:44 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"_test_user", "login"=>{"username"=>"_test_user"}}
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "_test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:8:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  [1m[36mViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "_test_user"], ["created_at", "2021-01-05 05:23:45.074162"], ["updated_at", "2021-01-05 05:23:45.074162"]]
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  [1m[35m (29.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 4.5ms | Allocations: 3035)
Completed 200 OK in 60ms (Views: 5.0ms | ActiveRecord: 31.4ms | Allocations: 15174)


Started POST "/admin/login" for ::1 at 2021-01-05 12:24:09 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"pZMlgkc7x0PnVzxAAfe4ksavdjpcUY0EvcwOgL/xd8oKg3IWgMxoaPqtiuY9r20ok40VdMIZ+ST9QkcwlvJTBA==", "user"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 332ms (ActiveRecord: 4.4ms | Allocations: 12636)


Started GET "/" for ::1 at 2021-01-05 12:24:09 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 5479)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 128ms (Views: 124.3ms | ActiveRecord: 0.6ms | Allocations: 56660)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5008.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (330.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "miniflix_development"[0m
  [1m[35m (323.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "sample_project_test"[0m
  [1m[35m (958.2ms)[0m  [1m[35mCREATE DATABASE "miniflix_development" ENCODING = 'unicode'[0m
  [1m[35m (982.0ms)[0m  [1m[35mCREATE DATABASE "sample_project_test" ENCODING = 'unicode'[0m
  [1m[35m (191.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (131.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4586863541625385125)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20210101135633)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (89.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135633"]]
  [1m[35m (17.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20210101135652)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (148.1ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (74.1ms)[0m  [1m[35mALTER TABLE "users" ADD "encrypted_password" character varying DEFAULT '' NOT NULL[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_created_at" timestamp[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (60.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101135652"]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMovies (20210104041803)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (68.3ms)[0m  [1m[35mCREATE TABLE "movies" ("id" bigserial primary key, "name" character varying, "year" smallint, "director" character varying(60), "main_star" character varying(60), "description" text, "favorited" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104041803"]]
  [1m[35m (21.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGenres (20210104043143)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (46.9ms)[0m  [1m[35mCREATE TABLE "genres" ("id" bigserial primary key, "name" character varying(64), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "genres_movies" ("movie_id" bigint, "genre_id" bigint)[0m
  [1m[35m (59.7ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_movie_id" ON "genres_movies"  ("movie_id")[0m
  [1m[35m (53.2ms)[0m  [1m[35mCREATE  INDEX  "index_genres_movies_on_genre_id" ON "genres_movies"  ("genre_id")[0m
  [1m[35m (50.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_genres_movies_on_movie_id_and_genre_id" ON "genres_movies"  ("movie_id", "genre_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104043143"]]
  [1m[35m (10.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateViewers (20210104045836)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (38.1ms)[0m  [1m[35mCREATE TABLE "viewers" ("id" bigserial primary key, "username" character varying(20), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "movies_viewers" ("movie_id" bigint, "viewer_id" bigint)[0m
  [1m[35m (41.2ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_movie_id" ON "movies_viewers"  ("movie_id")[0m
  [1m[35m (99.7ms)[0m  [1m[35mCREATE  INDEX  "index_movies_viewers_on_viewer_id" ON "movies_viewers"  ("viewer_id")[0m
  [1m[35m (51.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_movies_viewers_on_movie_id_and_viewer_id" ON "movies_viewers"  ("movie_id", "viewer_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210104045836"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-01-05 05:25:52.528807"], ["updated_at", "2021-01-05 05:25:52.528807"]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4586863541625385125)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mViewer Destroy (0.3ms)[0m  [1m[31mDELETE FROM "viewers"[0m
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mMovie Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies"[0m
  [1m[36mGenre Destroy (0.3ms)[0m  [1m[31mDELETE FROM "genres"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "email", "encrypted_password") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2021-01-05 05:25:55.827598"], ["updated_at", "2021-01-05 05:25:55.827598"], ["email", "admin@example.com"], ["encrypted_password", "$2a$12$aW2le5nlce2t47Hc5PdWKOjZ08cchTiPdntSBpsQt9vXA/zm8HlD2"]]
  [1m[35m (28.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.7ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Action"], ["created_at", "2021-01-05 05:25:55.869968"], ["updated_at", "2021-01-05 05:25:55.869968"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Adventure"], ["created_at", "2021-01-05 05:25:55.881990"], ["updated_at", "2021-01-05 05:25:55.881990"]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Animation"], ["created_at", "2021-01-05 05:25:55.892982"], ["updated_at", "2021-01-05 05:25:55.892982"]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Biography"], ["created_at", "2021-01-05 05:25:55.904195"], ["updated_at", "2021-01-05 05:25:55.904195"]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Comedy"], ["created_at", "2021-01-05 05:25:55.915251"], ["updated_at", "2021-01-05 05:25:55.915251"]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Crime"], ["created_at", "2021-01-05 05:25:55.926475"], ["updated_at", "2021-01-05 05:25:55.926475"]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Documentary"], ["created_at", "2021-01-05 05:25:55.937686"], ["updated_at", "2021-01-05 05:25:55.937686"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Drama"], ["created_at", "2021-01-05 05:25:55.948544"], ["updated_at", "2021-01-05 05:25:55.948544"]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fantasy"], ["created_at", "2021-01-05 05:25:55.959897"], ["updated_at", "2021-01-05 05:25:55.959897"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "History"], ["created_at", "2021-01-05 05:25:55.970490"], ["updated_at", "2021-01-05 05:25:55.970490"]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horror"], ["created_at", "2021-01-05 05:25:55.981727"], ["updated_at", "2021-01-05 05:25:55.981727"]]
  [1m[35m (12.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.6ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Musical"], ["created_at", "2021-01-05 05:25:56.005130"], ["updated_at", "2021-01-05 05:25:56.005130"]]
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mystery"], ["created_at", "2021-01-05 05:25:56.015165"], ["updated_at", "2021-01-05 05:25:56.015165"]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Romance"], ["created_at", "2021-01-05 05:25:56.026157"], ["updated_at", "2021-01-05 05:25:56.026157"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.6ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sci-Fi"], ["created_at", "2021-01-05 05:25:56.037546"], ["updated_at", "2021-01-05 05:25:56.037546"]]
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.4ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Thriller"], ["created_at", "2021-01-05 05:25:56.048632"], ["updated_at", "2021-01-05 05:25:56.048632"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "War"], ["created_at", "2021-01-05 05:25:56.059843"], ["updated_at", "2021-01-05 05:25:56.059843"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGenre Create (0.3ms)[0m  [1m[32mINSERT INTO "genres" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Western"], ["created_at", "2021-01-05 05:25:56.070829"], ["updated_at", "2021-01-05 05:25:56.070829"]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.5ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "STAR WARS: THE RISE OF SKYWALKER"], ["year", 1977], ["director", "J.J. Abrams"], ["main_star", "Mark Hammil, Adam Driver"], ["description", "When it's discovered that the evil Emperor Palpatine did not die at the hands of Darth Vader, the rebels must race against the clock to find out his whereabouts. Finn and Poe lead the Resistance to put a stop to the First Order's plans to form a new Empire"], ["created_at", "2021-01-05 05:25:56.105548"], ["updated_at", "2021-01-05 05:25:56.105548"]]
  [1m[36mMovie::HABTM_Genres Create (0.6ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 5]]
  [1m[36mMovie::HABTM_Genres Create (0.3ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 13]]
  [1m[36mMovie::HABTM_Genres Create (0.3ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["genre_id", 14]]
  [1m[35m (10.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres" ORDER BY random() LIMIT $1[0m  [["LIMIT", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMovie Create (0.4ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "THE LORD OF THE RINGS - THE RETURN OF THE KING"], ["year", 2003], ["director", "Peter Jackson"], ["main_star", "Elijah Wood, Ian Mc Kellen"], ["description", "The culmination of nearly 10 years' work and conclusion\nto Peter Jackson's epic trilogy based on the timeless J.R.R. Tolkien classic"], ["created_at", "2021-01-05 05:25:56.130889"], ["updated_at", "2021-01-05 05:25:56.130889"]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 1]]
  [1m[36mMovie::HABTM_Genres Create (0.3ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 8]]
  [1m[36mMovie::HABTM_Genres Create (0.2ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["genre_id", 7]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.5ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user1_example"], ["created_at", "2021-01-05 05:25:56.155317"], ["updated_at", "2021-01-05 05:25:56.155317"]]
  [1m[35m (10.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user2_example"], ["created_at", "2021-01-05 05:25:56.170651"], ["updated_at", "2021-01-05 05:25:56.170651"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "user3_example"], ["created_at", "2021-01-05 05:25:56.181981"], ["updated_at", "2021-01-05 05:25:56.181981"]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
Started DELETE "/admin/logout" for ::1 at 2021-01-05 12:26:09 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"wtARPDg9u6amd+MdqtmjGFxjvU0x8TPrJVa/8HAaoE+gkF3//OaZfy+XpYac8w6qwIP22wdGU9spfQXrScs+WA=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 23ms (ActiveRecord: 5.1ms | Allocations: 9736)


Started GET "/" for ::1 at 2021-01-05 12:26:09 +0700
Processing by Admin::MoviesController#index as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms | Allocations: 408)


Started GET "/admin/login" for ::1 at 2021-01-05 12:26:09 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.9ms | Allocations: 421)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2811)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 105ms (Views: 103.9ms | ActiveRecord: 0.0ms | Allocations: 54195)


Started POST "/admin/login" for ::1 at 2021-01-05 12:26:14 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"CY74zgR4wtWSSDeXygaYYU0WRGJGPCaqRv3XSwOjfzFrzrQNwKPgDBuocQz8LDXT0fYP9HCLRppK1m1QOnLhJg==", "user"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 286ms (ActiveRecord: 0.4ms | Allocations: 5344)


Started GET "/" for ::1 at 2021-01-05 12:26:14 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 19.7ms | Allocations: 6294)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 19.1ms | ActiveRecord: 6.2ms | Allocations: 16885)


Started GET "/admin/users" for ::1 at 2021-01-05 12:26:20 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 48.3ms | Allocations: 11390)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 45.5ms | ActiveRecord: 8.5ms | Allocations: 18557)


Started POST "/api/v1/login" for ::1 at 2021-01-05 12:26:30 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"_test_user", "login"=>{"username"=>"_test_user"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "_test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:8:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "_test_user"], ["created_at", "2021-01-05 05:26:30.427956"], ["updated_at", "2021-01-05 05:26:30.427956"]]
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  [1m[35m (18.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 3.8ms | Allocations: 1429)
Completed 200 OK in 34ms (Views: 4.8ms | ActiveRecord: 20.2ms | Allocations: 5557)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-05 12:26:37 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>5, "favorite"=>{"username"=>"test_user", "movie_id"=>5}}
  [1m[36mViewer Load (0.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
Filter chain halted as :check_username_params rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1018)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-05 12:26:47 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>5, "favorite"=>{"username"=>"test_user", "movie_id"=>5}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
Filter chain halted as :check_username_params rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 777)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-05 12:26:49 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>5, "favorite"=>{"username"=>"test_user", "movie_id"=>5}}
  [1m[36mViewer Load (1.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
Filter chain halted as :check_username_params rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 792)


Started POST "/api/v1/login" for ::1 at 2021-01-05 12:27:04 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user", "login"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:8:in `login_viewer'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  [1m[36mViewer Create (0.4ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "test_user"], ["created_at", "2021-01-05 05:27:04.447233"], ["updated_at", "2021-01-05 05:27:04.447233"]]
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  [1m[35m (40.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.9ms | Allocations: 1039)
Completed 200 OK in 54ms (Views: 3.2ms | ActiveRecord: 42.6ms | Allocations: 4508)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-05 12:27:09 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>5, "favorite"=>{"username"=>"test_user", "movie_id"=>5}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
Couldn't find Movie with 'id'=5
Completed 404 Not Found in 6ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 2291)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-05 12:27:13 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>1, "favorite"=>{"username"=>"test_user", "movie_id"=>1}}
  [1m[36mViewer Load (0.7ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:59:in `set_viewer'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:55:in `find_movie'
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMoviesViewer Create (0.7ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 1], ["viewer_id", 5]]
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[35m (54.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMovie Update All (22.7ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 1]]
  ↳ app/models/viewer.rb:16:in `add_favorite'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.7ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:12
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 23.5ms | Allocations: 8591)
Completed 200 OK in 148ms (Views: 18.8ms | ActiveRecord: 88.7ms | Allocations: 18554)


Started GET "/admin/users" for ::1 at 2021-01-05 12:27:16 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 5993)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 16.8ms | ActiveRecord: 3.7ms | Allocations: 11088)


Started GET "/admin/movies" for ::1 at 2021-01-05 12:27:19 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (1.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 8.1ms | ActiveRecord: 1.9ms | Allocations: 6013)


Started DELETE "/admin/movies/1" for ::1 at 2021-01-05 12:27:22 +0700
Processing by Admin::MoviesController#destroy as HTML
  Parameters: {"authenticity_token"=>"ElisrwV6DXybUVSL0Q20gm7cRv27MwXO13xofL0eb8KbZbCXWrlTPI7kqJbsbfbAP58ZjFndrRiz6SToC9IC3g==", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:71:in `set_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[36mMoviesViewer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[36mMovie::HABTM_Genres Destroy (0.2ms)[0m  [1m[31mDELETE FROM "genres_movies" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 1]]
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[36mMovie Destroy (0.3ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[35m (28.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
Redirected to http://localhost:3000/admin/movies
Completed 302 Found in 41ms (ActiveRecord: 30.8ms | Allocations: 6062)


Started GET "/admin/movies" for ::1 at 2021-01-05 12:27:22 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 832)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.5ms | Allocations: 5905)


Started GET "/admin/users" for ::1 at 2021-01-05 12:27:24 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 17.1ms | Allocations: 5996)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 18.9ms | ActiveRecord: 3.9ms | Allocations: 11066)


Started GET "/admin/users" for ::1 at 2021-01-05 12:27:25 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 17.0ms | ActiveRecord: 3.5ms | Allocations: 11069)


Started GET "/admin/movies" for ::1 at 2021-01-05 12:27:46 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 832)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 8.7ms | ActiveRecord: 0.6ms | Allocations: 5899)


Started GET "/admin/movies/new" for ::1 at 2021-01-05 12:27:47 +0700
Processing by Admin::MoviesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/new.html.erb within layouts/application
  [1m[36mGenre Load (0.6ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 67.4ms | Allocations: 10364)
  Rendered admin/movies/new.html.erb within layouts/application (Duration: 77.5ms | Allocations: 10669)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 89ms (Views: 83.8ms | ActiveRecord: 1.0ms | Allocations: 15755)


Started POST "/admin/movies" for ::1 at 2021-01-05 12:27:56 +0700
Processing by Admin::MoviesController#create as HTML
  Parameters: {"authenticity_token"=>"F4iyZTMK037a0G6/yz5MiFXEegwp1RfKpFymXh9l0S2L1i9ZqzoV3V/HwJESVFqWLG3ECJWXNOZGtWbW9M+hfg==", "movie"=>{"name"=>"asdfasdf", "genre_ids"=>["", "1"], "year"=>"1921", "director"=>"asdfasd", "main_star"=>"asdfas", "description"=>"asdf"}, "commit"=>"Create Movie"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/admin/movies_controller.rb:27:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[36mMovie Create (0.6ms)[0m  [1m[32mINSERT INTO "movies" ("name", "year", "director", "main_star", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "asdfasdf"], ["year", 1921], ["director", "asdfasd"], ["main_star", "asdfas"], ["description", "asdf"], ["created_at", "2021-01-05 05:27:56.035942"], ["updated_at", "2021-01-05 05:27:56.035942"]]
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[36mMovie::HABTM_Genres Create (0.3ms)[0m  [1m[32mINSERT INTO "genres_movies" ("movie_id", "genre_id") VALUES ($1, $2)[0m  [["movie_id", 3], ["genre_id", 1]]
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
  [1m[35m (43.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/movies_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/admin/movies/3
Completed 302 Found in 60ms (ActiveRecord: 45.4ms | Allocations: 8450)


Started GET "/admin/movies/3" for ::1 at 2021-01-05 12:27:56 +0700
Processing by Admin::MoviesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:71:in `set_movie'
  Rendering admin/movies/show.html.erb within layouts/application
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/views/admin/movies/show.html.erb:30:in `map'
  Rendered admin/movies/show.html.erb within layouts/application (Duration: 15.7ms | Allocations: 1327)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 19.8ms | ActiveRecord: 1.1ms | Allocations: 7081)


Started GET "/admin/movies" for ::1 at 2021-01-05 12:27:57 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.8ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 931)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 7.3ms | ActiveRecord: 1.7ms | Allocations: 5989)


Started DELETE "/admin/movies/3" for ::1 at 2021-01-05 12:28:00 +0700
Processing by Admin::MoviesController#destroy as HTML
  Parameters: {"authenticity_token"=>"U1RNHYvchaLysNH0HGxIPFtC61rIkgBJG8nbLdX1wAPaaVEl1B/b4ucFLekhDAp+CgG0Kyp8qJ9/XJe5YzmtHw==", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:71:in `set_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[36mMoviesViewer Destroy (1.0ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[36mMovie::HABTM_Genres Destroy (2.6ms)[0m  [1m[31mDELETE FROM "genres_movies" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[36mMovie Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies" WHERE "movies"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
  [1m[35m (25.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/movies_controller.rb:61:in `destroy'
Redirected to http://localhost:3000/admin/movies
Completed 302 Found in 43ms (ActiveRecord: 30.3ms | Allocations: 5898)


Started GET "/admin/movies" for ::1 at 2021-01-05 12:28:00 +0700
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 832)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 7.1ms | ActiveRecord: 0.6ms | Allocations: 5918)


Started GET "/admin/movies/2/edit" for ::1 at 2021-01-05 12:28:01 +0700
Processing by Admin::MoviesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/admin/movies_controller.rb:71:in `set_movie'
  Rendering admin/movies/edit.html.erb within layouts/application
  [1m[36mGenre Load (0.5ms)[0m  [1m[34mSELECT "genres".* FROM "genres"[0m
  ↳ app/views/admin/movies/_form.html.erb:22
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "genres"."id" FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/admin/movies/_form.html.erb:22
  Rendered admin/movies/_form.html.erb (Duration: 14.8ms | Allocations: 7296)
  Rendered admin/movies/edit.html.erb within layouts/application (Duration: 37.3ms | Allocations: 7459)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 39.9ms | ActiveRecord: 1.9ms | Allocations: 13203)


Started GET "/admin/movies" for ::1 at 2021-01-05 12:28:31 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::MoviesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/movies/index.html.erb within layouts/application
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/movies/index.html.erb:20:in `each_with_index'
  Rendered admin/movies/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 6327)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 139ms (Views: 105.2ms | ActiveRecord: 7.9ms | Allocations: 68884)


Started GET "/admin/users" for ::1 at 2021-01-05 12:28:33 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 31.1ms | Allocations: 13562)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 28.0ms | ActiveRecord: 9.1ms | Allocations: 20722)


Started DELETE "/admin/users/4" for ::1 at 2021-01-05 12:28:36 +0700
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"Nkes1aXXtREGoqMJrJqZshQNh5ewMWxs9+9A4Hry3e+/erDt+hTrURMXXxSR+tvwRU7Y5lLfxLqTegx0zD6w8w==", "id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/admin/users_controller.rb:25:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 4]]
  ↳ app/models/viewer.rb:22:in `adjust_favorite_number'
  [1m[36mMoviesViewer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND 1=0[0m  [["viewer_id", 4]]
  ↳ app/models/viewer.rb:25:in `adjust_favorite_number'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin/users_controller.rb:15:in `destroy'
  [1m[36mViewer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "viewers" WHERE "viewers"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/admin/users_controller.rb:15:in `destroy'
  [1m[35m (37.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin/users_controller.rb:15:in `destroy'
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 54ms (ActiveRecord: 40.1ms | Allocations: 6571)


Started GET "/admin/users" for ::1 at 2021-01-05 12:28:36 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (1.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 4932)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 18.7ms | ActiveRecord: 3.9ms | Allocations: 10007)


Started GET "/api/v1/movies" for ::1 at 2021-01-05 12:28:57 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_userxasdfadsf", "movie"=>{}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_userxasdfadsf"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
Filter chain halted as :check_username_params rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1010)


Started GET "/api/v1/movies" for ::1 at 2021-01-05 12:29:16 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_userxasdfadsf", "movie"=>{}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_userxasdfadsf"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
Filter chain halted as :check_username_params rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 0.3ms | ActiveRecord: 3.3ms | Allocations: 2442)


Started GET "/api/v1/movies" for ::1 at 2021-01-05 12:29:23 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_userxasdfadsf", "movie"=>{}}
  [1m[36mViewer Load (0.8ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_userxasdfadsf"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
Filter chain halted as :check_username_params rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 774)


Started POST "/api/v1/login" for ::1 at 2021-01-05 12:29:27 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user", "login"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:8:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 11.9ms | Allocations: 2740)
Completed 200 OK in 42ms (Views: 8.7ms | ActiveRecord: 9.3ms | Allocations: 9446)


Started POST "/api/v1/login" for ::1 at 2021-01-05 12:29:30 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user", "login"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:8:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 3.4ms | Allocations: 1039)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.9ms | Allocations: 2118)


Started POST "/api/v1/login" for ::1 at 2021-01-05 12:29:33 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user1", "login"=>{"username"=>"test_user1"}}
  [1m[36mViewer Load (1.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:8:in `login_viewer'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  [1m[36mViewer Create (0.6ms)[0m  [1m[32mINSERT INTO "viewers" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "test_user1"], ["created_at", "2021-01-05 05:29:33.969800"], ["updated_at", "2021-01-05 05:29:33.969800"]]
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/login_controller.rb:14:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 2.7ms | Allocations: 1040)
Completed 200 OK in 30ms (Views: 2.7ms | ActiveRecord: 19.2ms | Allocations: 4781)


Started GET "/admin/users" for ::1 at 2021-01-05 12:35:38 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 26.8ms | Allocations: 14589)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 28.7ms | ActiveRecord: 7.6ms | Allocations: 26095)


Started GET "/admin/users" for ::1 at 2021-01-05 12:35:39 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 5996)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 20.2ms | ActiveRecord: 5.7ms | Allocations: 11070)


Started GET "/admin/users" for ::1 at 2021-01-05 12:35:40 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 19.9ms | Allocations: 5996)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 20.7ms | ActiveRecord: 4.9ms | Allocations: 11086)


Started GET "/admin/users" for ::1 at 2021-01-05 12:35:40 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 16.0ms | Allocations: 5996)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 17.6ms | ActiveRecord: 4.0ms | Allocations: 11082)


Started GET "/admin/users" for ::1 at 2021-01-05 12:35:48 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 16.7ms | ActiveRecord: 3.3ms | Allocations: 11064)


Started GET "/admin/users" for ::1 at 2021-01-05 12:35:50 +0700
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/users/index.html.erb within layouts/application
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/admin/users/index.html.erb:16:in `each_with_index'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 1]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 2]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 3]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/admin/users/index.html.erb:19
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/admin/users/index.html.erb:19
  Rendered admin/users/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 5997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 21.8ms | ActiveRecord: 3.5ms | Allocations: 11096)


Started POST "/api/v1/login" for ::1 at 2021-01-05 12:46:45 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user1", "login"=>{"username"=>"test_user1"}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:8:in `login_viewer'
  Rendering api/v1/movies/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.7ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/api/v1/movies/favorited_movies.json.jbuilder:3
  Rendered api/v1/movies/favorited_movies.json.jbuilder (Duration: 5.7ms | Allocations: 2947)
Completed 200 OK in 25ms (Views: 5.8ms | ActiveRecord: 1.4ms | Allocations: 12469)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-05 12:46:51 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>1, "favorite"=>{"username"=>"test_user", "movie_id"=>1}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:52:in `find_movie'
Couldn't find Movie with 'id'=1
Completed 404 Not Found in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 4991)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-05 12:46:53 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>1, "favorite"=>{"username"=>"test_user", "movie_id"=>1}}
  [1m[36mViewer Load (1.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:52:in `find_movie'
Couldn't find Movie with 'id'=1
Completed 404 Not Found in 13ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 2164)


Started GET "/api/v1/movies" for ::1 at 2021-01-05 12:46:55 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_userxasdfadsf", "movie"=>{}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_userxasdfadsf"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
Filter chain halted as :check_username_params rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 836)


Started GET "/api/v1/movies" for ::1 at 2021-01-05 12:47:03 +0700
Processing by Api::V1::MoviesController#index as JSON
  Parameters: {"username"=>"test_user1", "movie"=>{}}
  [1m[36mViewer Load (1.2ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mMovie Load (0.8ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/controllers/api/v1/movies_controller.rb:9:in `index'
  Rendering api/v1/movies/index.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" LIMIT $1 OFFSET $2[0m  [["LIMIT", 10], ["OFFSET", 0]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mHABTM_Genres Load (0.3ms)[0m  [1m[34mSELECT "genres_movies".* FROM "genres_movies" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" WHERE "genres"."id" IN ($1, $2, $3)[0m  [["id", 1], ["id", 8], ["id", 7]]
  ↳ app/views/api/v1/movies/index.json.jbuilder:3
  Rendered api/v1/movies/index.json.jbuilder (Duration: 34.0ms | Allocations: 15125)
Completed 200 OK in 44ms (Views: 27.8ms | ActiveRecord: 9.1ms | Allocations: 17268)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-05 12:47:17 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>2, "favorite"=>{"username"=>"test_user", "movie_id"=>2}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:52:in `find_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMoviesViewer Create (4.2ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 5]]
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[35m (22.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMovie Update All (65.3ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:16:in `add_favorite'
Completed 500 Internal Server Error in 117ms (ActiveRecord: 94.2ms | Allocations: 11871)


  
ActionView::MissingTemplate (Missing template api/v1/favorites/favorited_movies, api/v1/api/favorited_movies, application/favorited_movies with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder, :haml]}. Searched in:
  * "/home/bainur/projects/miniflix/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/kaminari-core-1.2.1/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.4/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.4/app/views"
):
  
app/controllers/api/v1/favorites_controller.rb:20:in `assign_favorite'
Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-05 12:48:46 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>2, "favorite"=>{"username"=>"test_user", "movie_id"=>2}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:52:in `find_movie'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMoviesViewer Create (1.1ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 5]]
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_movies_viewers_on_movie_id_and_viewer_id"
DETAIL:  Key (movie_id, viewer_id)=(2, 5) already exists.

Completed 400 Bad Request in 12ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 6202)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-05 12:48:54 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>2, "favorite"=>{"username"=>"test_user", "movie_id"=>2}}
  [1m[36mViewer Load (0.7ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:52:in `find_movie'
  [1m[36mMovie Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:25:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:9:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 5], ["movie_id", 2]]
  ↳ app/models/viewer.rb:9:in `remove_favorite'
  [1m[35m (25.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:9:in `remove_favorite'
  [1m[36mMovie Update All (9.8ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) - $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:10:in `remove_favorite'
  Rendering api/v1/favorites/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/favorites/favorited_movies.json.jbuilder:3
  Rendered api/v1/favorites/favorited_movies.json.jbuilder (Duration: 2.5ms | Allocations: 1000)
Completed 200 OK in 56ms (Views: 3.2ms | ActiveRecord: 38.4ms | Allocations: 7047)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-05 12:49:02 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>2, "favorite"=>{"username"=>"test_user", "movie_id"=>2}}
  [1m[36mViewer Load (0.7ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:52:in `find_movie'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMoviesViewer Create (4.1ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 5]]
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[35m (29.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMovie Update All (9.5ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:16:in `add_favorite'
  Rendering api/v1/favorites/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/favorites/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.4ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/favorites/favorited_movies.json.jbuilder:12
  Rendered api/v1/favorites/favorited_movies.json.jbuilder (Duration: 5.7ms | Allocations: 3927)
Completed 200 OK in 63ms (Views: 5.3ms | ActiveRecord: 46.0ms | Allocations: 9499)


Started POST "/api/v1/remove_favorite" for ::1 at 2021-01-05 12:49:07 +0700
Processing by Api::V1::FavoritesController#remove_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>2, "favorite"=>{"username"=>"test_user", "movie_id"=>2}}
  [1m[36mViewer Load (0.8ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (1.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:52:in `find_movie'
  [1m[36mMovie Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1 AND "movies"."id" = $2 LIMIT $3[0m  [["viewer_id", 5], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:25:in `remove_favorite'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:9:in `remove_favorite'
  [1m[36mMoviesViewer Destroy (0.5ms)[0m  [1m[31mDELETE FROM "movies_viewers" WHERE "movies_viewers"."viewer_id" = $1 AND "movies_viewers"."movie_id" = $2[0m  [["viewer_id", 5], ["movie_id", 2]]
  ↳ app/models/viewer.rb:9:in `remove_favorite'
  [1m[35m (22.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:9:in `remove_favorite'
  [1m[36mMovie Update All (9.5ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) - $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:10:in `remove_favorite'
  Rendering api/v1/favorites/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.9ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/favorites/favorited_movies.json.jbuilder:3
  Rendered api/v1/favorites/favorited_movies.json.jbuilder (Duration: 2.6ms | Allocations: 911)
Completed 200 OK in 58ms (Views: 2.3ms | ActiveRecord: 36.7ms | Allocations: 6593)


Started POST "/api/v1/login" for ::1 at 2021-01-05 12:49:40 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user1", "login"=>{"username"=>"test_user1"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:8:in `login_viewer'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 3.9ms | Allocations: 10578)


  
ActionView::MissingTemplate (Missing template favorites/favorited_movies with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder, :haml]}. Searched in:
  * "/home/bainur/projects/miniflix/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/rails_admin-f0c46f1e128b/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/kaminari-core-1.2.1/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.4/app/views"
  * "/home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.4/app/views"
):
  
app/controllers/api/v1/login_controller.rb:21:in `login_viewer'
Started POST "/api/v1/login" for ::1 at 2021-01-05 12:50:03 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user1", "login"=>{"username"=>"test_user1"}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:8:in `login_viewer'
  Rendering api/v1/favorites/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/api/v1/favorites/favorited_movies.json.jbuilder:3
  Rendered api/v1/favorites/favorited_movies.json.jbuilder (Duration: 9.5ms | Allocations: 3077)
Completed 200 OK in 32ms (Views: 5.3ms | ActiveRecord: 9.0ms | Allocations: 12639)


Started POST "/api/v1/assign_favorite" for ::1 at 2021-01-05 12:50:08 +0700
Processing by Api::V1::FavoritesController#assign_favorite as JSON
  Parameters: {"username"=>"test_user", "movie_id"=>2, "favorite"=>{"username"=>"test_user", "movie_id"=>2}}
  [1m[36mViewer Load (0.3ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (1.7ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:56:in `set_viewer'
  [1m[36mMovie Load (0.6ms)[0m  [1m[34mSELECT "movies".* FROM "movies" WHERE "movies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:52:in `find_movie'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMoviesViewer Create (0.3ms)[0m  [1m[32mINSERT INTO "movies_viewers" ("movie_id", "viewer_id") VALUES ($1, $2)[0m  [["movie_id", 2], ["viewer_id", 5]]
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[35m (33.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/viewer.rb:14:in `add_favorite'
  [1m[36mMovie Update All (70.2ms)[0m  [1m[33mUPDATE "movies" SET "favorited" = COALESCE("favorited", 0) + $1 WHERE "movies"."id" = $2[0m  [["favorited", 1], ["id", 2]]
  ↳ app/models/viewer.rb:16:in `add_favorite'
  Rendering api/v1/favorites/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.4ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/favorites/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.3ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/favorites/favorited_movies.json.jbuilder:12
  Rendered api/v1/favorites/favorited_movies.json.jbuilder (Duration: 20.9ms | Allocations: 8522)
Completed 200 OK in 159ms (Views: 17.0ms | ActiveRecord: 113.0ms | Allocations: 20276)


Started POST "/api/v1/login" for ::1 at 2021-01-05 12:50:11 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user1", "login"=>{"username"=>"test_user1"}}
  [1m[36mViewer Load (0.4ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:8:in `login_viewer'
  Rendering api/v1/favorites/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/api/v1/favorites/favorited_movies.json.jbuilder:3
  Rendered api/v1/favorites/favorited_movies.json.jbuilder (Duration: 1.9ms | Allocations: 1039)
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.6ms | Allocations: 2117)


Started POST "/api/v1/login" for ::1 at 2021-01-05 12:50:12 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user1", "login"=>{"username"=>"test_user1"}}
  [1m[36mViewer Load (0.6ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user1"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:8:in `login_viewer'
  Rendering api/v1/favorites/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.3ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 6]]
  ↳ app/views/api/v1/favorites/favorited_movies.json.jbuilder:3
  Rendered api/v1/favorites/favorited_movies.json.jbuilder (Duration: 2.3ms | Allocations: 1039)
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 0.9ms | Allocations: 2117)


Started GET "/api/v1/fav_movies" for ::1 at 2021-01-05 12:50:22 +0700
Processing by Api::V1::FavoritesController#fav_movies as JSON
  Parameters: {"username"=>"test_user", "favorite"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.9ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/api_controller.rb:21:in `check_username_params'
  [1m[36mCACHE Viewer Load (0.0ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/favorites_controller.rb:35:in `fav_movies'
  Rendering api/v1/favorites/favorited_movies.json.jbuilder
  [1m[36mMovie Load (0.5ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/favorites/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (1.9ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/favorites/favorited_movies.json.jbuilder:12
  Rendered api/v1/favorites/favorited_movies.json.jbuilder (Duration: 6.3ms | Allocations: 2322)
Completed 200 OK in 11ms (Views: 4.4ms | ActiveRecord: 3.3ms | Allocations: 3784)


Started POST "/api/v1/login" for ::1 at 2021-01-05 12:50:37 +0700
Processing by Api::V1::LoginController#login_viewer as JSON
  Parameters: {"username"=>"test_user", "login"=>{"username"=>"test_user"}}
  [1m[36mViewer Load (0.5ms)[0m  [1m[34mSELECT "viewers".* FROM "viewers" WHERE "viewers"."username" = $1 ORDER BY "viewers"."id" ASC LIMIT $2[0m  [["username", "test_user"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/login_controller.rb:8:in `login_viewer'
  Rendering api/v1/favorites/favorited_movies.json.jbuilder
  [1m[36mMovie Load (2.2ms)[0m  [1m[34mSELECT "movies".* FROM "movies" INNER JOIN "movies_viewers" ON "movies"."id" = "movies_viewers"."movie_id" WHERE "movies_viewers"."viewer_id" = $1[0m  [["viewer_id", 5]]
  ↳ app/views/api/v1/favorites/favorited_movies.json.jbuilder:3
  [1m[36mGenre Load (0.8ms)[0m  [1m[34mSELECT "genres".* FROM "genres" INNER JOIN "genres_movies" ON "genres"."id" = "genres_movies"."genre_id" WHERE "genres_movies"."movie_id" = $1[0m  [["movie_id", 2]]
  ↳ app/views/api/v1/favorites/favorited_movies.json.jbuilder:12
  Rendered api/v1/favorites/favorited_movies.json.jbuilder (Duration: 11.8ms | Allocations: 2322)
Completed 200 OK in 16ms (Views: 9.4ms | ActiveRecord: 3.4ms | Allocations: 3400)


Started GET "/" for ::1 at 2021-01-05 13:22:45 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::MoviesController#index as HTML
Completed 401 Unauthorized in 12ms (ActiveRecord: 0.0ms | Allocations: 4073)


Started GET "/admin/login" for ::1 at 2021-01-05 13:22:45 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 421)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 19.6ms | Allocations: 3538)
Started GET "/admin/login" for ::1 at 2021-01-05 13:24:24 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 421)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 5600)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/bainur/projects/miniflix_ngapung/miniflix/public/packs
[Webpacker] Hash: 76145d9ce4575ebaa29b
Version: webpack 4.44.2
Time: 1841ms
Built at: 01/05/2021 1:24:29 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-c229f7c7014cf8c8d494.js    124 KiB  application  [emitted] [immutable]  application
js/application-c229f7c7014cf8c8d494.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-c229f7c7014cf8c8d494.js js/application-c229f7c7014cf8c8d494.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 4915ms (Views: 4897.3ms | ActiveRecord: 4.1ms | Allocations: 317132)


Started GET "/admin/login" for ::1 at 2021-01-05 13:24:36 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/shared/_links.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered /home/bainur/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/devise-4.7.3/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 956)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 4734)


